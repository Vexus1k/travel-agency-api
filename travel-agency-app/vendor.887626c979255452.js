(self.webpackChunktravel_agency_app=self.webpackChunktravel_agency_app||[]).push([[736],{7293:(Nn,lt,Y)=>{"use strict";Y.d(lt,{nm:()=>Ks});var a=Y(2858);Y(2560),Y(2779);var ct=Y(1670),Se=Y(8559),Je=Y(4692),Yt=Y(7748),Ut=Y(8118);const ft=new Map,Ye={activated:!1,tokenObservers:[]},Zt={initialized:!1,enabled:!1};function en(Qe){return ft.get(Qe)||Object.assign({},Ye)}function Dn(){return Zt}const qi="https://content-firebaseappcheck.googleapis.com/v1",Ot="exchangeDebugToken",Ct={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Lt{constructor(We,gt,zt,un,mr){if(this.operation=We,this.retryPolicy=gt,this.getWaitDuration=zt,this.lowerBound=un,this.upperBound=mr,this.pending=null,this.nextErrorWaitInterval=un,un>mr)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(We){var gt=this;return(0,ct.Z)(function*(){gt.stop();try{gt.pending=new Yt.BH,yield function $t(Qe){return new Promise(We=>{setTimeout(We,Qe)})}(gt.getNextRun(We)),gt.pending.resolve(),yield gt.pending.promise,gt.pending=new Yt.BH,yield gt.operation(),gt.pending.resolve(),yield gt.pending.promise,gt.process(!0).catch(()=>{})}catch(zt){gt.retryPolicy(zt)?gt.process(!1).catch(()=>{}):gt.stop()}})()}getNextRun(We){if(We)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const gt=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),gt}}}const yn=new Yt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Ge(Qe){if(!en(Qe).activated)throw yn.create("use-before-activation",{appName:Qe.name})}function pt(Qe,We){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,ct.Z)(function*({url:Qe,body:We},gt){const zt={"Content-Type":"application/json"},un=gt.getImmediate({optional:!0});if(un){const mi=yield un.getHeartbeatsHeader();mi&&(zt["X-Firebase-Client"]=mi)}const mr={method:"POST",body:JSON.stringify(We),headers:zt};let Sr,Tr;try{Sr=yield fetch(Qe,mr)}catch(mi){throw yn.create("fetch-network-error",{originalErrorMessage:mi?.message})}if(200!==Sr.status)throw yn.create("fetch-status-error",{httpStatus:Sr.status});try{Tr=yield Sr.json()}catch(mi){throw yn.create("fetch-parse-error",{originalErrorMessage:mi?.message})}const qr=Tr.ttl.match(/^([\d.]+)(s)$/);if(!qr||!qr[2]||isNaN(Number(qr[1])))throw yn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Tr.ttl}`});const bs=1e3*Number(qr[1]),Fo=Date.now();return{token:Tr.token,expireTimeMillis:Fo+bs,issuedAtTimeMillis:Fo}})).apply(this,arguments)}function pr(Qe,We){const{projectId:gt,appId:zt,apiKey:un}=Qe.options;return{url:`${qi}/projects/${gt}/apps/${zt}:${Ot}?key=${un}`,body:{debug_token:We}}}const ii="firebase-app-check-database",rs=1,di="firebase-app-check-store";let wn=null;function fr(Qe,We){return br.apply(this,arguments)}function br(){return(br=(0,ct.Z)(function*(Qe,We){const zt=(yield function jr(){return wn||(wn=new Promise((Qe,We)=>{try{const gt=indexedDB.open(ii,rs);gt.onsuccess=zt=>{Qe(zt.target.result)},gt.onerror=zt=>{var un;We(yn.create("storage-open",{originalErrorMessage:null===(un=zt.target.error)||void 0===un?void 0:un.message}))},gt.onupgradeneeded=zt=>{0===zt.oldVersion&&zt.target.result.createObjectStore(di,{keyPath:"compositeKey"})}}catch(gt){We(yn.create("storage-open",{originalErrorMessage:gt?.message}))}}),wn)}()).transaction(di,"readwrite"),mr=zt.objectStore(di).put({compositeKey:Qe,value:We});return new Promise((Sr,Tr)=>{mr.onsuccess=qr=>{Sr()},zt.onerror=qr=>{var bs;Tr(yn.create("storage-set",{originalErrorMessage:null===(bs=qr.target.error)||void 0===bs?void 0:bs.message}))}})})).apply(this,arguments)}const ei=new Ut.Yd("@firebase/app-check");function Ii(Qe,We){return(0,Yt.hl)()?function Vr(Qe,We){return fr(function si(Qe){return`${Qe.options.appId}-${Qe.name}`}(Qe),We)}(Qe,We).catch(gt=>{ei.warn(`Failed to write token to IndexedDB. Error: ${gt}`)}):Promise.resolve()}function fs(){return Dn().enabled}function wr(){return vs.apply(this,arguments)}function vs(){return(vs=(0,ct.Z)(function*(){const Qe=Dn();if(Qe.enabled&&Qe.token)return Qe.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const oi={error:"UNKNOWN_ERROR"};function pi(Qe){return Yt.US.encodeString(JSON.stringify(Qe),!1)}function At(Qe){return Le.apply(this,arguments)}function Le(){return(Le=(0,ct.Z)(function*(Qe,We=!1){const gt=Qe.app;Ge(gt);const zt=en(gt);let mr,un=zt.token;if(un&&!ze(un)&&(zt.token=void 0,un=void 0),!un){const qr=yield zt.cachedTokenPromise;qr&&(ze(qr)?un=qr:yield Ii(gt,void 0))}if(!We&&un&&ze(un))return{token:un.token};let Tr,Sr=!1;if(fs()){zt.exchangeTokenPromise||(zt.exchangeTokenPromise=pt(pr(gt,yield wr()),Qe.heartbeatServiceProvider).finally(()=>{zt.exchangeTokenPromise=void 0}),Sr=!0);const qr=yield zt.exchangeTokenPromise;return yield Ii(gt,qr),zt.token=qr,{token:qr.token}}try{zt.exchangeTokenPromise||(zt.exchangeTokenPromise=zt.provider.getToken().finally(()=>{zt.exchangeTokenPromise=void 0}),Sr=!0),un=yield en(gt).exchangeTokenPromise}catch(qr){"appCheck/throttled"===qr.code?ei.warn(qr.message):ei.error(qr),mr=qr}return un?mr?Tr=ze(un)?{token:un.token,internalError:mr}:on(mr):(Tr={token:un.token},zt.token=un,yield Ii(gt,un)):Tr=on(mr),Sr&&function ut(Qe,We){const gt=en(Qe).tokenObservers;for(const zt of gt)try{"EXTERNAL"===zt.type&&null!=We.error?zt.error(We.error):zt.next(We)}catch{}}(gt,Tr),Tr})).apply(this,arguments)}function Ue(Qe){return ln.apply(this,arguments)}function ln(){return(ln=(0,ct.Z)(function*(Qe){const We=Qe.app;Ge(We);const{provider:gt}=en(We);if(fs()){const zt=yield wr(),{token:un}=yield pt(pr(We,zt),Qe.heartbeatServiceProvider);return{token:un}}{const{token:zt}=yield gt.getToken();return{token:zt}}})).apply(this,arguments)}function Ee(Qe,We){const gt=en(Qe),zt=gt.tokenObservers.filter(un=>un.next!==We);0===zt.length&&gt.tokenRefresher&&gt.tokenRefresher.isRunning()&&gt.tokenRefresher.stop(),gt.tokenObservers=zt}function ve(Qe){const{app:We}=Qe,gt=en(We);let zt=gt.tokenRefresher;zt||(zt=function Oe(Qe){const{app:We}=Qe;return new Lt((0,ct.Z)(function*(){let zt;if(zt=en(We).token?yield At(Qe,!0):yield At(Qe),zt.error)throw zt.error;if(zt.internalError)throw zt.internalError}),()=>!0,()=>{const gt=en(We);if(gt.token){let zt=gt.token.issuedAtTimeMillis+.5*(gt.token.expireTimeMillis-gt.token.issuedAtTimeMillis)+3e5;return zt=Math.min(zt,gt.token.expireTimeMillis-3e5),Math.max(0,zt-Date.now())}return 0},Ct.RETRIAL_MIN_WAIT,Ct.RETRIAL_MAX_WAIT)}(Qe),gt.tokenRefresher=zt),!zt.isRunning()&&gt.isTokenAutoRefreshEnabled&&zt.start()}function ze(Qe){return Qe.expireTimeMillis-Date.now()>0}function on(Qe){return{token:pi(oi),error:Qe}}class ke{constructor(We,gt){this.app=We,this.heartbeatServiceProvider=gt}_delete(){const{tokenObservers:We}=en(this.app);for(const gt of We)Ee(this.app,gt.next);return Promise.resolve()}}const $r="app-check-internal";!function Yi(){(0,Se._registerComponent)(new Je.wA("app-check",Qe=>function Me(Qe,We){return new ke(Qe,We)}(Qe.getProvider("app").getImmediate(),Qe.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Qe,We,gt)=>{Qe.getProvider($r).initialize()})),(0,Se._registerComponent)(new Je.wA($r,Qe=>function ge(Qe){return{getToken:We=>At(Qe,We),getLimitedUseToken:()=>Ue(Qe),addTokenListener:We=>function qt(Qe,We,gt,zt){const{app:un}=Qe,mr=en(un);if(mr.tokenObservers=[...mr.tokenObservers,{next:gt,error:zt,type:We}],mr.token&&ze(mr.token)){const Tr=mr.token;Promise.resolve().then(()=>{gt({token:Tr.token}),ve(Qe)}).catch(()=>{})}mr.cachedTokenPromise.then(()=>ve(Qe))}(Qe,"INTERNAL",We),removeTokenListener:We=>Ee(Qe.app,We)}}(Qe.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Se.registerVersion)("@firebase/app-check","0.8.0")}();class Ks{constructor(){return(0,a.vb)("app-check")}}typeof window<"u"&&window},3200:(Nn,lt,Y)=>{"use strict";Y.d(lt,{Y_:()=>Vt,ik:()=>xe});var a=Y(629),V=Y(635);Y(2779);const fe=(0,V.U)(Ft=>!!Ft),xe=Ft=>(0,a.z)(fe,(0,V.U)(Gt=>Gt||Ft)),Vt=Ft=>(0,a.z)(fe,(0,V.U)(Gt=>Gt&&Ft||!0))},6566:(Nn,lt,Y)=>{"use strict";Y.d(lt,{Zw:()=>$e});var a=Y(2560),V=Y(8803),ee=Y(635),fe=Y(9295),re=Y(4869);Y(1181);const je=(0,ee.U)(ht=>!!ht);let $e=(()=>{class ht{constructor(Kt,ct){this.router=Kt,this.auth=ct,this.canActivate=(Se,Je)=>{const Yt=Se.data.authGuardPipe||(()=>je);return this.auth.user.pipe((0,fe.q)(1),Yt(Se,Je),(0,ee.U)(Ut=>"boolean"==typeof Ut?Ut:Array.isArray(Ut)?this.router.createUrlTree(Ut):this.router.parseUrl(Ut)))}}}return ht.\u0275fac=function(Kt){return new(Kt||ht)(a.LFG(V.F0),a.LFG(re.zQ))},ht.\u0275prov=a.Yz7({token:ht,factory:ht.\u0275fac,providedIn:"any"}),ht})()},4869:(Nn,lt,Y)=>{"use strict";Y.d(lt,{zQ:()=>qi,rT:()=>Zt,f7:()=>Bn,L6:()=>ft,_Q:()=>Ye,lh:()=>en,Qv:()=>Ut,nw:()=>Dn});var a=Y(2560),V=Y(253),ee=Y(745),fe=Y(833),re=Y(3609),Te=Y(6646),je=Y(8728),$e=Y(2673),et=Y(635),De=Y(7654);class be extends V.x{constructor(Ot=1/0,Ct=1/0,Wt=De.l){super(),this._bufferSize=Ot,this._windowTime=Ct,this._timestampProvider=Wt,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Ct===1/0,this._bufferSize=Math.max(1,Ot),this._windowTime=Math.max(1,Ct)}next(Ot){const{isStopped:Ct,_buffer:Wt,_infiniteTimeWindow:Lt,_timestampProvider:$t,_windowTime:hn}=this;Ct||(Wt.push(Ot),!Lt&&Wt.push($t.now()+hn)),this._trimBuffer(),super.next(Ot)}_subscribe(Ot){this._throwIfClosed(),this._trimBuffer();const Ct=this._innerSubscribe(Ot),{_infiniteTimeWindow:Wt,_buffer:Lt}=this,$t=Lt.slice();for(let hn=0;hn<$t.length&&!Ot.closed;hn+=Wt?1:2)Ot.next($t[hn]);return this._checkFinalizedStatuses(Ot),Ct}_trimBuffer(){const{_bufferSize:Ot,_timestampProvider:Ct,_buffer:Wt,_infiniteTimeWindow:Lt}=this,$t=(Lt?1:2)*Ot;if(Ot<1/0&&$t<Wt.length&&Wt.splice(0,Wt.length-$t),!Lt){const hn=Ct.now();let yn=0;for(let vn=1;vn<Wt.length&&Wt[vn]<=hn;vn+=2)yn=vn;yn&&Wt.splice(0,yn+1)}}}var xe=Y(1203);function Vt(_t,Ot,Ct){let Wt,Lt=!1;return _t&&"object"==typeof _t?({bufferSize:Wt=1/0,windowTime:Ot=1/0,refCount:Lt=!1,scheduler:Ct}=_t):Wt=_t??1/0,(0,xe.B)({connector:()=>new be(Wt,Ot,Ct),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Lt})}var st=Y(155),Ft=Y(2971);function Gt(_t,Ot){return(0,Ft.m)(Ot)?(0,$e.w)(()=>_t,Ot):(0,$e.w)(()=>_t)}var at=Y(4317),ht=Y(116),Ce=Y(2858),Kt=Y(1879),ct=Y(4666),Se=Y(7293);Y(1181);const Ut=new a.OlP("angularfire2.auth.use-emulator"),ft=new a.OlP("angularfire2.auth.settings"),Ye=new a.OlP("angularfire2.auth.tenant-id"),Zt=new a.OlP("angularfire2.auth.langugage-code"),en=new a.OlP("angularfire2.auth.use-device-language"),Bn=new a.OlP("angularfire.auth.persistence"),Dn=(_t,Ot,Ct,Wt,Lt,$t,hn,yn)=>(0,Kt.cc)(`${_t.name}.auth`,"AngularFireAuth",_t.name,()=>{const vn=Ot.runOutsideAngular(()=>_t.auth());if(Ct&&vn.useEmulator(...Ct),Wt&&(vn.tenantId=Wt),vn.languageCode=Lt,$t&&vn.useDeviceLanguage(),hn)for(const[Ge,yt]of Object.entries(hn))vn.settings[Ge]=yt;return yn&&vn.setPersistence(yn),vn},[Ct,Wt,Lt,$t,hn,yn]);let qi=(()=>{class _t{constructor(Ct,Wt,Lt,$t,hn,yn,vn,Ge,yt,Ke,pt,Tn){const zn=new V.x,jn=(0,ee.of)(void 0).pipe((0,je.Q)(hn.outsideAngular),(0,$e.w)(()=>$t.runOutsideAngular(()=>Promise.resolve().then(Y.bind(Y,9379)))),(0,et.U)(()=>(0,Kt.on)(Ct,$t,Wt)),(0,et.U)(pr=>Dn(pr,$t,yn,Ge,yt,Ke,vn,pt)),Vt({bufferSize:1,refCount:!1}));if((0,ct.PM)(Lt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,ee.of)(null);else{jn.pipe((0,st.P)()).subscribe();const ii=jn.pipe((0,$e.w)(Jt=>Jt.getRedirectResult().then(wn=>wn,()=>null)),Ce.iC,Vt({bufferSize:1,refCount:!1})),rs=jn.pipe((0,$e.w)(Jt=>new fe.y(wn=>({unsubscribe:$t.runOutsideAngular(()=>Jt.onAuthStateChanged(jr=>wn.next(jr),jr=>wn.error(jr),()=>wn.complete()))})))),di=jn.pipe((0,$e.w)(Jt=>new fe.y(wn=>({unsubscribe:$t.runOutsideAngular(()=>Jt.onIdTokenChanged(jr=>wn.next(jr),jr=>wn.error(jr),()=>wn.complete()))}))));this.authState=ii.pipe(Gt(rs),(0,at.R)(hn.outsideAngular),(0,je.Q)(hn.insideAngular)),this.user=ii.pipe(Gt(di),(0,at.R)(hn.outsideAngular),(0,je.Q)(hn.insideAngular)),this.idToken=this.user.pipe((0,$e.w)(Jt=>Jt?(0,re.D)(Jt.getIdToken()):(0,ee.of)(null))),this.idTokenResult=this.user.pipe((0,$e.w)(Jt=>Jt?(0,re.D)(Jt.getIdTokenResult()):(0,ee.of)(null))),this.credential=(0,Te.T)(ii,zn,this.authState.pipe((0,ht.h)(Jt=>!Jt))).pipe((0,et.U)(Jt=>Jt?.user?Jt:null),(0,at.R)(hn.outsideAngular),(0,je.Q)(hn.insideAngular))}return(0,Kt.pX)(this,jn,$t,{spy:{apply:(pr,ii,rs)=>{(pr.startsWith("signIn")||pr.startsWith("createUser"))&&rs.then(di=>zn.next(di))}}})}}return _t.\u0275fac=function(Ct){return new(Ct||_t)(a.LFG(Kt.Dh),a.LFG(Kt.xv,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(Ce.HU),a.LFG(Ut,8),a.LFG(ft,8),a.LFG(Ye,8),a.LFG(Zt,8),a.LFG(en,8),a.LFG(Bn,8),a.LFG(Se.nm,8))},_t.\u0275prov=a.Yz7({token:_t,factory:_t.\u0275fac,providedIn:"any"}),_t})()},8262:(Nn,lt,Y)=>{"use strict";Y.d(lt,{ST:()=>C0});var a=Y(2560),V=Y(6936),ee=Y(833),fe=Y(3609),re=Y(745),Te=Y(2858),je=Y(4874),$e=Y(1944),et=Y(3945);function De(){return(0,$e.e)((r,e)=>{let t,s=!1;r.subscribe((0,et.x)(e,l=>{const p=t;t=l,s&&e.next([p,l]),s=!0}))})}var ft,be=Y(635),xe=Y(4351),Vt=Y(8977),st=Y(116),Ft=Y(1879),Gt=Y(4666),ht=(Y(9379),Y(5003)),Ce=Y(1670),Kt=Y(8559),ct=Y(4692),Se=Y(8118),Je=Y(7748),Yt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ut={},Ye=Ye||{},Zt=Yt||self;function en(r){var e=typeof r;return"array"==(e="object"!=e?e:r?Array.isArray(r)?"array":e:"null")||"object"==e&&"number"==typeof r.length}function Bn(r){var e=typeof r;return"object"==e&&null!=r||"function"==e}var qi="closure_uid_"+(1e9*Math.random()>>>0),It=0;function _t(r,e,t){return r.call.apply(r.bind,arguments)}function Ot(r,e,t){if(!r)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var l=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(l,s),r.apply(e,l)}}return function(){return r.apply(e,arguments)}}function Ct(r,e,t){return(Ct=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?_t:Ot).apply(null,arguments)}function Wt(r,e){var t=Array.prototype.slice.call(arguments,1);return function(){var s=t.slice();return s.push.apply(s,arguments),r.apply(this,s)}}function Lt(r,e){function t(){}t.prototype=e.prototype,r.$=e.prototype,r.prototype=new t,r.prototype.constructor=r,r.ac=function(s,l,p){for(var b=Array(arguments.length-2),R=2;R<arguments.length;R++)b[R-2]=arguments[R];return e.prototype[l].apply(s,b)}}function $t(){this.s=this.s,this.o=this.o}$t.prototype.s=!1,$t.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Dn(r){Object.prototype.hasOwnProperty.call(r,qi)&&r[qi]||(r[qi]=++It)}(this)},$t.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const yn=Array.prototype.indexOf?function(r,e){return Array.prototype.indexOf.call(r,e,void 0)}:function(r,e){if("string"==typeof r)return"string"!=typeof e||1!=e.length?-1:r.indexOf(e,0);for(let t=0;t<r.length;t++)if(t in r&&r[t]===e)return t;return-1};function vn(r){const e=r.length;if(0<e){const t=Array(e);for(let s=0;s<e;s++)t[s]=r[s];return t}return[]}function Ge(r,e){for(let t=1;t<arguments.length;t++){const s=arguments[t];if(en(s)){const l=r.length||0,p=s.length||0;r.length=l+p;for(let b=0;b<p;b++)r[l+b]=s[b]}else r.push(s)}}function yt(r,e){this.type=r,this.g=this.target=e,this.defaultPrevented=!1}yt.prototype.h=function(){this.defaultPrevented=!0};var Ke=function(){if(!Zt.addEventListener||!Object.defineProperty)return!1;var r=!1,e=Object.defineProperty({},"passive",{get:function(){r=!0}});try{Zt.addEventListener("test",()=>{},e),Zt.removeEventListener("test",()=>{},e)}catch{}return r}();function pt(r){return/^[\s\xa0]*$/.test(r)}function Tn(){var r=Zt.navigator;return r&&(r=r.userAgent)?r:""}function zn(r){return-1!=Tn().indexOf(r)}function jn(r){return jn[" "](r),r}jn[" "]=function(){};var Vr,r,ii=zn("Opera"),rs=zn("Trident")||zn("MSIE"),di=zn("Edge"),Jt=di||rs,wn=zn("Gecko")&&!(-1!=Tn().toLowerCase().indexOf("webkit")&&!zn("Edge"))&&!(zn("Trident")||zn("MSIE"))&&!zn("Edge"),jr=-1!=Tn().toLowerCase().indexOf("webkit")&&!zn("Edge");function hi(){var r=Zt.document;return r?r.documentMode:void 0}e:{var bi="",Gs=(r=Tn(),wn?/rv:([^\);]+)(\)|;)/.exec(r):di?/Edge\/([\d\.]+)/.exec(r):rs?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):jr?/WebKit\/(\S+)/.exec(r):ii?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(Gs&&(bi=Gs?Gs[1]:""),rs){var fr=hi();if(null!=fr&&fr>parseFloat(bi)){Vr=String(fr);break e}}Vr=bi}var bn=Zt.document&&rs&&(hi()||parseInt(Vr,10))||void 0;function si(r,e){if(yt.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var t=this.type=r.type,s=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=e,e=r.relatedTarget){if(wn){e:{try{jn(e.nodeName);var l=!0;break e}catch{}l=!1}l||(e=null)}}else"mouseover"==t?e=r.fromElement:"mouseout"==t&&(e=r.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:ei[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&si.$.h.call(this)}}Lt(si,yt);var ei={2:"touch",3:"pen",4:"mouse"};si.prototype.h=function(){si.$.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var Wn="closure_listenable_"+(1e6*Math.random()|0),fi=0;function Ii(r,e,t,s,l){this.listener=r,this.proxy=null,this.src=e,this.type=t,this.capture=!!s,this.la=l,this.key=++fi,this.fa=this.ia=!1}function Pi(r){r.fa=!0,r.listener=null,r.proxy=null,r.src=null,r.la=null}function xr(r,e,t){for(const s in r)e.call(t,r[s],s,r)}function wr(r){const e={};for(const t in r)e[t]=r[t];return e}const vs="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Rr(r,e){let t,s;for(let l=1;l<arguments.length;l++){for(t in s=arguments[l],s)r[t]=s[t];for(let p=0;p<vs.length;p++)t=vs[p],Object.prototype.hasOwnProperty.call(s,t)&&(r[t]=s[t])}}function oi(r){this.src=r,this.g={},this.h=0}function pi(r,e){var t=e.type;if(t in r.g){var p,s=r.g[t],l=yn(s,e);(p=0<=l)&&Array.prototype.splice.call(s,l,1),p&&(Pi(e),0==r.g[t].length&&(delete r.g[t],r.h--))}}function At(r,e,t,s){for(var l=0;l<r.length;++l){var p=r[l];if(!p.fa&&p.listener==e&&p.capture==!!t&&p.la==s)return l}return-1}oi.prototype.add=function(r,e,t,s,l){var p=r.toString();(r=this.g[p])||(r=this.g[p]=[],this.h++);var b=At(r,e,s,l);return-1<b?(e=r[b],t||(e.ia=!1)):((e=new Ii(e,this.src,p,!!s,l)).ia=t,r.push(e)),e};var Le="closure_lm_"+(1e6*Math.random()|0),Ue={};function ln(r,e,t,s,l){if(s&&s.once)return ve(r,e,t,s,l);if(Array.isArray(e)){for(var p=0;p<e.length;p++)ln(r,e[p],t,s,l);return null}return t=ge(t),r&&r[Wn]?r.O(e,t,Bn(s)?!!s.capture:!!s,l):qt(r,e,t,!1,s,l)}function qt(r,e,t,s,l,p){if(!e)throw Error("Invalid event type");var b=Bn(l)?!!l.capture:!!l,R=ke(r);if(R||(r[Le]=R=new oi(r)),(t=R.add(e,t,s,b,p)).proxy)return t;if(s=function Ee(){const e=on;return function r(t){return e.call(r.src,r.listener,t)}}(),t.proxy=s,s.src=r,s.listener=t,r.addEventListener)Ke||(l=b),void 0===l&&(l=!1),r.addEventListener(e.toString(),s,l);else if(r.attachEvent)r.attachEvent(ze(e.toString()),s);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(s)}return t}function ve(r,e,t,s,l){if(Array.isArray(e)){for(var p=0;p<e.length;p++)ve(r,e[p],t,s,l);return null}return t=ge(t),r&&r[Wn]?r.P(e,t,Bn(s)?!!s.capture:!!s,l):qt(r,e,t,!0,s,l)}function Oe(r,e,t,s,l){if(Array.isArray(e))for(var p=0;p<e.length;p++)Oe(r,e[p],t,s,l);else s=Bn(s)?!!s.capture:!!s,t=ge(t),r&&r[Wn]?(r=r.i,(e=String(e).toString())in r.g&&-1<(t=At(p=r.g[e],t,s,l))&&(Pi(p[t]),Array.prototype.splice.call(p,t,1),0==p.length&&(delete r.g[e],r.h--))):r&&(r=ke(r))&&(e=r.g[e.toString()],r=-1,e&&(r=At(e,t,s,l)),(t=-1<r?e[r]:null)&&ut(t))}function ut(r){if("number"!=typeof r&&r&&!r.fa){var e=r.src;if(e&&e[Wn])pi(e.i,r);else{var t=r.type,s=r.proxy;e.removeEventListener?e.removeEventListener(t,s,r.capture):e.detachEvent?e.detachEvent(ze(t),s):e.addListener&&e.removeListener&&e.removeListener(s),(t=ke(e))?(pi(t,r),0==t.h&&(t.src=null,e[Le]=null)):Pi(r)}}}function ze(r){return r in Ue?Ue[r]:Ue[r]="on"+r}function on(r,e){if(r.fa)r=!0;else{e=new si(e,this);var t=r.listener,s=r.la||r.src;r.ia&&ut(r),r=t.call(s,e)}return r}function ke(r){return(r=r[Le])instanceof oi?r:null}var Me="__closure_events_fn_"+(1e9*Math.random()>>>0);function ge(r){return"function"==typeof r?r:(r[Me]||(r[Me]=function(e){return r.handleEvent(e)}),r[Me])}function Re(){$t.call(this),this.i=new oi(this),this.S=this,this.J=null}function mt(r,e){var t,s=r.J;if(s)for(t=[];s;s=s.J)t.push(s);if(r=r.S,s=e.type||e,"string"==typeof e)e=new yt(e,r);else if(e instanceof yt)e.target=e.target||r;else{var l=e;Rr(e=new yt(s,r),l)}if(l=!0,t)for(var p=t.length-1;0<=p;p--){var b=e.g=t[p];l=Xt(b,s,!0,e)&&l}if(l=Xt(b=e.g=r,s,!0,e)&&l,l=Xt(b,s,!1,e)&&l,t)for(p=0;p<t.length;p++)l=Xt(b=e.g=t[p],s,!1,e)&&l}function Xt(r,e,t,s){if(!(e=r.i.g[String(e)]))return!0;e=e.concat();for(var l=!0,p=0;p<e.length;++p){var b=e[p];if(b&&!b.fa&&b.capture==t){var R=b.listener,W=b.la||b.src;b.ia&&pi(r.i,b),l=!1!==R.call(W,s)&&l}}return l&&!s.defaultPrevented}Lt(Re,$t),Re.prototype[Wn]=!0,Re.prototype.removeEventListener=function(r,e,t,s){Oe(this,r,e,t,s)},Re.prototype.N=function(){if(Re.$.N.call(this),this.i){var e,r=this.i;for(e in r.g){for(var t=r.g[e],s=0;s<t.length;s++)Pi(t[s]);delete r.g[e],r.h--}}this.J=null},Re.prototype.O=function(r,e,t,s){return this.i.add(String(r),e,!1,t,s)},Re.prototype.P=function(r,e,t,s){return this.i.add(String(r),e,!0,t,s)};var Vn=Zt.JSON.stringify;function gi(){var r=Zn;let e=null;return r.g&&(e=r.g,r.g=r.g.next,r.g||(r.h=null),e.next=null),e}var St=new class Ir{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new dt,r=>r.reset());class dt{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function an(r){var e=1;r=r.split(":");const t=[];for(;0<e&&r.length;)t.push(r.shift()),e--;return r.length&&t.push(r.join(":")),t}function Kn(r){Zt.setTimeout(()=>{throw r},0)}let tr,gr=!1,Zn=new class Ws{constructor(){this.h=this.g=null}add(e,t){const s=St.get();s.set(e,t),this.h?this.h.next=s:this.g=s,this.h=s}},ai=()=>{const r=Zt.Promise.resolve(void 0);tr=()=>{r.then(Ur)}};var Ur=()=>{for(var r;r=gi();){try{r.h.call(r.g)}catch(t){Kn(t)}var e=St;e.j(r),100>e.h&&(e.h++,r.next=e.g,e.g=r)}gr=!1};function ji(r,e){Re.call(this),this.h=r||1,this.g=e||Zt,this.j=Ct(this.qb,this),this.l=Date.now()}function Li(r){r.ga=!1,r.T&&(r.g.clearTimeout(r.T),r.T=null)}function Ga(r,e,t){if("function"==typeof r)t&&(r=Ct(r,t));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=Ct(r.handleEvent,r)}return 2147483647<Number(e)?-1:Zt.setTimeout(r,e||0)}function Wo(r){r.g=Ga(()=>{r.g=null,r.i&&(r.i=!1,Wo(r))},r.j);const e=r.h;r.h=null,r.m.apply(null,e)}Lt(ji,Re),(ft=ji.prototype).ga=!1,ft.T=null,ft.qb=function(){if(this.ga){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-r):(this.T&&(this.g.clearTimeout(this.T),this.T=null),mt(this,"tick"),this.ga&&(Li(this),this.start()))}},ft.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ft.N=function(){ji.$.N.call(this),Li(this),delete this.g};class Aa extends $t{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Wo(this)}N(){super.N(),this.g&&(Zt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function as(r){$t.call(this),this.h=r,this.g={}}Lt(as,$t);var En=[];function Or(r,e,t,s){Array.isArray(t)||(t&&(En[0]=t.toString()),t=En);for(var l=0;l<t.length;l++){var p=ln(e,t[l],s||r.handleEvent,!1,r.h||r);if(!p)break;r.g[p.key]=p}}function wi(r){xr(r.g,function(e,t){this.g.hasOwnProperty(t)&&ut(e)},r),r.g={}}function Fs(){this.g=!0}function Ts(r,e,t,s){r.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Ks(r,e){if(!r.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(r=0;r<t.length;r++)if(Array.isArray(t[r])){var s=t[r];if(!(2>s.length)){var l=s[1];if(Array.isArray(l)&&!(1>l.length)){var p=l[0];if("noop"!=p&&"stop"!=p&&"close"!=p)for(var b=1;b<l.length;b++)l[b]=""}}}return Vn(t)}catch{return e}}(r,t)+(s?" "+s:"")})}as.prototype.N=function(){as.$.N.call(this),wi(this)},as.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Fs.prototype.Ea=function(){this.g=!1},Fs.prototype.info=function(){};var Is={},Er=null;function bo(){return Er=Er||new Re}function qs(r){yt.call(this,Is.Ta,r)}function no(r){const e=bo();mt(e,new qs(e))}function ro(r,e){yt.call(this,Is.STAT_EVENT,r),this.stat=e}function zr(r){const e=bo();mt(e,new ro(e,r))}function na(r,e){yt.call(this,Is.Ua,r),this.size=e}function io(r,e){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return Zt.setTimeout(function(){r()},e)}Is.Ta="serverreachability",Lt(qs,yt),Is.STAT_EVENT="statevent",Lt(ro,yt),Is.Ua="timingevent",Lt(na,yt);var js={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},ko={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Zi(){}function so(){}Zi.prototype.h=null;var gt,po={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Qe(){yt.call(this,"d")}function We(){yt.call(this,"c")}function zt(){}function un(r,e,t,s){this.l=r,this.j=e,this.m=t,this.W=s||1,this.U=new as(this),this.P=Sr,this.V=new ji(r=Jt?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new mr}function mr(){this.i=null,this.g="",this.h=!1}Lt(Qe,yt),Lt(We,yt),Lt(zt,Zi),zt.prototype.g=function(){return new XMLHttpRequest},zt.prototype.i=function(){return{}},gt=new zt;var Sr=45e3,Tr={},qr={};function bs(r,e,t){r.L=1,r.v=Ma(Ss(e)),r.s=t,r.S=!0,Fo(r,null)}function Fo(r,e){r.G=Date.now(),Bo(r),r.A=Ss(r.v);var t=r.A,s=r.W;Array.isArray(s)||(s=[String(s)]),Ls(t.i,"t",s),r.C=0,t=r.l.J,r.h=new mr,r.g=yr(r.l,t?e:null,!r.s),0<r.O&&(r.M=new Aa(Ct(r.Pa,r,r.g),r.O)),Or(r.U,r.g,"readystatechange",r.nb),e=r.I?wr(r.I):{},r.s?(r.u||(r.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",r.g.ha(r.A,r.u,r.s,e)):(r.u="GET",r.g.ha(r.A,r.u,null,e)),no(),function $r(r,e,t,s,l,p){r.info(function(){if(r.g)if(p)for(var b="",R=p.split("&"),W=0;W<R.length;W++){var Q=R[W].split("=");if(1<Q.length){var de=Q[0];Q=Q[1];var Pe=de.split("_");b=2<=Pe.length&&"type"==Pe[1]?b+(de+"=")+Q+"&":b+(de+"=redacted&")}}else b=null;else b=p;return"XMLHTTP REQ ("+s+") [attempt "+l+"]: "+e+"\n"+t+"\n"+b})}(r.j,r.u,r.A,r.m,r.W,r.s)}function mi(r){return!!r.g&&"GET"==r.u&&2!=r.L&&r.l.Ha}function fa(r,e,t){let l,s=!0;for(;!r.J&&r.C<t.length;){if(l=Lo(r,t),l==qr){4==e&&(r.o=4,zr(14),s=!1),Ts(r.j,r.m,null,"[Incomplete Response]");break}if(l==Tr){r.o=4,zr(15),Ts(r.j,r.m,t,"[Invalid Chunk]"),s=!1;break}Ts(r.j,r.m,l,null),$i(r,l)}mi(r)&&l!=qr&&l!=Tr&&(r.h.g="",r.C=0),4!=e||0!=t.length||r.h.h||(r.o=1,zr(16),s=!1),r.i=r.i&&s,s?0<t.length&&!r.ba&&(r.ba=!0,(e=r.l).g==r&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),kr(e),e.M=!0,zr(11))):(Ts(r.j,r.m,t,"[Invalid Chunked Response]"),ti(r),Na(r))}function Lo(r,e){var t=r.C,s=e.indexOf("\n",t);return-1==s?qr:(t=Number(e.substring(t,s)),isNaN(t)?Tr:(s+=1)+t>e.length?qr:(e=e.slice(s,s+t),r.C=s+t,e))}function Bo(r){r.Y=Date.now()+r.P,gu(r,r.P)}function gu(r,e){if(null!=r.B)throw Error("WatchDog timer not null");r.B=io(Ct(r.lb,r),e)}function Co(r){r.B&&(Zt.clearTimeout(r.B),r.B=null)}function Na(r){0==r.l.H||r.J||ni(r.l,r)}function ti(r){Co(r);var e=r.M;e&&"function"==typeof e.sa&&e.sa(),r.M=null,Li(r.V),wi(r.U),r.g&&(e=r.g,r.g=null,e.abort(),e.sa())}function $i(r,e){try{var t=r.l;if(0!=t.H&&(t.g==r||Oa(t.i,r)))if(!r.K&&Oa(t.i,r)&&3==t.H){try{var s=t.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&3==s.length){var l=s;if(0==l[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<r.G))break e;Dr(t),ne(t)}Wr(t),zr(18)}}else t.Fa=l[1],0<t.Fa-t.V&&37500>l[2]&&t.G&&0==t.A&&!t.v&&(t.v=io(Ct(t.ib,t),6e3));if(1>=Wa(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Rt(t,11)}else if((r.K||t.g==r)&&Dr(t),!pt(e))for(l=t.Ja.g.parse(e),e=0;e<l.length;e++){let Q=l[e];if(t.V=Q[0],Q=Q[1],2==t.H)if("c"==Q[0]){t.K=Q[1],t.pa=Q[2];const de=Q[3];null!=de&&(t.ra=de,t.l.info("VER="+t.ra));const Pe=Q[4];null!=Pe&&(t.Ga=Pe,t.l.info("SVER="+t.Ga));const Mt=Q[5];null!=Mt&&"number"==typeof Mt&&0<Mt&&(t.L=s=1.5*Mt,t.l.info("backChannelRequestTimeoutMs_="+s)),s=t;const Qt=r.g;if(Qt){const Ln=Qt.g?Qt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ln){var p=s.i;p.g||-1==Ln.indexOf("spdy")&&-1==Ln.indexOf("quic")&&-1==Ln.indexOf("h2")||(p.j=p.l,p.g=new Set,p.h&&(mo(p,p.h),p.h=null))}if(s.F){const ir=Qt.g?Qt.g.getResponseHeader("X-HTTP-Session-Id"):null;ir&&(s.Da=ir,Bi(s.I,s.F,ir))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-r.G,t.l.info("Handshake RTT: "+t.S+"ms"));var b=r;if((s=t).wa=Pn(s,s.J?s.pa:null,s.Y),b.K){Ys(s.i,b);var R=b,W=s.L;W&&R.setTimeout(W),R.B&&(Co(R),Bo(R)),s.g=b}else qn(s);0<t.j.length&&Be(t)}else"stop"!=Q[0]&&"close"!=Q[0]||Rt(t,7);else 3==t.H&&("stop"==Q[0]||"close"==Q[0]?"stop"==Q[0]?Rt(t,7):$(t):"noop"!=Q[0]&&t.h&&t.h.Aa(Q),t.A=0)}no()}catch{}}function pa(r,e){if(r.forEach&&"function"==typeof r.forEach)r.forEach(e,void 0);else if(en(r)||"string"==typeof r)Array.prototype.forEach.call(r,e,void 0);else for(var t=function Vu(r){if(r.ta&&"function"==typeof r.ta)return r.ta();if(!r.Z||"function"!=typeof r.Z){if(typeof Map<"u"&&r instanceof Map)return Array.from(r.keys());if(!(typeof Set<"u"&&r instanceof Set)){if(en(r)||"string"==typeof r){var e=[];r=r.length;for(var t=0;t<r;t++)e.push(t);return e}e=[],t=0;for(const s in r)e[t++]=s;return e}}}(r),s=function su(r){if(r.Z&&"function"==typeof r.Z)return r.Z();if(typeof Map<"u"&&r instanceof Map||typeof Set<"u"&&r instanceof Set)return Array.from(r.values());if("string"==typeof r)return r.split("");if(en(r)){for(var e=[],t=r.length,s=0;s<t;s++)e.push(r[s]);return e}for(s in e=[],t=0,r)e[t++]=r[s];return e}(r),l=s.length,p=0;p<l;p++)e.call(void 0,s[p],t&&t[p],r)}(ft=un.prototype).setTimeout=function(r){this.P=r},ft.nb=function(r){r=r.target;const e=this.M;e&&3==ra(r)?e.l():this.Pa(r)},ft.Pa=function(r){try{if(r==this.g)e:{const de=ra(this.g);var e=this.g.Ia();if(this.g.da(),!(3>de)&&(3!=de||Jt||this.g&&(this.h.h||this.g.ja()||dl(this.g)))){this.J||4!=de||7==e||no(),Co(this);var t=this.g.da();this.ca=t;t:if(mi(this)){var s=dl(this.g);r="";var l=s.length,p=4==ra(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ti(this),Na(this);var b="";break t}this.h.i=new Zt.TextDecoder}for(e=0;e<l;e++)this.h.h=!0,r+=this.h.i.decode(s[e],{stream:p&&e==l-1});s.splice(0,l),this.h.g+=r,this.C=0,b=this.h.g}else b=this.g.ja();if(this.i=200==t,function Yi(r,e,t,s,l,p,b){r.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+l+"]: "+e+"\n"+t+"\n"+p+" "+b})}(this.j,this.u,this.A,this.m,this.W,de,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var R,W=this.g;if((R=W.g?W.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!pt(R)){var Q=R;break t}}Q=null}if(!(t=Q)){this.i=!1,this.o=3,zr(12),ti(this),Na(this);break e}Ts(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$i(this,t)}this.S?(fa(this,de,b),Jt&&this.i&&3==de&&(Or(this.U,this.V,"tick",this.mb),this.V.start())):(Ts(this.j,this.m,b,null),$i(this,b)),4==de&&ti(this),this.i&&!this.J&&(4==de?ni(this.l,this):(this.i=!1,Bo(this)))}else(function hl(r){const e={};r=(r.g&&2<=ra(r)&&r.g.getAllResponseHeaders()||"").split("\r\n");for(let s=0;s<r.length;s++){if(pt(r[s]))continue;var t=an(r[s]);const l=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const p=e[l]||[];e[l]=p,p.push(t)}!function fs(r,e){for(const t in r)e.call(void 0,r[t],t,r)}(e,function(s){return s.join(", ")})})(this.g),400==t&&0<b.indexOf("Unknown SID")?(this.o=3,zr(12)):(this.o=0,zr(13)),ti(this),Na(this)}}}catch{}},ft.mb=function(){if(this.g){var r=ra(this.g),e=this.g.ja();this.C<e.length&&(Co(this),fa(this,r,e),this.i&&4!=r&&Bo(this))}},ft.cancel=function(){this.J=!0,ti(this)},ft.lb=function(){this.B=null;const r=Date.now();0<=r-this.Y?(function Xr(r,e){r.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(no(),zr(17)),ti(this),this.o=2,Na(this)):gu(this,this.Y-r)};var Uu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Io(r){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,r instanceof Io){this.h=r.h,mu(this,r.j),this.s=r.s,this.g=r.g,ps(this,r.m),this.l=r.l;var e=r.i,t=new $s;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),ga(this,t),this.o=r.o}else r&&(e=String(r).match(Uu))?(this.h=!1,mu(this,e[1]||"",!0),this.s=xi(e[2]||""),this.g=xi(e[3]||"",!0),ps(this,e[4]),this.l=xi(e[5]||"",!0),ga(this,e[6]||"",!0),this.o=xi(e[7]||"")):(this.h=!1,this.i=new $s(null,this.h))}function Ss(r){return new Io(r)}function mu(r,e,t){r.j=t?xi(e,!0):e,r.j&&(r.j=r.j.replace(/:$/,""))}function ps(r,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);r.m=e}else r.m=null}function ga(r,e,t){e instanceof $s?(r.i=e,function ws(r,e){e&&!r.j&&(wo(r),r.i=null,r.g.forEach(function(t,s){var l=s.toLowerCase();s!=l&&(go(this,s),Ls(this,l,t))},r)),r.j=e}(r.i,r.h)):(t||(e=ki(e,$a)),r.i=new $s(e,r.h))}function Bi(r,e,t){r.i.set(e,t)}function Ma(r){return Bi(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function xi(r,e){return r?e?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function ki(r,e,t){return"string"==typeof r?(r=encodeURI(r).replace(e,oo),t&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function oo(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}Io.prototype.toString=function(){var r=[],e=this.j;e&&r.push(ki(e,ma,!0),":");var t=this.g;return(t||"file"==e)&&(r.push("//"),(e=this.s)&&r.push(ki(e,ma,!0),"@"),r.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&r.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&r.push("/"),r.push(ki(t,"/"==t.charAt(0)?ou:ja,!0))),(t=this.i.toString())&&r.push("?",t),(t=this.o)&&r.push("#",ki(t,So)),r.join("")};var ma=/[#\/\?@]/g,ja=/[#\?:]/g,ou=/[#\?]/g,$a=/[#\?@]/g,So=/#/g;function $s(r,e){this.h=this.g=null,this.i=r||null,this.j=!!e}function wo(r){r.g||(r.g=new Map,r.h=0,r.i&&function Hu(r,e){if(r){r=r.split("&");for(var t=0;t<r.length;t++){var s=r[t].indexOf("="),l=null;if(0<=s){var p=r[t].substring(0,s);l=r[t].substring(s+1)}else p=r[t];e(p,l?decodeURIComponent(l.replace(/\+/g," ")):"")}}}(r.i,function(e,t){r.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function go(r,e){wo(r),e=us(r,e),r.g.has(e)&&(r.i=null,r.h-=r.g.get(e).length,r.g.delete(e))}function za(r,e){return wo(r),e=us(r,e),r.g.has(e)}function Ls(r,e,t){go(r,e),0<t.length&&(r.i=null,r.g.set(us(r,e),vn(t)),r.h+=t.length)}function us(r,e){return e=String(e),r.j&&(e=e.toLowerCase()),e}function Ei(r){this.l=r||is,r=Zt.PerformanceNavigationTiming?0<(r=Zt.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(Zt.g&&Zt.g.Ka&&Zt.g.Ka()&&Zt.g.Ka().ec),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ft=$s.prototype).add=function(r,e){wo(this),this.i=null,r=us(this,r);var t=this.g.get(r);return t||this.g.set(r,t=[]),t.push(e),this.h+=1,this},ft.forEach=function(r,e){wo(this),this.g.forEach(function(t,s){t.forEach(function(l){r.call(e,l,s,this)},this)},this)},ft.ta=function(){wo(this);const r=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let s=0;s<e.length;s++){const l=r[s];for(let p=0;p<l.length;p++)t.push(e[s])}return t},ft.Z=function(r){wo(this);let e=[];if("string"==typeof r)za(this,r)&&(e=e.concat(this.g.get(us(this,r))));else{r=Array.from(this.g.values());for(let t=0;t<r.length;t++)e=e.concat(r[t])}return e},ft.set=function(r,e){return wo(this),this.i=null,za(this,r=us(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[e]),this.h+=1,this},ft.get=function(r,e){return r&&0<(r=this.Z(r)).length?String(r[0]):e},ft.toString=function(){if(this.i)return this.i;if(!this.g)return"";const r=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var s=e[t];const p=encodeURIComponent(String(s)),b=this.Z(s);for(s=0;s<b.length;s++){var l=p;""!==b[s]&&(l+="="+encodeURIComponent(String(b[s]))),r.push(l)}}return this.i=r.join("&")};var is=10;function As(r){return!!r.h||!!r.g&&r.g.size>=r.j}function Wa(r){return r.h?1:r.g?r.g.size:0}function Oa(r,e){return r.h?r.h==e:!!r.g&&r.g.has(e)}function mo(r,e){r.g?r.g.add(e):r.h=e}function Ys(r,e){r.h&&r.h==e?r.h=null:r.g&&r.g.has(e)&&r.g.delete(e)}function au(r){if(null!=r.h)return r.i.concat(r.h.F);if(null!=r.g&&0!==r.g.size){let e=r.i;for(const t of r.g.values())e=e.concat(t.F);return e}return vn(r.i)}Ei.prototype.cancel=function(){if(this.i=au(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const r of this.g.values())r.cancel();this.g.clear()}};var Ko=class{stringify(r){return Zt.JSON.stringify(r,void 0)}parse(r){return Zt.JSON.parse(r,void 0)}};function Vo(){this.g=new Ko}function Os(r,e,t){const s=t||"";try{pa(r,function(l,p){let b=l;Bn(l)&&(b=Vn(l)),e.push(s+p+"="+encodeURIComponent(b))})}catch(l){throw e.push(s+"type="+encodeURIComponent("_badmap")),l}}function ya(r,e,t,s,l){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,l(s)}catch{}}function _r(r){this.l=r.fc||null,this.j=r.ob||!1}function ao(r,e){Re.call(this),this.F=r,this.u=e,this.m=void 0,this.readyState=K,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Lt(_r,Zi),_r.prototype.g=function(){return new ao(this.l,this.j)},_r.prototype.i=function(r){return function(){return r}}({}),Lt(ao,Re);var K=0;function z(r){r.j.read().then(r.Xa.bind(r)).catch(r.ka.bind(r))}function L(r){r.readyState=4,r.l=null,r.j=null,r.A=null,le(r)}function le(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(ft=ao.prototype).open=function(r,e){if(this.readyState!=K)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=e,this.readyState=1,le(this)},ft.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(e.body=r),(this.F||Zt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},ft.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,L(this)),this.readyState=K},ft.$a=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,le(this)),this.g&&(this.readyState=3,le(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Zt.ReadableStream<"u"&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;z(this)}else r.text().then(this.Za.bind(this),this.ka.bind(this))},ft.Xa=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var e=r.value?r.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!r.done}))&&(this.response=this.responseText+=e)}r.done?L(this):le(this),3==this.readyState&&z(this)}},ft.Za=function(r){this.g&&(this.response=this.responseText=r,L(this))},ft.Ya=function(r){this.g&&(this.response=r,L(this))},ft.ka=function(){this.g&&L(this)},ft.setRequestHeader=function(r,e){this.v.append(r,e)},ft.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},ft.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],e=this.h.entries();for(var t=e.next();!t.done;)r.push((t=t.value)[0]+": "+t[1]),t=e.next();return r.join("\r\n")},Object.defineProperty(ao.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var Pt=Zt.JSON.parse;function pn(r){Re.call(this),this.headers=new Map,this.u=r||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Es,this.L=this.M=!1}Lt(pn,Re);var Es="",xt=/^https?$/i,Hr=["POST","PUT"];function Ka(r,e){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=e,r.m=5,ls(r),va(r)}function ls(r){r.F||(r.F=!0,mt(r,"complete"),mt(r,"error"))}function Ra(r){if(r.h&&typeof Ye<"u"&&(!r.C[1]||4!=ra(r)||2!=r.da()))if(r.v&&4==ra(r))Ga(r.La,0,r);else if(mt(r,"readystatechange"),4==ra(r)){r.h=!1;try{const b=r.da();e:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var s;if(s=0===b){var l=String(r.I).match(Uu)[1]||null;!l&&Zt.self&&Zt.self.location&&(l=Zt.self.location.protocol.slice(0,-1)),s=!xt.test(l?l.toLowerCase():"")}t=s}if(t)mt(r,"complete"),mt(r,"success");else{r.m=6;try{var p=2<ra(r)?r.g.statusText:""}catch{p=""}r.j=p+" ["+r.da()+"]",ls(r)}}finally{va(r)}}}function va(r,e){if(r.g){Eo(r);const t=r.g,s=r.C[0]?()=>{}:null;r.g=null,r.C=null,e||mt(r,"ready");try{t.onreadystatechange=s}catch{}}}function Eo(r){r.g&&r.L&&(r.g.ontimeout=null),r.A&&(Zt.clearTimeout(r.A),r.A=null)}function ra(r){return r.g?r.g.readyState:0}function dl(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.K){case Es:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch{return null}}function Gu(r){let e="";return xr(r,function(t,s){e+=s,e+=":",e+=t,e+="\r\n"}),e}function se(r,e,t){e:{for(s in t){var s=!1;break e}s=!0}s||(t=Gu(t),"string"==typeof r?null!=t&&encodeURIComponent(String(t)):Bi(r,e,t))}function I(r,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[r]||e}function M(r){this.Ga=0,this.j=[],this.l=new Fs,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=I("failFast",!1,r),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=I("baseRetryDelayMs",5e3,r),this.hb=I("retryDelaySeedMs",1e4,r),this.eb=I("forwardChannelMaxRetries",2,r),this.xa=I("forwardChannelRequestTimeoutMs",2e4,r),this.va=r&&r.xmlHttpFactory||void 0,this.Ha=r&&r.dc||!1,this.L=void 0,this.J=r&&r.supportsCrossDomainXhr||!1,this.K="",this.i=new Ei(r&&r.concurrentRequestLimit),this.Ja=new Vo,this.P=r&&r.fastHandshake||!1,this.O=r&&r.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=r&&r.bc||!1,r&&r.Ea&&this.l.Ea(),r&&r.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&r&&r.detectBufferingProxy||!1,this.qa=void 0,r&&r.longPollingTimeout&&0<r.longPollingTimeout&&(this.qa=r.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function $(r){if(me(r),3==r.H){var e=r.W++,t=Ss(r.I);if(Bi(t,"SID",r.K),Bi(t,"RID",e),Bi(t,"TYPE","terminate"),Ht(r,t),(e=new un(r,r.l,e)).L=2,e.v=Ma(Ss(t)),t=!1,Zt.navigator&&Zt.navigator.sendBeacon)try{t=Zt.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Zt.Image&&((new Image).src=e.v,t=!0),t||(e.g=yr(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Bo(e)}Tt(r)}function ne(r){r.g&&(kr(r),r.g.cancel(),r.g=null)}function me(r){ne(r),r.u&&(Zt.clearTimeout(r.u),r.u=null),Dr(r),r.i.cancel(),r.m&&("number"==typeof r.m&&Zt.clearTimeout(r.m),r.m=null)}function Be(r){if(!As(r.i)&&!r.m){r.m=!0;var e=r.Na;tr||ai(),gr||(tr(),gr=!0),Zn.add(e,r),r.C=0}}function wt(r,e){var t;t=e?e.m:r.W++;const s=Ss(r.I);Bi(s,"SID",r.K),Bi(s,"RID",t),Bi(s,"AID",r.V),Ht(r,s),r.o&&r.s&&se(s,r.o,r.s),t=new un(r,r.l,t,r.C+1),null===r.o&&(t.I=r.s),e&&(r.j=e.F.concat(r.j)),e=Hn(r,t,1e3),t.setTimeout(Math.round(.5*r.xa)+Math.round(.5*r.xa*Math.random())),mo(r.i,t),bs(t,s,e)}function Ht(r,e){r.na&&xr(r.na,function(t,s){Bi(e,s,t)}),r.h&&pa({},function(t,s){Bi(e,s,t)})}function Hn(r,e,t){t=Math.min(r.j.length,t);var s=r.h?Ct(r.h.Va,r.h,r):null;e:{var l=r.j;let p=-1;for(;;){const b=["count="+t];-1==p?0<t?(p=l[0].g,b.push("ofs="+p)):p=0:b.push("ofs="+p);let R=!0;for(let W=0;W<t;W++){let Q=l[W].g;const de=l[W].map;if(Q-=p,0>Q)p=Math.max(0,l[W].g-100),R=!1;else try{Os(de,b,"req"+Q+"_")}catch{s&&s(de)}}if(R){s=b.join("&");break e}}}return r=r.j.splice(0,t),e.F=r,s}function qn(r){if(!r.g&&!r.u){r.ba=1;var e=r.Ma;tr||ai(),gr||(tr(),gr=!0),Zn.add(e,r),r.A=0}}function Wr(r){return!(r.g||r.u||3<=r.A||(r.ba++,r.u=io(Ct(r.Ma,r),qe(r,r.A)),r.A++,0))}function kr(r){null!=r.B&&(Zt.clearTimeout(r.B),r.B=null)}function Cr(r){r.g=new un(r,r.l,"rpc",r.ba),null===r.o&&(r.g.I=r.s),r.g.O=0;var e=Ss(r.wa);Bi(e,"RID","rpc"),Bi(e,"SID",r.K),Bi(e,"AID",r.V),Bi(e,"CI",r.G?"0":"1"),!r.G&&r.qa&&Bi(e,"TO",r.qa),Bi(e,"TYPE","xmlhttp"),Ht(r,e),r.o&&r.s&&se(e,r.o,r.s),r.L&&r.g.setTimeout(r.L);var t=r.g;r=r.pa,t.L=1,t.v=Ma(Ss(e)),t.s=null,t.S=!0,Fo(t,r)}function Dr(r){null!=r.v&&(Zt.clearTimeout(r.v),r.v=null)}function ni(r,e){var t=null;if(r.g==e){Dr(r),kr(r),r.g=null;var s=2}else{if(!Oa(r.i,e))return;t=e.F,Ys(r.i,e),s=1}if(0!=r.H)if(e.i)if(1==s){t=e.s?e.s.length:0,e=Date.now()-e.G;var l=r.C;mt(s=bo(),new na(s,t)),Be(r)}else qn(r);else if(3==(l=e.o)||0==l&&0<e.ca||!(1==s&&function He(r,e){return!(Wa(r.i)>=r.i.j-(r.m?1:0)||(r.m?(r.j=e.F.concat(r.j),0):1==r.H||2==r.H||r.C>=(r.cb?0:r.eb)||(r.m=io(Ct(r.Na,r,e),qe(r,r.C)),r.C++,0)))}(r,e)||2==s&&Wr(r)))switch(t&&0<t.length&&(e=r.i,e.i=e.i.concat(t)),l){case 1:Rt(r,5);break;case 4:Rt(r,10);break;case 3:Rt(r,6);break;default:Rt(r,2)}}function qe(r,e){let t=r.ab+Math.floor(Math.random()*r.hb);return r.isActive()||(t*=2),t*e}function Rt(r,e){if(r.l.info("Error code "+e),2==e){var t=null;r.h&&(t=null);var s=Ct(r.pb,r);t||(t=new Io("//www.google.com/images/cleardot.gif"),Zt.location&&"http"==Zt.location.protocol||mu(t,"https"),Ma(t)),function _a(r,e){const t=new Fs;if(Zt.Image){const s=new Image;s.onload=Wt(ya,t,s,"TestLoadImage: loaded",!0,e),s.onerror=Wt(ya,t,s,"TestLoadImage: error",!1,e),s.onabort=Wt(ya,t,s,"TestLoadImage: abort",!1,e),s.ontimeout=Wt(ya,t,s,"TestLoadImage: timeout",!1,e),Zt.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=r}else e(!1)}(t.toString(),s)}else zr(2);r.H=0,r.h&&r.h.za(e),Tt(r),me(r)}function Tt(r){if(r.H=0,r.ma=[],r.h){const e=au(r.i);(0!=e.length||0!=r.j.length)&&(Ge(r.ma,e),Ge(r.ma,r.j),r.i.i.length=0,vn(r.j),r.j.length=0),r.h.ya()}}function Pn(r,e,t){var s=t instanceof Io?Ss(t):new Io(t);if(""!=s.g)e&&(s.g=e+"."+s.g),ps(s,s.m);else{var l=Zt.location;s=l.protocol,e=e?e+"."+l.hostname:l.hostname,l=+l.port;var p=new Io(null);s&&mu(p,s),e&&(p.g=e),l&&ps(p,l),t&&(p.l=t),s=p}return e=r.Da,(t=r.F)&&e&&Bi(s,t,e),Bi(s,"VER",r.ra),Ht(r,s),s}function yr(r,e,t){if(e&&!r.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new pn(t&&r.Ha&&!r.va?new _r({ob:!0}):r.va)).Oa(r.J),e}function Yr(){}function ui(){if(rs&&!(10<=Number(bn)))throw Error("Environmental error: no available transport.")}function lr(r,e){Re.call(this),this.g=new M(e),this.l=r,this.h=e&&e.messageUrlParams||null,r=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(r?r["X-WebChannel-Content-Type"]=e.messageContentType:r={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(r?r["X-WebChannel-Client-Profile"]=e.Ca:r={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=r,(r=e&&e.cc)&&!pt(r)&&(this.g.o=r),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!pt(e)&&(this.g.F=e,null!==(r=this.h)&&e in r&&e in(r=this.h)&&delete r[e]),this.j=new Rs(this)}function Bs(r){Qe.call(this),r.__headers__&&(this.headers=r.__headers__,this.statusCode=r.__status__,delete r.__headers__,delete r.__status__);var e=r.__sm__;if(e){e:{for(const t in e){r=t;break e}r=void 0}(this.i=r)&&(r=this.i,e=null!==e&&r in e?e[r]:void 0),this.data=e}else this.data=r}function Vi(){We.call(this),this.status=1}function Rs(r){this.g=r}function Ps(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function ba(r,e,t){t||(t=0);var s=Array(16);if("string"==typeof e)for(var l=0;16>l;++l)s[l]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(l=0;16>l;++l)s[l]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var p=r.g[3],b=(e=r.g[0])+(p^(t=r.g[1])&((l=r.g[2])^p))+s[0]+3614090360&4294967295;b=(t=(l=(p=(e=(t=(l=(p=(e=(t=(l=(p=(e=(t=(l=(p=(e=(t=(l=(p=(e=(t=(l=(p=(e=(t=(l=(p=(e=(t=(l=(p=(e=(t=(l=(p=(e=(t=(l=(p=(e=(t=(l=(p=(e=(t=(l=(p=(e=(t=(l=(p=(e=(t=(l=(p=(e=(t=(l=(p=(e=t+(b<<7&4294967295|b>>>25))+((b=p+(l^e&(t^l))+s[1]+3905402710&4294967295)<<12&4294967295|b>>>20))+((b=l+(t^p&(e^t))+s[2]+606105819&4294967295)<<17&4294967295|b>>>15))+((b=t+(e^l&(p^e))+s[3]+3250441966&4294967295)<<22&4294967295|b>>>10))+((b=e+(p^t&(l^p))+s[4]+4118548399&4294967295)<<7&4294967295|b>>>25))+((b=p+(l^e&(t^l))+s[5]+1200080426&4294967295)<<12&4294967295|b>>>20))+((b=l+(t^p&(e^t))+s[6]+2821735955&4294967295)<<17&4294967295|b>>>15))+((b=t+(e^l&(p^e))+s[7]+4249261313&4294967295)<<22&4294967295|b>>>10))+((b=e+(p^t&(l^p))+s[8]+1770035416&4294967295)<<7&4294967295|b>>>25))+((b=p+(l^e&(t^l))+s[9]+2336552879&4294967295)<<12&4294967295|b>>>20))+((b=l+(t^p&(e^t))+s[10]+4294925233&4294967295)<<17&4294967295|b>>>15))+((b=t+(e^l&(p^e))+s[11]+2304563134&4294967295)<<22&4294967295|b>>>10))+((b=e+(p^t&(l^p))+s[12]+1804603682&4294967295)<<7&4294967295|b>>>25))+((b=p+(l^e&(t^l))+s[13]+4254626195&4294967295)<<12&4294967295|b>>>20))+((b=l+(t^p&(e^t))+s[14]+2792965006&4294967295)<<17&4294967295|b>>>15))+((b=t+(e^l&(p^e))+s[15]+1236535329&4294967295)<<22&4294967295|b>>>10))+((b=e+(l^p&(t^l))+s[1]+4129170786&4294967295)<<5&4294967295|b>>>27))+((b=p+(t^l&(e^t))+s[6]+3225465664&4294967295)<<9&4294967295|b>>>23))+((b=l+(e^t&(p^e))+s[11]+643717713&4294967295)<<14&4294967295|b>>>18))+((b=t+(p^e&(l^p))+s[0]+3921069994&4294967295)<<20&4294967295|b>>>12))+((b=e+(l^p&(t^l))+s[5]+3593408605&4294967295)<<5&4294967295|b>>>27))+((b=p+(t^l&(e^t))+s[10]+38016083&4294967295)<<9&4294967295|b>>>23))+((b=l+(e^t&(p^e))+s[15]+3634488961&4294967295)<<14&4294967295|b>>>18))+((b=t+(p^e&(l^p))+s[4]+3889429448&4294967295)<<20&4294967295|b>>>12))+((b=e+(l^p&(t^l))+s[9]+568446438&4294967295)<<5&4294967295|b>>>27))+((b=p+(t^l&(e^t))+s[14]+3275163606&4294967295)<<9&4294967295|b>>>23))+((b=l+(e^t&(p^e))+s[3]+4107603335&4294967295)<<14&4294967295|b>>>18))+((b=t+(p^e&(l^p))+s[8]+1163531501&4294967295)<<20&4294967295|b>>>12))+((b=e+(l^p&(t^l))+s[13]+2850285829&4294967295)<<5&4294967295|b>>>27))+((b=p+(t^l&(e^t))+s[2]+4243563512&4294967295)<<9&4294967295|b>>>23))+((b=l+(e^t&(p^e))+s[7]+1735328473&4294967295)<<14&4294967295|b>>>18))+((b=t+(p^e&(l^p))+s[12]+2368359562&4294967295)<<20&4294967295|b>>>12))+((b=e+(t^l^p)+s[5]+4294588738&4294967295)<<4&4294967295|b>>>28))+((b=p+(e^t^l)+s[8]+2272392833&4294967295)<<11&4294967295|b>>>21))+((b=l+(p^e^t)+s[11]+1839030562&4294967295)<<16&4294967295|b>>>16))+((b=t+(l^p^e)+s[14]+4259657740&4294967295)<<23&4294967295|b>>>9))+((b=e+(t^l^p)+s[1]+2763975236&4294967295)<<4&4294967295|b>>>28))+((b=p+(e^t^l)+s[4]+1272893353&4294967295)<<11&4294967295|b>>>21))+((b=l+(p^e^t)+s[7]+4139469664&4294967295)<<16&4294967295|b>>>16))+((b=t+(l^p^e)+s[10]+3200236656&4294967295)<<23&4294967295|b>>>9))+((b=e+(t^l^p)+s[13]+681279174&4294967295)<<4&4294967295|b>>>28))+((b=p+(e^t^l)+s[0]+3936430074&4294967295)<<11&4294967295|b>>>21))+((b=l+(p^e^t)+s[3]+3572445317&4294967295)<<16&4294967295|b>>>16))+((b=t+(l^p^e)+s[6]+76029189&4294967295)<<23&4294967295|b>>>9))+((b=e+(t^l^p)+s[9]+3654602809&4294967295)<<4&4294967295|b>>>28))+((b=p+(e^t^l)+s[12]+3873151461&4294967295)<<11&4294967295|b>>>21))+((b=l+(p^e^t)+s[15]+530742520&4294967295)<<16&4294967295|b>>>16))+((b=t+(l^p^e)+s[2]+3299628645&4294967295)<<23&4294967295|b>>>9))+((b=e+(l^(t|~p))+s[0]+4096336452&4294967295)<<6&4294967295|b>>>26))+((b=p+(t^(e|~l))+s[7]+1126891415&4294967295)<<10&4294967295|b>>>22))+((b=l+(e^(p|~t))+s[14]+2878612391&4294967295)<<15&4294967295|b>>>17))+((b=t+(p^(l|~e))+s[5]+4237533241&4294967295)<<21&4294967295|b>>>11))+((b=e+(l^(t|~p))+s[12]+1700485571&4294967295)<<6&4294967295|b>>>26))+((b=p+(t^(e|~l))+s[3]+2399980690&4294967295)<<10&4294967295|b>>>22))+((b=l+(e^(p|~t))+s[10]+4293915773&4294967295)<<15&4294967295|b>>>17))+((b=t+(p^(l|~e))+s[1]+2240044497&4294967295)<<21&4294967295|b>>>11))+((b=e+(l^(t|~p))+s[8]+1873313359&4294967295)<<6&4294967295|b>>>26))+((b=p+(t^(e|~l))+s[15]+4264355552&4294967295)<<10&4294967295|b>>>22))+((b=l+(e^(p|~t))+s[6]+2734768916&4294967295)<<15&4294967295|b>>>17))+((b=t+(p^(l|~e))+s[13]+1309151649&4294967295)<<21&4294967295|b>>>11))+((p=(e=t+((b=e+(l^(t|~p))+s[4]+4149444226&4294967295)<<6&4294967295|b>>>26))+((b=p+(t^(e|~l))+s[11]+3174756917&4294967295)<<10&4294967295|b>>>22))^((l=p+((b=l+(e^(p|~t))+s[2]+718787259&4294967295)<<15&4294967295|b>>>17))|~e))+s[9]+3951481745&4294967295,r.g[0]=r.g[0]+e&4294967295,r.g[1]=r.g[1]+(l+(b<<21&4294967295|b>>>11))&4294967295,r.g[2]=r.g[2]+l&4294967295,r.g[3]=r.g[3]+p&4294967295}function Fi(r,e){this.h=e;for(var t=[],s=!0,l=r.length-1;0<=l;l--){var p=0|r[l];s&&p==e||(t[l]=p,s=!1)}this.g=t}(ft=pn.prototype).Oa=function(r){this.M=r},ft.ha=function(r,e,t,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+r);e=e?e.toUpperCase():"GET",this.I=r,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():gt.g(),this.C=function Si(r){return r.h||(r.h=r.i())}(this.u?this.u:gt),this.g.onreadystatechange=Ct(this.La,this);try{this.G=!0,this.g.open(e,String(r),!0),this.G=!1}catch(p){return void Ka(this,p)}if(r=t||"",t=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var l in s)t.set(l,s[l]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const p of s.keys())t.set(p,s.get(p))}s=Array.from(t.keys()).find(p=>"content-type"==p.toLowerCase()),l=Zt.FormData&&r instanceof Zt.FormData,!(0<=yn(Hr,e))||s||l||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[p,b]of t)this.g.setRequestHeader(p,b);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Eo(this),0<this.B&&((this.L=function _o(r){return rs&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ct(this.ua,this)):this.A=Ga(this.ua,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(p){Ka(this,p)}},ft.ua=function(){typeof Ye<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,mt(this,"timeout"),this.abort(8))},ft.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,mt(this,"complete"),mt(this,"abort"),va(this))},ft.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),va(this,!0)),pn.$.N.call(this)},ft.La=function(){this.s||(this.G||this.v||this.l?Ra(this):this.kb())},ft.kb=function(){Ra(this)},ft.isActive=function(){return!!this.g},ft.da=function(){try{return 2<ra(this)?this.g.status:-1}catch{return-1}},ft.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},ft.Wa=function(r){if(this.g){var e=this.g.responseText;return r&&0==e.indexOf(r)&&(e=e.substring(r.length)),Pt(e)}},ft.Ia=function(){return this.m},ft.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ft=M.prototype).ra=8,ft.H=1,ft.Na=function(r){if(this.m)if(this.m=null,1==this.H){if(!r){this.W=Math.floor(1e5*Math.random()),r=this.W++;const l=new un(this,this.l,r);let p=this.s;if(this.U&&(p?(p=wr(p),Rr(p,this.U)):p=this.U),null!==this.o||this.O||(l.I=p,p=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var s=this.j[t];if(void 0===(s="__data__"in s.map&&"string"==typeof(s=s.map.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Hn(this,l,e),Bi(t=Ss(this.I),"RID",r),Bi(t,"CVER",22),this.F&&Bi(t,"X-HTTP-Session-Id",this.F),Ht(this,t),p&&(this.O?e="headers="+encodeURIComponent(String(Gu(p)))+"&"+e:this.o&&se(t,this.o,p)),mo(this.i,l),this.bb&&Bi(t,"TYPE","init"),this.P?(Bi(t,"$req",e),Bi(t,"SID","null"),l.aa=!0,bs(l,t,null)):bs(l,t,e),this.H=2}}else 3==this.H&&(r?wt(this,r):0==this.j.length||As(this.i)||wt(this))},ft.Ma=function(){if(this.u=null,Cr(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var r=2*this.S;this.l.info("BP detection timer enabled: "+r),this.B=io(Ct(this.jb,this),r)}},ft.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,zr(10),ne(this),Cr(this))},ft.ib=function(){null!=this.v&&(this.v=null,ne(this),Wr(this),zr(19))},ft.pb=function(r){r?(this.l.info("Successfully pinged google.com"),zr(2)):(this.l.info("Failed to ping google.com"),zr(1))},ft.isActive=function(){return!!this.h&&this.h.isActive(this)},(ft=Yr.prototype).Ba=function(){},ft.Aa=function(){},ft.za=function(){},ft.ya=function(){},ft.isActive=function(){return!0},ft.Va=function(){},ui.prototype.g=function(r,e){return new lr(r,e)},Lt(lr,Re),lr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var r=this.g,e=this.l,t=this.h||void 0;zr(0),r.Y=e,r.na=t||{},r.G=r.aa,r.I=Pn(r,null,r.Y),Be(r)},lr.prototype.close=function(){$(this.g)},lr.prototype.u=function(r){var e=this.g;if("string"==typeof r){var t={};t.__data__=r,r=t}else this.v&&((t={}).__data__=Vn(r),r=t);e.j.push(new class{constructor(r,e){this.g=r,this.map=e}}(e.fb++,r)),3==e.H&&Be(e)},lr.prototype.N=function(){this.g.h=null,delete this.j,$(this.g),delete this.g,lr.$.N.call(this)},Lt(Bs,Qe),Lt(Vi,We),Lt(Rs,Yr),Rs.prototype.Ba=function(){mt(this.g,"a")},Rs.prototype.Aa=function(r){mt(this.g,new Bs(r))},Rs.prototype.za=function(r){mt(this.g,new Vi)},Rs.prototype.ya=function(){mt(this.g,"b")},Lt(Ps,function _u(){this.blockSize=-1}),Ps.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ps.prototype.j=function(r,e){void 0===e&&(e=r.length);for(var t=e-this.blockSize,s=this.m,l=this.h,p=0;p<e;){if(0==l)for(;p<=t;)ba(this,r,p),p+=this.blockSize;if("string"==typeof r){for(;p<e;)if(s[l++]=r.charCodeAt(p++),l==this.blockSize){ba(this,s),l=0;break}}else for(;p<e;)if(s[l++]=r[p++],l==this.blockSize){ba(this,s),l=0;break}}this.h=l,this.i+=e},Ps.prototype.l=function(){var r=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);r[0]=128;for(var e=1;e<r.length-8;++e)r[e]=0;var t=8*this.i;for(e=r.length-8;e<r.length;++e)r[e]=255&t,t/=256;for(this.j(r),r=Array(16),e=t=0;4>e;++e)for(var s=0;32>s;s+=8)r[t++]=this.g[e]>>>s&255;return r};var sr={};function On(r){return-128<=r&&128>r?function pr(r,e){var t=sr;return Object.prototype.hasOwnProperty.call(t,r)?t[r]:t[r]=e(r)}(r,function(e){return new Fi([0|e],0>e?-1:0)}):new Fi([0|r],0>r?-1:0)}function hr(r){if(isNaN(r)||!isFinite(r))return J;if(0>r)return jt(hr(-r));for(var e=[],t=1,s=0;r>=t;s++)e[s]=r/t|0,t*=x;return new Fi(e,0)}var x=4294967296,J=On(0),B=On(1),ue=On(16777216);function we(r){if(0!=r.h)return!1;for(var e=0;e<r.g.length;e++)if(0!=r.g[e])return!1;return!0}function Et(r){return-1==r.h}function jt(r){for(var e=r.g.length,t=[],s=0;s<e;s++)t[s]=~r.g[s];return new Fi(t,~r.h).add(B)}function kn(r,e){return r.add(jt(e))}function _i(r,e){for(;(65535&r[e])!=r[e];)r[e+1]+=r[e]>>>16,r[e]&=65535,e++}function Br(r,e){this.g=r,this.h=e}function Fr(r,e){if(we(e))throw Error("division by zero");if(we(r))return new Br(J,J);if(Et(r))return e=Fr(jt(r),e),new Br(jt(e.g),jt(e.h));if(Et(e))return e=Fr(r,jt(e)),new Br(jt(e.g),e.h);if(30<r.g.length){if(Et(r)||Et(e))throw Error("slowDivide_ only works with positive integers.");for(var t=B,s=e;0>=s.X(r);)t=Pr(t),s=Pr(s);var l=Ds(t,1),p=Ds(s,1);for(s=Ds(s,2),t=Ds(t,2);!we(s);){var b=p.add(s);0>=b.X(r)&&(l=l.add(t),p=b),s=Ds(s,1),t=Ds(t,1)}return e=kn(r,l.R(e)),new Br(l,e)}for(l=J;0<=r.X(e);){for(t=Math.max(1,Math.floor(r.ea()/e.ea())),s=48>=(s=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,s-48),b=(p=hr(t)).R(e);Et(b)||0<b.X(r);)b=(p=hr(t-=s)).R(e);we(p)&&(p=B),l=l.add(p),r=kn(r,b)}return new Br(l,r)}function Pr(r){for(var e=r.g.length+1,t=[],s=0;s<e;s++)t[s]=r.D(s)<<1|r.D(s-1)>>>31;return new Fi(t,r.h)}function Ds(r,e){var t=e>>5;e%=32;for(var s=r.g.length-t,l=[],p=0;p<s;p++)l[p]=0<e?r.D(p+t)>>>e|r.D(p+t+1)<<32-e:r.D(p+t);return new Fi(l,r.h)}(ft=Fi.prototype).ea=function(){if(Et(this))return-jt(this).ea();for(var r=0,e=1,t=0;t<this.g.length;t++){var s=this.D(t);r+=(0<=s?s:x+s)*e,e*=x}return r},ft.toString=function(r){if(2>(r=r||10)||36<r)throw Error("radix out of range: "+r);if(we(this))return"0";if(Et(this))return"-"+jt(this).toString(r);for(var e=hr(Math.pow(r,6)),t=this,s="";;){var l=Fr(t,e).g,p=((0<(t=kn(t,l.R(e))).g.length?t.g[0]:t.h)>>>0).toString(r);if(we(t=l))return p+s;for(;6>p.length;)p="0"+p;s=p+s}},ft.D=function(r){return 0>r?0:r<this.g.length?this.g[r]:this.h},ft.X=function(r){return Et(r=kn(this,r))?-1:we(r)?0:1},ft.abs=function(){return Et(this)?jt(this):this},ft.add=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0,l=0;l<=e;l++){var p=s+(65535&this.D(l))+(65535&r.D(l)),b=(p>>>16)+(this.D(l)>>>16)+(r.D(l)>>>16);s=b>>>16,t[l]=(b&=65535)<<16|(p&=65535)}return new Fi(t,-2147483648&t[t.length-1]?-1:0)},ft.R=function(r){if(we(this)||we(r))return J;if(Et(this))return Et(r)?jt(this).R(jt(r)):jt(jt(this).R(r));if(Et(r))return jt(this.R(jt(r)));if(0>this.X(ue)&&0>r.X(ue))return hr(this.ea()*r.ea());for(var e=this.g.length+r.g.length,t=[],s=0;s<2*e;s++)t[s]=0;for(s=0;s<this.g.length;s++)for(var l=0;l<r.g.length;l++){var p=this.D(s)>>>16,b=65535&this.D(s),R=r.D(l)>>>16,W=65535&r.D(l);t[2*s+2*l]+=b*W,_i(t,2*s+2*l),t[2*s+2*l+1]+=p*W,_i(t,2*s+2*l+1),t[2*s+2*l+1]+=b*R,_i(t,2*s+2*l+1),t[2*s+2*l+2]+=p*R,_i(t,2*s+2*l+2)}for(s=0;s<e;s++)t[s]=t[2*s+1]<<16|t[2*s];for(s=e;s<2*e;s++)t[s]=0;return new Fi(t,0)},ft.gb=function(r){return Fr(this,r).h},ft.and=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)&r.D(s);return new Fi(t,this.h&r.h)},ft.or=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)|r.D(s);return new Fi(t,this.h|r.h)},ft.xor=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)^r.D(s);return new Fi(t,this.h^r.h)},ui.prototype.createWebChannel=ui.prototype.g,lr.prototype.send=lr.prototype.u,lr.prototype.open=lr.prototype.m,lr.prototype.close=lr.prototype.close,js.NO_ERROR=0,js.TIMEOUT=8,js.HTTP_ERROR=6,ko.COMPLETE="complete",so.EventType=po,po.OPEN="a",po.CLOSE="b",po.ERROR="c",po.MESSAGE="d",Re.prototype.listen=Re.prototype.O,pn.prototype.listenOnce=pn.prototype.P,pn.prototype.getLastError=pn.prototype.Sa,pn.prototype.getLastErrorCode=pn.prototype.Ia,pn.prototype.getStatus=pn.prototype.da,pn.prototype.getResponseJson=pn.prototype.Wa,pn.prototype.getResponseText=pn.prototype.ja,pn.prototype.send=pn.prototype.ha,pn.prototype.setWithCredentials=pn.prototype.Oa,Ps.prototype.digest=Ps.prototype.l,Ps.prototype.reset=Ps.prototype.reset,Ps.prototype.update=Ps.prototype.j,Fi.prototype.add=Fi.prototype.add,Fi.prototype.multiply=Fi.prototype.R,Fi.prototype.modulo=Fi.prototype.gb,Fi.prototype.compare=Fi.prototype.X,Fi.prototype.toNumber=Fi.prototype.ea,Fi.prototype.toString=Fi.prototype.toString,Fi.prototype.getBits=Fi.prototype.D,Fi.fromNumber=hr,Fi.fromString=function li(r,e){if(0==r.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==r.charAt(0))return jt(li(r.substring(1),e));if(0<=r.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=hr(Math.pow(e,8)),s=J,l=0;l<r.length;l+=8){var p=Math.min(8,r.length-l),b=parseInt(r.substring(l,l+p),e);8>p?(p=hr(Math.pow(e,p)),s=s.R(p).add(hr(b))):s=(s=s.R(t)).add(hr(b))}return s};var Ni=Ut.createWebChannelTransport=function(){return new ui},Zr=Ut.getStatEventTarget=function(){return bo()},Uo=Ut.ErrorCode=js,Ui=Ut.EventType=ko,qo=Ut.Event=Is,Ar=Ut.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},yi=Ut.FetchXmlHttpFactory=_r,Zs=Ut.WebChannel=so,Yo=Ut.XhrIo=pn,ju=Ut.Md5=Ps,Cu=Ut.Integer=Fi;const Jc="@firebase/firestore";class yo{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}yo.UNAUTHENTICATED=new yo(null),yo.GOOGLE_CREDENTIALS=new yo("google-credentials-uid"),yo.FIRST_PARTY=new yo("first-party-uid"),yo.MOCK_USER=new yo("mock-user");let ss="9.22.2";const Cs=new Se.Yd("@firebase/firestore");function uu(){return Cs.logLevel}function gn(r,...e){if(Cs.logLevel<=Se.in.DEBUG){const t=e.map(qa);Cs.debug(`Firestore (${ss}): ${r}`,...t)}}function Js(r,...e){if(Cs.logLevel<=Se.in.ERROR){const t=e.map(qa);Cs.error(`Firestore (${ss}): ${r}`,...t)}}function Ao(r,...e){if(Cs.logLevel<=Se.in.WARN){const t=e.map(qa);Cs.warn(`Firestore (${ss}): ${r}`,...t)}}function qa(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch{return r}}function tn(r="Unexpected state"){const e=`FIRESTORE (${ss}) INTERNAL ASSERTION FAILED: `+r;throw Js(e),new Error(e)}function cr(r,e){r||tn()}function Fn(r,e){return r}const Nt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rn extends Je.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class No{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class $u{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class fl{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(yo.UNAUTHENTICATED))}shutdown(){}}class Tl{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class kl{constructor(e){this.t=e,this.currentUser=yo.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var s=this;let l=this.i;const p=Q=>this.i!==l?(l=this.i,t(Q)):Promise.resolve();let b=new No;this.o=()=>{this.i++,this.currentUser=this.u(),b.resolve(),b=new No,e.enqueueRetryable(()=>p(this.currentUser))};const R=()=>{const Q=b;e.enqueueRetryable((0,Ce.Z)(function*(){yield Q.promise,yield p(s.currentUser)}))},W=Q=>{gn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=Q,this.auth.addAuthTokenListener(this.o),R()};this.t.onInit(Q=>W(Q)),setTimeout(()=>{if(!this.auth){const Q=this.t.getImmediate({optional:!0});Q?W(Q):(gn("FirebaseAuthCredentialsProvider","Auth not yet detected"),b.resolve(),b=new No)}},0),R()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(gn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(cr("string"==typeof s.accessToken),new $u(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return cr(null===e||"string"==typeof e),new yo(e)}}class Qs{constructor(e,t,s){this.h=e,this.l=t,this.m=s,this.type="FirstParty",this.user=yo.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Pa{constructor(e,t,s){this.h=e,this.l=t,this.m=s}getToken(){return Promise.resolve(new Qs(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(yo.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class lu{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class he{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const s=p=>{null!=p.error&&gn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${p.error.message}`);const b=p.token!==this.T;return this.T=p.token,gn("FirebaseAppCheckTokenProvider",`Received ${b?"new":"existing"} token.`),b?t(p.token):Promise.resolve()};this.o=p=>{e.enqueueRetryable(()=>s(p))};const l=p=>{gn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=p,this.appCheck.addTokenListener(this.o)};this.I.onInit(p=>l(p)),setTimeout(()=>{if(!this.appCheck){const p=this.I.getImmediate({optional:!0});p?l(p):gn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(cr("string"==typeof t.token),this.T=t.token,new lu(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Ya(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}class Ho{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const l=Ya(40);for(let p=0;p<l.length;++p)s.length<20&&l[p]<t&&(s+=e.charAt(l[p]%e.length))}return s}}function Un(r,e){return r<e?-1:r>e?1:0}function xa(r,e,t){return r.length===e.length&&r.every((s,l)=>t(s,e[l]))}function Fl(r){return r+"\0"}class os{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new rn(Nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new rn(Nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new rn(Nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new rn(Nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return os.fromMillis(Date.now())}static fromDate(e){return os.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new os(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Un(this.nanoseconds,e.nanoseconds):Un(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class nr{constructor(e){this.timestamp=e}static fromTimestamp(e){return new nr(e)}static min(){return new nr(new os(0,0))}static max(){return new nr(new os(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Go{constructor(e,t,s){void 0===t?t=0:t>e.length&&tn(),void 0===s?s=e.length-t:s>e.length-t&&tn(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return 0===Go.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Go?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let l=0;l<s;l++){const p=e.get(l),b=t.get(l);if(p<b)return-1;if(p>b)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class vi extends Go{construct(e,t,s){return new vi(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new rn(Nt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(l=>l.length>0))}return new vi(t)}static emptyPath(){return new vi([])}}const Qc=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xs extends Go{construct(e,t,s){return new Xs(e,t,s)}static isValidIdentifier(e){return Qc.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xs.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Xs(["__name__"])}static fromServerFormat(e){const t=[];let s="",l=0;const p=()=>{if(0===s.length)throw new rn(Nt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let b=!1;for(;l<e.length;){const R=e[l];if("\\"===R){if(l+1===e.length)throw new rn(Nt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const W=e[l+1];if("\\"!==W&&"."!==W&&"`"!==W)throw new rn(Nt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=W,l+=2}else"`"===R?(b=!b,l++):"."!==R||b?(s+=R,l++):(p(),l++)}if(p(),b)throw new rn(Nt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xs(t)}static emptyPath(){return new Xs([])}}class mn{constructor(e){this.path=e}static fromPath(e){return new mn(vi.fromString(e))}static fromName(e){return new mn(vi.fromString(e).popFirst(5))}static empty(){return new mn(vi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===vi.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return vi.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new mn(new vi(e.slice()))}}class Za{constructor(e,t,s,l){this.indexId=e,this.collectionGroup=t,this.fields=s,this.indexState=l}}function tc(r){return r.fields.find(e=>2===e.kind)}function ka(r){return r.fields.filter(e=>2!==e.kind)}Za.UNKNOWN_ID=-1;class Do{constructor(e,t){this.fieldPath=e,this.kind=t}}class Fa{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Fa(0,Ja.min())}}function zu(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=nr.fromTimestamp(1e9===s?new os(t+1,0):new os(t,s));return new Ja(l,mn.empty(),e)}function Xc(r){return new Ja(r.readTime,r.key,-1)}class Ja{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Ja(nr.min(),mn.empty(),-1)}static max(){return new Ja(nr.max(),mn.empty(),-1)}}function gs(r,e){let t=r.readTime.compareTo(e.readTime);return 0!==t?t:(t=mn.comparator(r.documentKey,e.documentKey),0!==t?t:Un(r.largestBatchId,e.largestBatchId))}const Cl="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Zo{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Wu(r){return wa.apply(this,arguments)}function wa(){return wa=(0,Ce.Z)(function*(r){if(r.code!==Nt.FAILED_PRECONDITION||r.message!==Cl)throw r;gn("LocalStore","Unexpectedly lost primary lease")}),wa.apply(this,arguments)}class nt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&tn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new nt((s,l)=>{this.nextCallback=p=>{this.wrapSuccess(e,p).next(s,l)},this.catchCallback=p=>{this.wrapFailure(t,p).next(s,l)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof nt?t:nt.resolve(t)}catch(t){return nt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):nt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):nt.reject(t)}static resolve(e){return new nt((t,s)=>{t(e)})}static reject(e){return new nt((t,s)=>{s(e)})}static waitFor(e){return new nt((t,s)=>{let l=0,p=0,b=!1;e.forEach(R=>{++l,R.next(()=>{++p,b&&p===l&&t()},W=>s(W))}),b=!0,p===l&&t()})}static or(e){let t=nt.resolve(!1);for(const s of e)t=t.next(l=>l?nt.resolve(l):s());return t}static forEach(e,t){const s=[];return e.forEach((l,p)=>{s.push(t.call(this,l,p))}),this.waitFor(s)}static mapArray(e,t){return new nt((s,l)=>{const p=e.length,b=new Array(p);let R=0;for(let W=0;W<p;W++){const Q=W;t(e[Q]).next(de=>{b[Q]=de,++R,R===p&&s(b)},de=>l(de))}})}static doWhile(e,t){return new nt((s,l)=>{const p=()=>{!0===e()?t().next(()=>{p()},l):s()};p()})}}class Su{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new No,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new O(e,t.error)):this.v.resolve()},this.transaction.onerror=s=>{const l=pe(s.target.error);this.v.reject(new O(e,l))}}static open(e,t,s,l){try{return new Su(t,e.transaction(l,s))}catch(p){throw new O(t,p)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(gn("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new F(t)}}class ia{constructor(e,t,s){this.name=e,this.version=t,this.V=s,12.2===ia.S((0,Je.z$)())&&Js("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return gn("SimpleDb","Removing database:",e),q(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,Je.hl)())return!1;if(ia.C())return!0;const e=(0,Je.z$)(),t=ia.S(e),s=0<t&&t<10,l=ia.N(e),p=0<l&&l<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||p)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static N(e){const t=e.match(/Android ([\d.]+)/i),s=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(s)}$(e){var t=this;return(0,Ce.Z)(function*(){return t.db||(gn("SimpleDb","Opening database:",t.name),t.db=yield new Promise((s,l)=>{const p=indexedDB.open(t.name,t.version);p.onsuccess=b=>{s(b.target.result)},p.onblocked=()=>{l(new O(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},p.onerror=b=>{const R=b.target.error;l("VersionError"===R.name?new rn(Nt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===R.name?new rn(Nt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+R):new O(e,R))},p.onupgradeneeded=b=>{gn("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',b.oldVersion),t.V.O(b.target.result,p.transaction,b.oldVersion,t.version).next(()=>{gn("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=s=>t.F(s)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,s,l){var p=this;return(0,Ce.Z)(function*(){const b="readonly"===t;let R=0;for(;;){++R;try{p.db=yield p.$(e);const W=Su.open(p.db,e,b?"readonly":"readwrite",s),Q=l(W).next(de=>(W.P(),de)).catch(de=>(W.abort(de),nt.reject(de))).toPromise();return Q.catch(()=>{}),yield W.R,Q}catch(W){const Q=W,de="FirebaseError"!==Q.name&&R<3;if(gn("SimpleDb","Transaction failed with error:",Q.message,"Retrying:",de),p.close(),!de)return Promise.reject(Q)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class S{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return q(this.L.delete())}}class O extends rn{constructor(e,t){super(Nt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function E(r){return"IndexedDbTransactionError"===r.name}class F{constructor(e){this.store=e}put(e,t){let s;return void 0!==t?(gn("SimpleDb","PUT",this.store.name,e,t),s=this.store.put(t,e)):(gn("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),q(s)}add(e){return gn("SimpleDb","ADD",this.store.name,e,e),q(this.store.add(e))}get(e){return q(this.store.get(e)).next(t=>(void 0===t&&(t=null),gn("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return gn("SimpleDb","DELETE",this.store.name,e),q(this.store.delete(e))}count(){return gn("SimpleDb","COUNT",this.store.name),q(this.store.count())}j(e,t){const s=this.options(e,t);if(s.index||"function"!=typeof this.store.getAll){const l=this.cursor(s),p=[];return this.W(l,(b,R)=>{p.push(R)}).next(()=>p)}{const l=this.store.getAll(s.range);return new nt((p,b)=>{l.onerror=R=>{b(R.target.error)},l.onsuccess=R=>{p(R.target.result)}})}}H(e,t){const s=this.store.getAll(e,null===t?void 0:t);return new nt((l,p)=>{s.onerror=b=>{p(b.target.error)},s.onsuccess=b=>{l(b.target.result)}})}J(e,t){gn("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,t);s.Y=!1;const l=this.cursor(s);return this.W(l,(p,b,R)=>R.delete())}X(e,t){let s;t?s=e:(s={},t=e);const l=this.cursor(s);return this.W(l,t)}Z(e){const t=this.cursor({});return new nt((s,l)=>{t.onerror=p=>{const b=pe(p.target.error);l(b)},t.onsuccess=p=>{const b=p.target.result;b?e(b.primaryKey,b.value).next(R=>{R?b.continue():s()}):s()}})}W(e,t){const s=[];return new nt((l,p)=>{e.onerror=b=>{p(b.target.error)},e.onsuccess=b=>{const R=b.target.result;if(!R)return void l();const W=new S(R),Q=t(R.primaryKey,R.value,W);if(Q instanceof nt){const de=Q.catch(Pe=>(W.done(),nt.reject(Pe)));s.push(de)}W.isDone?l():null===W.K?R.continue():R.continue(W.K)}}).next(()=>nt.waitFor(s))}options(e,t){let s;return void 0!==e&&("string"==typeof e?s=e:t=e),{index:s,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const s=this.store.index(e.index);return e.Y?s.openKeyCursor(e.range,t):s.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function q(r){return new nt((e,t)=>{r.onsuccess=s=>{e(s.target.result)},r.onerror=s=>{const l=pe(s.target.error);t(l)}})}let ae=!1;function pe(r){const e=ia.S((0,Je.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(r.message.indexOf(t)>=0){const s=new rn("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ae||(ae=!0,setTimeout(()=>{throw s},0)),s}}return r}class rt{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;gn("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Ce.Z)(function*(){t.task=null;try{gn("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(s){E(s)?gn("IndexBackiller","Ignoring IndexedDB error during index backfill: ",s):yield Wu(s)}yield t.et(6e4)}))}}class nn{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,Ce.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>t.st(s,e))})()}st(e,t){const s=new Set;let l=t,p=!0;return nt.doWhile(()=>!0===p&&l>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(b=>{if(null!==b&&!s.has(b))return gn("IndexBackiller",`Processing collection: ${b}`),this.it(e,b,l).next(R=>{l-=R,s.add(b)});p=!1})).next(()=>t-l)}it(e,t,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(l=>this.localStore.localDocuments.getNextDocuments(e,t,l,s).next(p=>{const b=p.changes;return this.localStore.indexManager.updateIndexEntries(e,b).next(()=>this.rt(l,p)).next(R=>(gn("IndexBackiller",`Updating offset: ${R}`),this.localStore.indexManager.updateCollectionGroup(e,t,R))).next(()=>b.size)}))}rt(e,t){let s=e;return t.changes.forEach((l,p)=>{const b=Xc(p);gs(b,s)>0&&(s=b)}),new Ja(s.readTime,s.documentKey,Math.max(t.batchId,e.largestBatchId))}}let An=(()=>{class r{constructor(t,s){this.previousValue=t,s&&(s.sequenceNumberHandler=l=>this.ot(l),this.ut=l=>s.writeSequenceNumber(l))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return r.ct=-1,r})();function Jn(r){return null==r}function Di(r){return 0===r&&1/r==-1/0}function uo(r){return"number"==typeof r&&Number.isInteger(r)&&!Di(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}function cs(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=Ea(e)),e=sa(r.get(t),e);return Ea(e)}function sa(r,e){let t=e;const s=r.length;for(let l=0;l<s;l++){const p=r.charAt(l);switch(p){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=p}}return t}function Ea(r){return r+"\x01\x01"}function Ji(r){const e=r.length;if(cr(e>=2),2===e)return cr("\x01"===r.charAt(0)&&"\x01"===r.charAt(1)),vi.emptyPath();const t=e-2,s=[];let l="";for(let p=0;p<e;){const b=r.indexOf("\x01",p);switch((b<0||b>t)&&tn(),r.charAt(b+1)){case"\x01":const R=r.substring(p,b);let W;0===l.length?W=R:(l+=R,W=l,l=""),s.push(W);break;case"\x10":l+=r.substring(p,b),l+="\0";break;case"\x11":l+=r.substring(p,b+1);break;default:tn()}p=b+2}return new vi(s)}const Au=["userId","batchId"];function Nu(r,e){return[r,cs(e)]}function Ku(r,e,t){return[r,cs(e),t]}const vu={},Mu=["prefixPath","collectionGroup","readTime","documentId"],ed=["prefixPath","collectionGroup","documentId"],td=["collectionGroup","readTime","prefixPath","documentId"],ci=["canonicalId","targetId"],pl=["targetId","path"],rc=["path","targetId"],Jo=["collectionId","parent"],Il=["indexId","uid"],qu=["uid","sequenceNumber"],Qo=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],nd=["indexId","uid","orderedDocumentKey"],ic=["userId","collectionPath","documentId"],Yu=["userId","collectionPath","largestBatchId"],rd=["userId","collectionGroup","largestBatchId"],Qa=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Ll=[...Qa,"documentOverlays"],mc=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],wd=mc,kc=[...wd,"indexConfiguration","indexState","indexEntries"];class Xa extends Zo{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function oa(r,e){const t=Fn(r);return ia.M(t.ht,e)}function bu(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Sl(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function Wd(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class xs{constructor(e,t){this.comparator=e,this.root=t||Xo.EMPTY}insert(e,t){return new xs(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Xo.BLACK,null,null))}remove(e){return new xs(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xo.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(0===s)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(0===l)return t+s.left.size;l<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zu(this.root,e,this.comparator,!0)}}class Zu{constructor(e,t,s,l){this.isReverse=l,this.nodeStack=[];let p=1;for(;!e.isEmpty();)if(p=t?s(e.key,t):1,t&&l&&(p*=-1),p<0)e=this.isReverse?e.left:e.right;else{if(0===p){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xo{constructor(e,t,s,l,p){this.key=e,this.value=t,this.color=s??Xo.RED,this.left=l??Xo.EMPTY,this.right=p??Xo.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,l,p){return new Xo(e??this.key,t??this.value,s??this.color,l??this.left,p??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let l=this;const p=s(e,l.key);return l=p<0?l.copy(null,null,null,l.left.insert(e,t,s),null):0===p?l.copy(null,t,null,null,null):l.copy(null,null,null,null,l.right.insert(e,t,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Xo.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,l=this;if(t(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,t),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===t(e,l.key)){if(l.right.isEmpty())return Xo.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,t))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xo.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw tn();const e=this.left.check();if(e!==this.right.check())throw tn();return e+(this.isRed()?0:1)}}Xo.EMPTY=null,Xo.RED=!0,Xo.BLACK=!1,Xo.EMPTY=new class{constructor(){this.size=0}get key(){throw tn()}get value(){throw tn()}get color(){throw tn()}get left(){throw tn()}get right(){throw tn()}copy(r,e,t,s,l){return this}insert(r,e,t){return new Xo(r,e)}remove(r,e){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Vs{constructor(e){this.comparator=e,this.data=new xs(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;t(l.key)}}forEachWhile(e,t){let s;for(s=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new k(this.data.getIterator())}getIteratorFrom(e){return new k(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Vs)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const l=t.getNext().key,p=s.getNext().key;if(0!==this.comparator(l,p))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Vs(this.comparator);return t.data=e,t}}class k{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function H(r){return r.hasNext()?r.getNext():void 0}class te{constructor(e){this.fields=e,e.sort(Xs.comparator)}static empty(){return new te([])}unionWith(e){let t=new Vs(Xs.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new te(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return xa(this.fields,e.fields,(t,s)=>t.isEqual(s))}}class Ie extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ot{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Ie("Invalid base64 string: "+l):l}}(e);return new ot(t)}static fromUint8Array(e){const t=function(s){let l="";for(let p=0;p<s.length;++p)l+=String.fromCharCode(s[p]);return l}(e);return new ot(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Un(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ot.EMPTY_BYTE_STRING=new ot("");const sn=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yn(r){if(cr(!!r),"string"==typeof r){let e=0;const t=sn.exec(r);if(cr(!!t),t[1]){let l=t[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Sn(r.seconds),nanos:Sn(r.nanos)}}function Sn(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function ar(r){return"string"==typeof r?ot.fromBase64String(r):ot.fromUint8Array(r)}function Kr(r){var e,t;return"server_timestamp"===(null===(t=((null===(e=r?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Lr(r){const e=r.mapValue.fields.__previous_value__;return Kr(e)?Lr(e):e}function ea(r){const e=Yn(r.mapValue.fields.__local_write_time__.timestampValue);return new os(e.seconds,e.nanos)}class Da{constructor(e,t,s,l,p,b,R,W,Q){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=l,this.ssl=p,this.forceLongPolling=b,this.autoDetectLongPolling=R,this.longPollingOptions=W,this.useFetchStreams=Q}}class Mo{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Mo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Mo&&e.projectId===this.projectId&&e.database===this.database}}const gl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ml={nullValue:"NULL_VALUE"};function aa(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Kr(r)?4:nf(r)?9007199254740991:10:tn()}function Ta(r,e){if(r===e)return!0;const t=aa(r);if(t!==aa(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return ea(r).isEqual(ea(e));case 3:return function(s,l){if("string"==typeof s.timestampValue&&"string"==typeof l.timestampValue&&s.timestampValue.length===l.timestampValue.length)return s.timestampValue===l.timestampValue;const p=Yn(s.timestampValue),b=Yn(l.timestampValue);return p.seconds===b.seconds&&p.nanos===b.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return l=e,ar(r.bytesValue).isEqual(ar(l.bytesValue));case 7:return r.referenceValue===e.referenceValue;case 8:return function(s,l){return Sn(s.geoPointValue.latitude)===Sn(l.geoPointValue.latitude)&&Sn(s.geoPointValue.longitude)===Sn(l.geoPointValue.longitude)}(r,e);case 2:return function(s,l){if("integerValue"in s&&"integerValue"in l)return Sn(s.integerValue)===Sn(l.integerValue);if("doubleValue"in s&&"doubleValue"in l){const p=Sn(s.doubleValue),b=Sn(l.doubleValue);return p===b?Di(p)===Di(b):isNaN(p)&&isNaN(b)}return!1}(r,e);case 9:return xa(r.arrayValue.values||[],e.arrayValue.values||[],Ta);case 10:return function(s,l){const p=s.mapValue.fields||{},b=l.mapValue.fields||{};if(bu(p)!==bu(b))return!1;for(const R in p)if(p.hasOwnProperty(R)&&(void 0===b[R]||!Ta(p[R],b[R])))return!1;return!0}(r,e);default:return tn()}var l}function Al(r,e){return void 0!==(r.values||[]).find(t=>Ta(t,e))}function _c(r,e){if(r===e)return 0;const t=aa(r),s=aa(e);if(t!==s)return Un(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Un(r.booleanValue,e.booleanValue);case 2:return function(l,p){const b=Sn(l.integerValue||l.doubleValue),R=Sn(p.integerValue||p.doubleValue);return b<R?-1:b>R?1:b===R?0:isNaN(b)?isNaN(R)?0:-1:1}(r,e);case 3:return Th(r.timestampValue,e.timestampValue);case 4:return Th(ea(r),ea(e));case 5:return Un(r.stringValue,e.stringValue);case 6:return function(l,p){const b=ar(l),R=ar(p);return b.compareTo(R)}(r.bytesValue,e.bytesValue);case 7:return function(l,p){const b=l.split("/"),R=p.split("/");for(let W=0;W<b.length&&W<R.length;W++){const Q=Un(b[W],R[W]);if(0!==Q)return Q}return Un(b.length,R.length)}(r.referenceValue,e.referenceValue);case 8:return function(l,p){const b=Un(Sn(l.latitude),Sn(p.latitude));return 0!==b?b:Un(Sn(l.longitude),Sn(p.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return function(l,p){const b=l.values||[],R=p.values||[];for(let W=0;W<b.length&&W<R.length;++W){const Q=_c(b[W],R[W]);if(Q)return Q}return Un(b.length,R.length)}(r.arrayValue,e.arrayValue);case 10:return function(l,p){if(l===gl.mapValue&&p===gl.mapValue)return 0;if(l===gl.mapValue)return 1;if(p===gl.mapValue)return-1;const b=l.fields||{},R=Object.keys(b),W=p.fields||{},Q=Object.keys(W);R.sort(),Q.sort();for(let de=0;de<R.length&&de<Q.length;++de){const Pe=Un(R[de],Q[de]);if(0!==Pe)return Pe;const Mt=_c(b[R[de]],W[Q[de]]);if(0!==Mt)return Mt}return Un(R.length,Q.length)}(r.mapValue,e.mapValue);default:throw tn()}}function Th(r,e){if("string"==typeof r&&"string"==typeof e&&r.length===e.length)return Un(r,e);const t=Yn(r),s=Yn(e),l=Un(t.seconds,s.seconds);return 0!==l?l:Un(t.nanos,s.nanos)}function Ed(r){return Dd(r)}function Dd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(s){const l=Yn(s);return`time(${l.seconds},${l.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?ar(r.bytesValue).toBase64():"referenceValue"in r?mn.fromName(r.referenceValue).toString():"geoPointValue"in r?`geo(${(e=r.geoPointValue).latitude},${e.longitude})`:"arrayValue"in r?function(s){let l="[",p=!0;for(const b of s.values||[])p?p=!1:l+=",",l+=Dd(b);return l+"]"}(r.arrayValue):"mapValue"in r?function(s){const l=Object.keys(s.fields||{}).sort();let p="{",b=!0;for(const R of l)b?b=!1:p+=",",p+=`${R}:${Dd(s.fields[R])}`;return p+"}"}(r.mapValue):tn();var e}function yc(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function wu(r){return!!r&&"integerValue"in r}function Bl(r){return!!r&&"arrayValue"in r}function Ch(r){return!!r&&"nullValue"in r}function Ih(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function La(r){return!!r&&"mapValue"in r}function jo(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Sl(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=jo(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=jo(r.arrayValue.values[t]);return e}return Object.assign({},r)}function nf(r){return"__max__"===(((r.mapValue||{}).fields||{}).__type__||{}).stringValue}function Eu(r){return"nullValue"in r?ml:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?yc(Mo.empty(),mn.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?{mapValue:{}}:tn()}function lo(r){return"nullValue"in r?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?yc(Mo.empty(),mn.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?{mapValue:{}}:"mapValue"in r?gl:tn()}function id(r,e){const t=_c(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?-1:!r.inclusive&&e.inclusive?1:0}function Kd(r,e){const t=_c(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?1:!r.inclusive&&e.inclusive?-1:0}class ms{constructor(e){this.value=e}static empty(){return new ms({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!La(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=jo(t)}setAll(e){let t=Xs.emptyPath(),s={},l=[];e.forEach((b,R)=>{if(!t.isImmediateParentOf(R)){const W=this.getFieldsMap(t);this.applyChanges(W,s,l),s={},l=[],t=R.popLast()}b?s[R.lastSegment()]=jo(b):l.push(R.lastSegment())});const p=this.getFieldsMap(t);this.applyChanges(p,s,l)}delete(e){const t=this.field(e.popLast());La(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ta(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=t.mapValue.fields[e.get(s)];La(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=l),t=l}return t.mapValue.fields}applyChanges(e,t,s){Sl(t,(l,p)=>e[l]=p);for(const l of s)delete e[l]}clone(){return new ms(jo(this.value))}}function Nl(r){const e=[];return Sl(r.fields,(t,s)=>{const l=new Xs([t]);if(La(s)){const p=Nl(s.mapValue).fields;if(0===p.length)e.push(l);else for(const b of p)e.push(l.child(b))}else e.push(l)}),new te(e)}class zs{constructor(e,t,s,l,p,b,R){this.key=e,this.documentType=t,this.version=s,this.readTime=l,this.createTime=p,this.data=b,this.documentState=R}static newInvalidDocument(e){return new zs(e,0,nr.min(),nr.min(),nr.min(),ms.empty(),0)}static newFoundDocument(e,t,s,l){return new zs(e,1,t,nr.min(),s,l,0)}static newNoDocument(e,t){return new zs(e,2,t,nr.min(),nr.min(),ms.empty(),0)}static newUnknownDocument(e,t){return new zs(e,3,t,nr.min(),nr.min(),ms.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(nr.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ms.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ms.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=nr.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof zs&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zs(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ju{constructor(e,t){this.position=e,this.inclusive=t}}function qd(r,e,t){let s=0;for(let l=0;l<r.position.length;l++){const p=e[l],b=r.position[l];if(s=p.field.isKeyField()?mn.comparator(mn.fromName(b.referenceValue),t.key):_c(b,t.data.field(p.field)),"desc"===p.dir&&(s*=-1),0!==s)break}return s}function Vl(r,e){if(null===r)return null===e;if(null===e||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Ta(r.position[t],e.position[t]))return!1;return!0}class Qu{constructor(e,t="asc"){this.field=e,this.dir=t}}function Td(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class vc{}class Qi extends vc{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,s):new Sh(e,t,s):"array-contains"===t?new Fc(e,s):"in"===t?new Ou(e,s):"not-in"===t?new Gl(e,s):"array-contains-any"===t?new Zd(e,s):new Qi(e,t,s)}static createKeyFieldInFilter(e,t,s){return"in"===t?new rf(e,s):new Ip(e,s)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(_c(t,this.value)):null!==t&&aa(this.value)===aa(t)&&this.matchesComparison(_c(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return tn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Wi extends vc{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Wi(e,t)}matches(e){return sc(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function sc(r){return"and"===r.op}function ua(r){return"or"===r.op}function _l(r){return Xu(r)&&sc(r)}function Xu(r){for(const e of r.filters)if(e instanceof Wi)return!1;return!0}function Ul(r){if(r instanceof Qi)return r.field.canonicalString()+r.op.toString()+Ed(r.value);if(_l(r))return r.filters.map(e=>Ul(e)).join(",");{const e=r.filters.map(t=>Ul(t)).join(",");return`${r.op}(${e})`}}function Yd(r,e){return r instanceof Qi?(t=r,(s=e)instanceof Qi&&t.op===s.op&&t.field.isEqual(s.field)&&Ta(t.value,s.value)):r instanceof Wi?function(t,s){return s instanceof Wi&&t.op===s.op&&t.filters.length===s.filters.length&&t.filters.reduce((l,p,b)=>l&&Yd(p,s.filters[b]),!0)}(r,e):void tn();var t,s}function Cd(r,e){const t=r.filters.concat(e);return Wi.create(t,r.op)}function Hl(r){return r instanceof Qi?`${(e=r).field.canonicalString()} ${e.op} ${Ed(e.value)}`:r instanceof Wi?function(e){return e.op.toString()+" {"+e.getFilters().map(Hl).join(" ,")+"}"}(r):"Filter";var e}class Sh extends Qi{constructor(e,t,s){super(e,t,s),this.key=mn.fromName(s.referenceValue)}matches(e){const t=mn.comparator(e.key,this.key);return this.matchesComparison(t)}}class rf extends Qi{constructor(e,t){super(e,"in",t),this.keys=zf(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Ip extends Qi{constructor(e,t){super(e,"not-in",t),this.keys=zf(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function zf(r,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(s=>mn.fromName(s.referenceValue))}class Fc extends Qi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Bl(t)&&Al(t.arrayValue,this.value)}}class Ou extends Qi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Al(this.value.arrayValue,t)}}class Gl extends Qi{constructor(e,t){super(e,"not-in",t)}matches(e){if(Al(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Al(this.value.arrayValue,t)}}class Zd extends Qi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Bl(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Al(this.value.arrayValue,s))}}class Wf{constructor(e,t=null,s=[],l=[],p=null,b=null,R=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=l,this.limit=p,this.startAt=b,this.endAt=R,this.dt=null}}function oc(r,e=null,t=[],s=[],l=null,p=null,b=null){return new Wf(r,e,t,s,l,p,b)}function Ml(r){const e=Fn(r);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>Ul(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>{return(l=s).field.canonicalString()+l.dir;var l}).join(","),Jn(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Ed(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Ed(s)).join(",")),e.dt=t}return e.dt}function Id(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!Td(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!Yd(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Vl(r.startAt,e.startAt)&&Vl(r.endAt,e.endAt)}function Lc(r){return mn.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}function Jd(r,e){return r.filters.filter(t=>t instanceof Qi&&t.field.isEqual(e))}function bc(r,e,t){let s=ml,l=!0;for(const p of Jd(r,e)){let b=ml,R=!0;switch(p.op){case"<":case"<=":b=Eu(p.value);break;case"==":case"in":case">=":b=p.value;break;case">":b=p.value,R=!1;break;case"!=":case"not-in":b=ml}id({value:s,inclusive:l},{value:b,inclusive:R})<0&&(s=b,l=R)}if(null!==t)for(let p=0;p<r.orderBy.length;++p)if(r.orderBy[p].field.isEqual(e)){const b=t.position[p];id({value:s,inclusive:l},{value:b,inclusive:t.inclusive})<0&&(s=b,l=t.inclusive);break}return{value:s,inclusive:l}}function ac(r,e,t){let s=gl,l=!0;for(const p of Jd(r,e)){let b=gl,R=!0;switch(p.op){case">=":case">":b=lo(p.value),R=!1;break;case"==":case"in":case"<=":b=p.value;break;case"<":b=p.value,R=!1;break;case"!=":case"not-in":b=gl}Kd({value:s,inclusive:l},{value:b,inclusive:R})>0&&(s=b,l=R)}if(null!==t)for(let p=0;p<r.orderBy.length;++p)if(r.orderBy[p].field.isEqual(e)){const b=t.position[p];Kd({value:s,inclusive:l},{value:b,inclusive:t.inclusive})>0&&(s=b,l=t.inclusive);break}return{value:s,inclusive:l}}class el{constructor(e,t=null,s=[],l=[],p=null,b="F",R=null,W=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=l,this.limit=p,this.limitType=b,this.startAt=R,this.endAt=W,this.wt=null,this._t=null}}function Ah(r,e,t,s,l,p,b,R){return new el(r,e,t,s,l,p,b,R)}function sd(r){return new el(r)}function Sd(r){return 0===r.filters.length&&null===r.limit&&null==r.startAt&&null==r.endAt&&(0===r.explicitOrderBy.length||1===r.explicitOrderBy.length&&r.explicitOrderBy[0].field.isKeyField())}function Bc(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}function wc(r){for(const e of r.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function yl(r){return null!==r.collectionGroup}function jl(r){const e=Fn(r);if(null===e.wt){e.wt=[];const t=wc(e),s=Bc(e);if(null!==t&&null===s)t.isKeyField()||e.wt.push(new Qu(t)),e.wt.push(new Qu(Xs.keyField(),"asc"));else{let l=!1;for(const p of e.explicitOrderBy)e.wt.push(p),p.field.isKeyField()&&(l=!0);if(!l){const p=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Qu(Xs.keyField(),p))}}}return e.wt}function Oo(r){const e=Fn(r);if(!e._t)if("F"===e.limitType)e._t=oc(e.path,e.collectionGroup,jl(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const p of jl(e))t.push(new Qu(p.field,"desc"===p.dir?"asc":"desc"));const s=e.endAt?new Ju(e.endAt.position,e.endAt.inclusive):null,l=e.startAt?new Ju(e.startAt.position,e.startAt.inclusive):null;e._t=oc(e.path,e.collectionGroup,t,e.filters,e.limit,s,l)}return e._t}function Ad(r,e){e.getFirstInequalityField(),wc(r);const t=r.filters.concat([e]);return new el(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function Ol(r,e,t){return new el(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function eu(r,e){return Id(Oo(r),Oo(e))&&r.limitType===e.limitType}function Nh(r){return`${Ml(Oo(r))}|lt:${r.limitType}`}function $l(r){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(s=>Hl(s)).join(", ")}]`),Jn(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(s=>{return`${(l=s).field.canonicalString()} (${l.dir})`;var l}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Ed(s)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Ed(s)).join(",")),`Target(${t})`}(Oo(r))}; limitType=${r.limitType})`}function Ec(r,e){return e.isFoundDocument()&&function(t,s){const l=s.key.path;return null!==t.collectionGroup?s.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(l):mn.isDocumentKey(t.path)?t.path.isEqual(l):t.path.isImmediateParentOf(l)}(r,e)&&function(t,s){for(const l of jl(t))if(!l.field.isKeyField()&&null===s.data.field(l.field))return!1;return!0}(r,e)&&function(t,s){for(const l of t.filters)if(!l.matches(s))return!1;return!0}(r,e)&&(s=e,!((t=r).startAt&&!function(l,p,b){const R=qd(l,p,b);return l.inclusive?R<=0:R<0}(t.startAt,jl(t),s)||t.endAt&&!function(l,p,b){const R=qd(l,p,b);return l.inclusive?R>=0:R>0}(t.endAt,jl(t),s)));var t,s}function Nd(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Ru(r){return(e,t)=>{let s=!1;for(const l of jl(r)){const p=Mh(l,e,t);if(0!==p)return p;s=s||l.field.isKeyField()}return 0}}function Mh(r,e,t){const s=r.field.isKeyField()?mn.comparator(e.key,t.key):function(l,p,b){const R=p.data.field(l),W=b.data.field(l);return null!==R&&null!==W?_c(R,W):tn()}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return tn()}}class Du{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0!==s)for(const[l,p]of s)if(this.equalsFn(l,e))return p}has(e){return void 0!==this.get(e)}set(e,t){const s=this.mapKeyFn(e),l=this.inner[s];if(void 0===l)return this.inner[s]=[[e,t]],void this.innerSize++;for(let p=0;p<l.length;p++)if(this.equalsFn(l[p][0],e))return void(l[p]=[e,t]);l.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0===s)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return 1===s.length?delete this.inner[t]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Sl(this.inner,(t,s)=>{for(const[l,p]of s)e(l,p)})}isEmpty(){return Wd(this.inner)}size(){return this.innerSize}}const Kf=new xs(mn.comparator);function Tu(){return Kf}const sf=new xs(mn.comparator);function zl(...r){let e=sf;for(const t of r)e=e.insert(t.key,t);return e}function Rl(r){let e=sf;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function tu(){return tl()}function od(){return tl()}function tl(){return new Du(r=>r.toString(),(r,e)=>r.isEqual(e))}const Qd=new xs(mn.comparator),Vc=new Vs(mn.comparator);function xn(...r){let e=Vc;for(const t of r)e=e.add(t);return e}const Wl=new Vs(Un);function Pu(){return Wl}function vl(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Di(e)?"-0":e}}function Oh(r){return{integerValue:""+r}}function uc(r,e){return uo(e)?Oh(e):vl(r,e)}class Uc{constructor(){this._=void 0}}function Us(r,e,t){return r instanceof bl?function(s,l){const p={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return l&&Kr(l)&&(l=Lr(l)),l&&(p.fields.__previous_value__=l),{mapValue:p}}(t,e):r instanceof Kl?Od(r,e):r instanceof Tc?Xd(r,e):function(s,l){const p=Md(s,l),b=co(p)+co(s.gt);return wu(p)&&wu(s.gt)?Oh(b):vl(s.serializer,b)}(r,e)}function Dc(r,e,t){return r instanceof Kl?Od(r,e):r instanceof Tc?Xd(r,e):t}function Md(r,e){return r instanceof Hc?wu(t=e)||(s=t)&&"doubleValue"in s?e:{integerValue:0}:null;var s,t}class bl extends Uc{}class Kl extends Uc{constructor(e){super(),this.elements=e}}function Od(r,e){const t=Ro(e);for(const s of r.elements)t.some(l=>Ta(l,s))||t.push(s);return{arrayValue:{values:t}}}class Tc extends Uc{constructor(e){super(),this.elements=e}}function Xd(r,e){let t=Ro(e);for(const s of r.elements)t=t.filter(l=>!Ta(l,s));return{arrayValue:{values:t}}}class Hc extends Uc{constructor(e,t){super(),this.serializer=e,this.gt=t}}function co(r){return Sn(r.integerValue||r.doubleValue)}function Ro(r){return Bl(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class Cc{constructor(e,t){this.field=e,this.transform=t}}class eh{constructor(e,t){this.version=e,this.transformResults=t}}class To{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new To}static exists(e){return new To(void 0,e)}static updateTime(e){return new To(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ba(r,e){return void 0!==r.updateTime?e.isFoundDocument()&&e.version.isEqual(r.updateTime):void 0===r.exists||r.exists===e.isFoundDocument()}class ql{}function ad(r,e){if(!r.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return r.isNoDocument()?new cc(r.key,To.none()):new lc(r.key,r.data,To.none());{const t=r.data,s=ms.empty();let l=new Vs(Xs.comparator);for(let p of e.fields)if(!l.has(p)){let b=t.field(p);null===b&&p.length>1&&(p=p.popLast(),b=t.field(p)),null===b?s.delete(p):s.set(p,b),l=l.add(p)}return new nu(r.key,s,new te(l.toArray()),To.none())}}function uf(r,e,t){r instanceof lc?function(s,l,p){const b=s.value.clone(),R=lf(s.fieldTransforms,l,p.transformResults);b.setAll(R),l.convertToFoundDocument(p.version,b).setHasCommittedMutations()}(r,e,t):r instanceof nu?function(s,l,p){if(!Ba(s.precondition,l))return void l.convertToUnknownDocument(p.version);const b=lf(s.fieldTransforms,l,p.transformResults),R=l.data;R.setAll(Ic(s)),R.setAll(b),l.convertToFoundDocument(p.version,R).setHasCommittedMutations()}(r,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function nl(r,e,t,s){return r instanceof lc?function(l,p,b,R){if(!Ba(l.precondition,p))return b;const W=l.value.clone(),Q=th(l.fieldTransforms,R,p);return W.setAll(Q),p.convertToFoundDocument(p.version,W).setHasLocalMutations(),null}(r,e,t,s):r instanceof nu?function(l,p,b,R){if(!Ba(l.precondition,p))return b;const W=th(l.fieldTransforms,R,p),Q=p.data;return Q.setAll(Ic(l)),Q.setAll(W),p.convertToFoundDocument(p.version,Q).setHasLocalMutations(),null===b?null:b.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(de=>de.field))}(r,e,t,s):(b=t,Ba(r.precondition,p=e)?(p.convertToNoDocument(p.version).setHasLocalMutations(),null):b);var p,b}function ud(r,e){let t=null;for(const s of r.fieldTransforms){const l=e.data.field(s.field),p=Md(s.transform,l||null);null!=p&&(null===t&&(t=ms.empty()),t.set(s.field,p))}return t||null}function Rh(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(t=r.fieldTransforms)&&void 0===s||t&&s&&xa(t,s,(l,p)=>function af(r,e){return r.field.isEqual(e.field)&&(s=e.transform,(t=r.transform)instanceof Kl&&s instanceof Kl||t instanceof Tc&&s instanceof Tc?xa(t.elements,s.elements,Ta):t instanceof Hc&&s instanceof Hc?Ta(t.gt,s.gt):t instanceof bl&&s instanceof bl);var t,s}(l,p))))&&(0===r.type?r.value.isEqual(e.value):1!==r.type||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask));var t,s}class lc extends ql{constructor(e,t,s,l=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class nu extends ql{constructor(e,t,s,l,p=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=l,this.fieldTransforms=p,this.type=1}getFieldMask(){return this.fieldMask}}function Ic(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function lf(r,e,t){const s=new Map;cr(r.length===t.length);for(let l=0;l<t.length;l++){const p=r[l],b=p.transform,R=e.data.field(p.field);s.set(p.field,Dc(b,R,t[l]))}return s}function th(r,e,t){const s=new Map;for(const l of r){const p=l.transform,b=t.data.field(l.field);s.set(l.field,Us(p,b,e))}return s}class cc extends ql{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ld extends ql{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class D{constructor(e,t,s,l){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let l=0;l<this.mutations.length;l++){const p=this.mutations[l];p.key.isEqual(e.key)&&uf(p,e,s[l])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=nl(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=nl(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=od();return this.mutations.forEach(l=>{const p=e.get(l.key),b=p.overlayedDocument;let R=this.applyToLocalView(b,p.mutatedFields);R=t.has(l.key)?null:R;const W=ad(b,R);null!==W&&s.set(l.key,W),b.isValidDocument()||b.convertToNoDocument(nr.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),xn())}isEqual(e){return this.batchId===e.batchId&&xa(this.mutations,e.mutations,(t,s)=>Rh(t,s))&&xa(this.baseMutations,e.baseMutations,(t,s)=>Rh(t,s))}}class m{constructor(e,t,s,l){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=l}static from(e,t,s){cr(e.mutations.length===s.length);let l=Qd;const p=e.mutations;for(let b=0;b<p.length;b++)l=l.insert(p[b].key,s[b].version);return new m(e,t,s,l)}}class y{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Z{constructor(e,t){this.count=e,this.unchangedNames=t}}var oe,Ne;function bt(r){switch(r){default:return tn();case Nt.CANCELLED:case Nt.UNKNOWN:case Nt.DEADLINE_EXCEEDED:case Nt.RESOURCE_EXHAUSTED:case Nt.INTERNAL:case Nt.UNAVAILABLE:case Nt.UNAUTHENTICATED:return!1;case Nt.INVALID_ARGUMENT:case Nt.NOT_FOUND:case Nt.ALREADY_EXISTS:case Nt.PERMISSION_DENIED:case Nt.FAILED_PRECONDITION:case Nt.ABORTED:case Nt.OUT_OF_RANGE:case Nt.UNIMPLEMENTED:case Nt.DATA_LOSS:return!0}}function _n(r){if(void 0===r)return Js("GRPC error has no .code"),Nt.UNKNOWN;switch(r){case oe.OK:return Nt.OK;case oe.CANCELLED:return Nt.CANCELLED;case oe.UNKNOWN:return Nt.UNKNOWN;case oe.DEADLINE_EXCEEDED:return Nt.DEADLINE_EXCEEDED;case oe.RESOURCE_EXHAUSTED:return Nt.RESOURCE_EXHAUSTED;case oe.INTERNAL:return Nt.INTERNAL;case oe.UNAVAILABLE:return Nt.UNAVAILABLE;case oe.UNAUTHENTICATED:return Nt.UNAUTHENTICATED;case oe.INVALID_ARGUMENT:return Nt.INVALID_ARGUMENT;case oe.NOT_FOUND:return Nt.NOT_FOUND;case oe.ALREADY_EXISTS:return Nt.ALREADY_EXISTS;case oe.PERMISSION_DENIED:return Nt.PERMISSION_DENIED;case oe.FAILED_PRECONDITION:return Nt.FAILED_PRECONDITION;case oe.ABORTED:return Nt.ABORTED;case oe.OUT_OF_RANGE:return Nt.OUT_OF_RANGE;case oe.UNIMPLEMENTED:return Nt.UNIMPLEMENTED;case oe.DATA_LOSS:return Nt.DATA_LOSS;default:return tn()}}(Ne=oe||(oe={}))[Ne.OK=0]="OK",Ne[Ne.CANCELLED=1]="CANCELLED",Ne[Ne.UNKNOWN=2]="UNKNOWN",Ne[Ne.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ne[Ne.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ne[Ne.NOT_FOUND=5]="NOT_FOUND",Ne[Ne.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ne[Ne.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ne[Ne.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ne[Ne.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ne[Ne.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ne[Ne.ABORTED=10]="ABORTED",Ne[Ne.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ne[Ne.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ne[Ne.INTERNAL=13]="INTERNAL",Ne[Ne.UNAVAILABLE=14]="UNAVAILABLE",Ne[Ne.DATA_LOSS=15]="DATA_LOSS";class Gn{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return or}static getOrCreateInstance(){return null===or&&(or=new Gn),or}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let or=null;function ur(){return new TextEncoder}const ho=new Cu([4294967295,4294967295],0);function rl(r){const e=ur().encode(r),t=new ju;return t.update(e),new Uint8Array(t.digest())}function Gc(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),l=e.getUint32(8,!0),p=e.getUint32(12,!0);return[new Cu([t,s],0),new Cu([l,p],0)]}class Rd{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new eo(`Invalid padding: ${t}`);if(s<0)throw new eo(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new eo(`Invalid hash count: ${s}`);if(0===e.length&&0!==t)throw new eo(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Cu.fromNumber(this.It)}Et(e,t,s){let l=e.add(t.multiply(Cu.fromNumber(s)));return 1===l.compare(ho)&&(l=new Cu([l.getBits(0),l.getBits(1)],0)),l.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=rl(e),[s,l]=Gc(t);for(let p=0;p<this.hashCount;p++){const b=this.Et(s,l,p);if(!this.At(b))return!1}return!0}static create(e,t,s){const l=e%8==0?0:8-e%8,p=new Uint8Array(Math.ceil(e/8)),b=new Rd(p,l,t);return s.forEach(R=>b.insert(R)),b}insert(e){if(0===this.It)return;const t=rl(e),[s,l]=Gc(t);for(let p=0;p<this.hashCount;p++){const b=this.Et(s,l,p);this.Rt(b)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class eo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class jc{constructor(e,t,s,l,p){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=p}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const l=new Map;return l.set(e,cd.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new jc(nr.min(),l,new xs(Un),Tu(),xn())}}class cd{constructor(e,t,s,l,p){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=p}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new cd(s,t,xn(),xn(),xn())}}class Sc{constructor(e,t,s,l){this.Pt=e,this.removedTargetIds=t,this.key=s,this.bt=l}}class Pd{constructor(e,t){this.targetId=e,this.Vt=t}}class xd{constructor(e,t,s=ot.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=l}}class nh{constructor(){this.St=0,this.Dt=rh(),this.Ct=ot.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=xn(),t=xn(),s=xn();return this.Dt.forEach((l,p)=>{switch(p){case 0:e=e.add(l);break;case 2:t=t.add(l);break;case 1:s=s.add(l);break;default:tn()}}),new cd(this.Ct,this.xt,e,t,s)}Ft(){this.Nt=!1,this.Dt=rh()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class qf{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Tu(),this.zt=Yf(),this.Wt=new xs(Un)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const s=this.Zt(t);switch(e.state){case 0:this.te(t)&&s.$t(e.resumeToken);break;case 1:s.Ut(),s.kt||s.Ft(),s.$t(e.resumeToken);break;case 2:s.Ut(),s.kt||this.removeTarget(t);break;case 3:this.te(t)&&(s.Kt(),s.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),s.$t(e.resumeToken));break;default:tn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((s,l)=>{this.te(l)&&t(l)})}ne(e){var t;const s=e.targetId,l=e.Vt.count,p=this.se(s);if(p){const b=p.target;if(Lc(b))if(0===l){const R=new mn(b.path);this.Yt(s,R,zs.newNoDocument(R,nr.min()))}else cr(1===l);else{const R=this.ie(s);if(R!==l){const W=this.re(e,R);0!==W&&(this.ee(s),this.Wt=this.Wt.insert(s,2===W?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=Gn.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(Q,de,Pe){var Mt,Qt,Ln,ir,er,Ki;const Ms={localCacheCount:de,existenceFilterCount:Pe.count},Ri=Pe.unchangedNames;return Ri&&(Ms.bloomFilter={applied:0===Q,hashCount:null!==(Mt=Ri?.hashCount)&&void 0!==Mt?Mt:0,bitmapLength:null!==(ir=null===(Ln=null===(Qt=Ri?.bits)||void 0===Qt?void 0:Qt.bitmap)||void 0===Ln?void 0:Ln.length)&&void 0!==ir?ir:0,padding:null!==(Ki=null===(er=Ri?.bits)||void 0===er?void 0:er.padding)&&void 0!==Ki?Ki:0}),Ms}(W,R,e.Vt))}}}}re(e,t){const{unchangedNames:s,count:l}=e.Vt;if(!s||!s.bits)return 1;const{bits:{bitmap:p="",padding:b=0},hashCount:R=0}=s;let W,Q;try{W=ar(p).toUint8Array()}catch(de){if(de instanceof Ie)return Ao("Decoding the base64 bloom filter in existence filter failed ("+de.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw de}try{Q=new Rd(W,b,R)}catch(de){return Ao(de instanceof eo?"BloomFilter error: ":"Applying bloom filter failed: ",de),1}return 0===Q.It?1:l!==t-this.oe(e.targetId,Q)?2:0}oe(e,t){const s=this.Gt.getRemoteKeysForTarget(e);let l=0;return s.forEach(p=>{const b=this.Gt.ue(),R=`projects/${b.projectId}/databases/${b.database}/documents/${p.path.canonicalString()}`;t.vt(R)||(this.Yt(e,p,null),l++)}),l}ce(e){const t=new Map;this.Qt.forEach((p,b)=>{const R=this.se(b);if(R){if(p.current&&Lc(R.target)){const W=new mn(R.target.path);null!==this.jt.get(W)||this.ae(b,W)||this.Yt(b,W,zs.newNoDocument(W,e))}p.Mt&&(t.set(b,p.Ot()),p.Ft())}});let s=xn();this.zt.forEach((p,b)=>{let R=!0;b.forEachWhile(W=>{const Q=this.se(W);return!Q||"TargetPurposeLimboResolution"===Q.purpose||(R=!1,!1)}),R&&(s=s.add(p))}),this.jt.forEach((p,b)=>b.setReadTime(e));const l=new jc(e,t,this.Wt,this.jt,s);return this.jt=Tu(),this.zt=Yf(),this.Wt=new xs(Un),l}Jt(e,t){if(!this.te(e))return;const s=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,s),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,s){if(!this.te(e))return;const l=this.Zt(e);this.ae(e,t)?l.Bt(t,1):l.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),s&&(this.jt=this.jt.insert(t,s))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new nh,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Vs(Un),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||gn("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new nh),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function Yf(){return new xs(mn.comparator)}function rh(){return new xs(mn.comparator)}const cf={asc:"ASCENDING",desc:"DESCENDING"},wm={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},df={and:"AND",or:"OR"};class Sp{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Zf(r,e){return r.useProto3Json||Jn(e)?e:{value:e}}function kd(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ap(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function dc(r,e){return kd(r,e.toTimestamp())}function Va(r){return cr(!!r),nr.fromTimestamp(function(e){const t=Yn(e);return new os(t.seconds,t.nanos)}(r))}function Jf(r,e){return(t=r,new vi(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function hf(r){const e=vi.fromString(r);return cr(Xi(e)),e}function Fd(r,e){return Jf(r.databaseId,e.path)}function dd(r,e){const t=hf(e);if(t.get(1)!==r.databaseId.projectId)throw new rn(Nt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new rn(Nt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new mn(pf(t))}function ff(r,e){return Jf(r.databaseId,e)}function _g(r){const e=hf(r);return 4===e.length?vi.emptyPath():pf(e)}function ih(r){return new vi(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function pf(r){return cr(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function Np(r,e,t){return{name:Fd(r,e),fields:t.value.mapValue.fields}}function Ld(r,e,t){const s=dd(r,e.name),l=Va(e.updateTime),p=e.createTime?Va(e.createTime):nr.min(),b=new ms({mapValue:{fields:e.fields}}),R=zs.newFoundDocument(s,l,p,b);return t&&R.setHasCommittedMutations(),t?R.setHasCommittedMutations():R}function hd(r,e){let t;if(e instanceof lc)t={update:Np(r,e.key,e.value)};else if(e instanceof cc)t={delete:Fd(r,e.key)};else if(e instanceof nu)t={update:Np(r,e.key,e.data),updateMask:Xn(e.fieldMask)};else{if(!(e instanceof ld))return tn();t={verify:Fd(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(l,p){const b=p.transform;if(b instanceof bl)return{fieldPath:p.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(b instanceof Kl)return{fieldPath:p.field.canonicalString(),appendMissingElements:{values:b.elements}};if(b instanceof Tc)return{fieldPath:p.field.canonicalString(),removeAllFromArray:{values:b.elements}};if(b instanceof Hc)return{fieldPath:p.field.canonicalString(),increment:b.gt};throw tn()}(0,s))),e.precondition.isNone||(t.currentDocument=void 0!==(l=e.precondition).updateTime?{updateTime:dc(r,l.updateTime)}:void 0!==l.exists?{exists:l.exists}:tn()),t;var l}function h(r,e){const t=e.currentDocument?void 0!==(l=e.currentDocument).updateTime?To.updateTime(Va(l.updateTime)):void 0!==l.exists?To.exists(l.exists):To.none():To.none(),s=e.updateTransforms?e.updateTransforms.map(l=>function(p,b){let R=null;"setToServerValue"in b?(cr("REQUEST_TIME"===b.setToServerValue),R=new bl):"appendMissingElements"in b?R=new Kl(b.appendMissingElements.values||[]):"removeAllFromArray"in b?R=new Tc(b.removeAllFromArray.values||[]):"increment"in b?R=new Hc(p,b.increment):tn();const W=Xs.fromServerFormat(b.fieldPath);return new Cc(W,R)}(r,l)):[];var l;if(e.update){const l=dd(r,e.update.name),p=new ms({mapValue:{fields:e.update.fields}});if(e.updateMask){const b=new te((e.updateMask.fieldPaths||[]).map(Q=>Xs.fromServerFormat(Q)));return new nu(l,p,b,t,s)}return new lc(l,p,t,s)}if(e.delete){const l=dd(r,e.delete);return new cc(l,t)}if(e.verify){const l=dd(r,e.verify);return new ld(l,t)}return tn()}function u(r,e){return{documents:[ff(r,e.path)]}}function _(r,e){const t={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(t.parent=ff(r,s),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=ff(r,s.popLast()),t.structuredQuery.from=[{collectionId:s.lastSegment()}]);const l=function(W){if(0!==W.length)return Rn(Wi.create(W,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const p=function(W){if(0!==W.length)return W.map(Q=>{return{field:Bt((de=Q).field),direction:Ve(de.dir)};var de})}(e.orderBy);p&&(t.structuredQuery.orderBy=p);const b=Zf(r,e.limit);var R,W;return null!==b&&(t.structuredQuery.limit=b),e.startAt&&(t.structuredQuery.startAt={before:(R=e.startAt).inclusive,values:R.position}),e.endAt&&(t.structuredQuery.endAt={before:!(W=e.endAt).inclusive,values:W.position}),t}function N(r){let e=_g(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let l=null;if(s>0){cr(1===s);const de=t.from[0];de.allDescendants?l=de.collectionId:e=e.child(de.collectionId)}let p=[];t.where&&(p=function(de){const Pe=ye(de);return Pe instanceof Wi&&_l(Pe)?Pe.getFilters():[Pe]}(t.where));let b=[];t.orderBy&&(b=t.orderBy.map(de=>{return new Qu(Qn((Pe=de).field),function(Mt){switch(Mt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Pe.direction));var Pe}));let R=null;t.limit&&(R=function(de){let Pe;return Pe="object"==typeof de?de.value:de,Jn(Pe)?null:Pe}(t.limit));let W=null;var de;t.startAt&&(W=new Ju((de=t.startAt).values||[],!!de.before));let Q=null;return t.endAt&&(Q=function(de){return new Ju(de.values||[],!de.before)}(t.endAt)),Ah(e,l,b,p,R,"F",W,Q)}function ye(r){return void 0!==r.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Qn(e.unaryFilter.field);return Qi.create(t,"==",{doubleValue:NaN});case"IS_NULL":const s=Qn(e.unaryFilter.field);return Qi.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Qn(e.unaryFilter.field);return Qi.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const p=Qn(e.unaryFilter.field);return Qi.create(p,"!=",{nullValue:"NULL_VALUE"});default:return tn()}}(r):void 0!==r.fieldFilter?Qi.create(Qn((e=r).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return tn()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==r.compositeFilter?function(e){return Wi.create(e.compositeFilter.filters.map(t=>ye(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return tn()}}(e.compositeFilter.op))}(r):tn();var e}function Ve(r){return cf[r]}function Ze(r){return wm[r]}function Dt(r){return df[r]}function Bt(r){return{fieldPath:r.canonicalString()}}function Qn(r){return Xs.fromServerFormat(r.fieldPath)}function Rn(r){return r instanceof Qi?function(e){if("=="===e.op){if(Ih(e.value))return{unaryFilter:{field:Bt(e.field),op:"IS_NAN"}};if(Ch(e.value))return{unaryFilter:{field:Bt(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Ih(e.value))return{unaryFilter:{field:Bt(e.field),op:"IS_NOT_NAN"}};if(Ch(e.value))return{unaryFilter:{field:Bt(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bt(e.field),op:Ze(e.op),value:e.value}}}(r):r instanceof Wi?function(e){const t=e.getFilters().map(s=>Rn(s));return 1===t.length?t[0]:{compositeFilter:{op:Dt(e.op),filters:t}}}(r):tn()}function Xn(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Xi(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}class vr{constructor(e,t,s,l,p=nr.min(),b=nr.min(),R=ot.EMPTY_BYTE_STRING,W=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=p,this.lastLimboFreeSnapshotVersion=b,this.resumeToken=R,this.expectedCount=W}withSequenceNumber(e){return new vr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new vr(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Ti{constructor(e){this.fe=e}}function hs(r,e){const t=e.key,s={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:fo(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:Fd(l=r.fe,(p=e).key),fields:p.data.value.mapValue.fields,updateTime:kd(l,p.version.toTimestamp()),createTime:kd(l,p.createTime.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:t.path.toArray(),readTime:ri(e.version)};else{if(!e.isUnknownDocument())return tn();s.unknownDocument={path:t.path.toArray(),version:ri(e.version)}}var l,p;return s}function fo(r){const e=r.toTimestamp();return[e.seconds,e.nanoseconds]}function ri(r){const e=r.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function es(r){const e=new os(r.seconds,r.nanoseconds);return nr.fromTimestamp(e)}function Hi(r,e){const t=(e.baseMutations||[]).map(p=>h(r.fe,p));for(let p=0;p<e.mutations.length-1;++p)p+1<e.mutations.length&&void 0!==e.mutations[p+1].transform&&(e.mutations[p].updateTransforms=e.mutations[p+1].transform.fieldTransforms,e.mutations.splice(p+1,1),++p);const s=e.mutations.map(p=>h(r.fe,p)),l=os.fromMillis(e.localWriteTimeMs);return new D(e.batchId,l,t,s)}function Ns(r){const e=es(r.readTime),t=void 0!==r.lastLimboFreeSnapshotVersion?es(r.lastLimboFreeSnapshotVersion):nr.min();let s;var l;return void 0!==r.query.documents?(cr(1===(l=r.query).documents.length),s=Oo(sd(_g(l.documents[0])))):s=Oo(N(r.query)),new vr(s,r.targetId,"TargetPurposeListen",r.lastListenSequenceNumber,e,t,ot.fromBase64String(r.resumeToken))}function vo(r,e){const t=ri(e.snapshotVersion),s=ri(e.lastLimboFreeSnapshotVersion);let l;l=Lc(e.target)?u(r.fe,e.target):_(r.fe,e.target);const p=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ml(e.target),readTime:t,resumeToken:p,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:l}}function la(r){const e=N({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?Ol(e,e.limit,"L"):e}function Ca(r,e){return new y(e.largestBatchId,h(r.fe,e.overlayMutation))}function Ua(r,e){const t=e.path.lastSegment();return[r,cs(e.path.popLast()),t]}function Yl(r,e,t,s){return{indexId:r,uid:e.uid||"",sequenceNumber:t,readTime:ri(s.readTime),documentKey:cs(s.documentKey.path),largestBatchId:s.largestBatchId}}class xu{getBundleMetadata(e,t){return $c(e).get(t).next(s=>{if(s)return{id:(l=s).bundleId,createTime:es(l.createTime),version:l.version};var l})}saveBundleMetadata(e,t){return $c(e).put({bundleId:(s=t).id,createTime:ri(Va(s.createTime)),version:s.version});var s}getNamedQuery(e,t){return Ac(e).get(t).next(s=>{if(s)return{name:(l=s).name,query:la(l.bundledQuery),readTime:es(l.readTime)};var l})}saveNamedQuery(e,t){return Ac(e).put({name:(s=t).name,readTime:ri(Va(s.readTime)),bundledQuery:s.bundledQuery});var s}}function $c(r){return oa(r,"bundles")}function Ac(r){return oa(r,"namedQueries")}class du{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new du(e,t.uid||"")}getOverlay(e,t){return il(e).get(Ua(this.userId,t)).next(s=>s?Ca(this.serializer,s):null)}getOverlays(e,t){const s=tu();return nt.forEach(t,l=>this.getOverlay(e,l).next(p=>{null!==p&&s.set(l,p)})).next(()=>s)}saveOverlays(e,t,s){const l=[];return s.forEach((p,b)=>{const R=new y(t,b);l.push(this.we(e,R))}),nt.waitFor(l)}removeOverlaysForBatchId(e,t,s){const l=new Set;t.forEach(b=>l.add(cs(b.getCollectionPath())));const p=[];return l.forEach(b=>{const R=IDBKeyRange.bound([this.userId,b,s],[this.userId,b,s+1],!1,!0);p.push(il(e).J("collectionPathOverlayIndex",R))}),nt.waitFor(p)}getOverlaysForCollection(e,t,s){const l=tu(),p=cs(t),b=IDBKeyRange.bound([this.userId,p,s],[this.userId,p,Number.POSITIVE_INFINITY],!0);return il(e).j("collectionPathOverlayIndex",b).next(R=>{for(const W of R){const Q=Ca(this.serializer,W);l.set(Q.getKey(),Q)}return l})}getOverlaysForCollectionGroup(e,t,s,l){const p=tu();let b;const R=IDBKeyRange.bound([this.userId,t,s],[this.userId,t,Number.POSITIVE_INFINITY],!0);return il(e).X({index:"collectionGroupOverlayIndex",range:R},(W,Q,de)=>{const Pe=Ca(this.serializer,Q);p.size()<l||Pe.largestBatchId===b?(p.set(Pe.getKey(),Pe),b=Pe.largestBatchId):de.done()}).next(()=>p)}we(e,t){return il(e).put(function(s,l,p){const[b,R,W]=Ua(l,p.mutation.key);return{userId:l,collectionPath:R,documentId:W,collectionGroup:p.mutation.key.getCollectionGroup(),largestBatchId:p.largestBatchId,overlayMutation:hd(s.fe,p.mutation)}}(this.serializer,this.userId,t))}}function il(r){return oa(r,"documentOverlays")}class Zl{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Sn(e.integerValue));else if("doubleValue"in e){const s=Sn(e.doubleValue);isNaN(s)?this.ye(t,13):(this.ye(t,15),Di(s)?t.pe(0):t.pe(s))}else if("timestampValue"in e){const s=e.timestampValue;this.ye(t,20),"string"==typeof s?t.Ie(s):(t.Ie(`${s.seconds||""}`),t.pe(s.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(ar(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const s=e.geoPointValue;this.ye(t,45),t.pe(s.latitude||0),t.pe(s.longitude||0)}else"mapValue"in e?nf(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):tn()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const s=e.fields||{};this.ye(t,55);for(const l of Object.keys(s))this.Te(l,t),this.me(s[l],t)}Pe(e,t){const s=e.values||[];this.ye(t,50);for(const l of s)this.me(l,t)}ve(e,t){this.ye(t,37),mn.fromName(e).path.forEach(s=>{this.ye(t,60),this.be(s,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function hc(r){if(0===r)return 8;let e=0;return!(r>>4)&&(e+=4,r<<=4),!(r>>6)&&(e+=2,r<<=2),!(r>>7)&&(e+=1),e}function Ph(r){const e=64-function(t){let s=0;for(let l=0;l<8;++l){const p=hc(255&t[l]);if(s+=p,8!==p)break}return s}(r);return Math.ceil(e/8)}Zl.Ve=new Zl;class Xf{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.De(s.value),s=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.Ne(s.value),s=t.next();this.ke()}Me(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.De(s);else if(s<2048)this.De(960|s>>>6),this.De(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.De(480|s>>>12),this.De(128|63&s>>>6),this.De(128|63&s);else{const l=t.codePointAt(0);this.De(240|l>>>18),this.De(128|63&l>>>12),this.De(128|63&l>>>6),this.De(128|63&l)}}this.Ce()}$e(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.Ne(s);else if(s<2048)this.Ne(960|s>>>6),this.Ne(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|s>>>12),this.Ne(128|63&s>>>6),this.Ne(128|63&s);else{const l=t.codePointAt(0);this.Ne(240|l>>>18),this.Ne(128|63&l>>>12),this.Ne(128|63&l>>>6),this.Ne(128|63&l)}}this.ke()}Oe(e){const t=this.Fe(e),s=Ph(t);this.Be(1+s),this.buffer[this.position++]=255&s;for(let l=t.length-s;l<t.length;++l)this.buffer[this.position++]=255&t[l]}Le(e){const t=this.Fe(e),s=Ph(t);this.Be(1+s),this.buffer[this.position++]=~(255&s);for(let l=t.length-s;l<t.length;++l)this.buffer[this.position++]=~(255&t[l])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(l){const p=new DataView(new ArrayBuffer(8));return p.setFloat64(0,l,!1),new Uint8Array(p.buffer)}(e),s=0!=(128&t[0]);t[0]^=s?255:128;for(let l=1;l<t.length;++l)t[l]^=s?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let s=2*this.buffer.length;s<t&&(s=t);const l=new Uint8Array(s);l.set(this.buffer),this.buffer=l}}class xh{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class gf{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class Nc{constructor(){this.je=new Xf,this.ze=new xh(this.je),this.We=new gf(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class wl{constructor(e,t,s,l){this.indexId=e,this.documentKey=t,this.arrayValue=s,this.directionalValue=l}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(t);return s.set(this.directionalValue,0),t!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new wl(this.indexId,this.documentKey,this.arrayValue,s)}}function Jl(r,e){let t=r.indexId-e.indexId;return 0!==t?t:(t=Mc(r.arrayValue,e.arrayValue),0!==t?t:(t=Mc(r.directionalValue,e.directionalValue),0!==t?t:mn.comparator(r.documentKey,e.documentKey)))}function Mc(r,e){for(let t=0;t<r.length&&t<e.length;++t){const s=r[t]-e[t];if(0!==s)return s}return r.length-e.length}class ku{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const s=t;s.isInequality()?this.Ze=s:this.Xe.push(s)}}tn(e){cr(e.collectionGroup===this.collectionId);const t=tc(e);if(void 0!==t&&!this.en(t))return!1;const s=ka(e);let l=new Set,p=0,b=0;for(;p<s.length&&this.en(s[p]);++p)l=l.add(s[p].fieldPath.canonicalString());if(p===s.length)return!0;if(void 0!==this.Ze){if(!l.has(this.Ze.field.canonicalString())){const R=s[p];if(!this.nn(this.Ze,R)||!this.sn(this.Ye[b++],R))return!1}++p}for(;p<s.length;++p)if(b>=this.Ye.length||!this.sn(this.Ye[b++],s[p]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function kh(r){var e,t;if(cr(r instanceof Qi||r instanceof Wi),r instanceof Qi){if(r instanceof Ou){const l=(null===(t=null===(e=r.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(p=>Qi.create(r.field,"==",p)))||[];return Wi.create(l,"or")}return r}const s=r.filters.map(l=>kh(l));return Wi.create(s,r.op)}function yg(r){if(0===r.getFilters().length)return[];const e=Fh(kh(r));return cr(_f(e)),mf(e)||Op(e)?[e]:e.getFilters()}function mf(r){return r instanceof Qi}function Op(r){return r instanceof Wi&&_l(r)}function _f(r){return mf(r)||Op(r)||function(e){if(e instanceof Wi&&ua(e)){for(const t of e.getFilters())if(!mf(t)&&!Op(t))return!1;return!0}return!1}(r)}function Fh(r){if(cr(r instanceof Qi||r instanceof Wi),r instanceof Qi)return r;if(1===r.filters.length)return Fh(r.filters[0]);const e=r.filters.map(s=>Fh(s));let t=Wi.create(e,r.op);return t=Lh(t),_f(t)?t:(cr(t instanceof Wi),cr(sc(t)),cr(t.filters.length>1),t.filters.reduce((s,l)=>yf(s,l)))}function yf(r,e){let t;return cr(r instanceof Qi||r instanceof Wi),cr(e instanceof Qi||e instanceof Wi),t=r instanceof Qi?e instanceof Qi?Wi.create([r,e],"and"):vf(r,e):e instanceof Qi?vf(e,r):function(s,l){if(cr(s.filters.length>0&&l.filters.length>0),sc(s)&&sc(l))return Cd(s,l.getFilters());const p=ua(s)?s:l,b=ua(s)?l:s,R=p.filters.map(W=>yf(W,b));return Wi.create(R,"or")}(r,e),Lh(t)}function vf(r,e){if(sc(e))return Cd(e,r.getFilters());{const t=e.filters.map(s=>yf(r,s));return Wi.create(t,"or")}}function Lh(r){if(cr(r instanceof Qi||r instanceof Wi),r instanceof Qi)return r;const e=r.getFilters();if(1===e.length)return Lh(e[0]);if(Xu(r))return r;const t=e.map(l=>Lh(l)),s=[];return t.forEach(l=>{l instanceof Qi?s.push(l):l instanceof Wi&&(l.op===r.op?s.push(...l.filters):s.push(l))}),1===s.length?s[0]:Wi.create(s,r.op)}class Rp{constructor(){this.rn=new ep}addToCollectionParentIndex(e,t){return this.rn.add(t),nt.resolve()}getCollectionParents(e,t){return nt.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return nt.resolve()}deleteFieldIndex(e,t){return nt.resolve()}getDocumentsMatchingTarget(e,t){return nt.resolve(null)}getIndexType(e,t){return nt.resolve(0)}getFieldIndexes(e,t){return nt.resolve([])}getNextCollectionGroupToUpdate(e){return nt.resolve(null)}getMinOffset(e,t){return nt.resolve(Ja.min())}getMinOffsetFromCollectionGroup(e,t){return nt.resolve(Ja.min())}updateCollectionGroup(e,t,s){return nt.resolve()}updateIndexEntries(e,t){return nt.resolve()}}class ep{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),l=this.index[t]||new Vs(vi.comparator),p=!l.has(s);return this.index[t]=l.add(s),p}has(e){const t=e.lastSegment(),s=e.popLast(),l=this.index[t];return l&&l.has(s)}getEntries(e){return(this.index[e]||new Vs(vi.comparator)).toArray()}}const Oc=new Uint8Array(0);class El{constructor(e,t){this.user=e,this.databaseId=t,this.on=new ep,this.un=new Du(s=>Ml(s),(s,l)=>Id(s,l)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const s=t.lastSegment(),l=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const p={collectionId:s,parent:cs(l)};return tp(e).put(p)}return nt.resolve()}getCollectionParents(e,t){const s=[],l=IDBKeyRange.bound([t,""],[Fl(t),""],!1,!0);return tp(e).j(l).next(p=>{for(const b of p){if(b.collectionId!==t)break;s.push(Ji(b.parent))}return s})}addFieldIndex(e,t){const s=sh(e),l={indexId:(b=t).indexId,collectionGroup:b.collectionGroup,fields:b.fields.map(R=>[R.fieldPath.canonicalString(),R.kind])};var b;delete l.indexId;const p=s.add(l);if(t.indexState){const b=oh(e);return p.next(R=>{b.put(Yl(R,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return p.next()}deleteFieldIndex(e,t){const s=sh(e),l=oh(e),p=Bd(e);return s.delete(t.indexId).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>p.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const s=Bd(e);let l=!0;const p=new Map;return nt.forEach(this.cn(t),b=>this.an(e,b).next(R=>{l&&(l=!!R),p.set(b,R)})).next(()=>{if(l){let b=xn();const R=[];return nt.forEach(p,(W,Q)=>{var de;gn("IndexedDbIndexManager",`Using index ${de=W,`id=${de.indexId}|cg=${de.collectionGroup}|f=${de.fields.map(Ri=>`${Ri.fieldPath}:${Ri.kind}`).join(",")}`} to execute ${Ml(t)}`);const Pe=function(Ri,iu){const ha=tc(iu);if(void 0===ha)return null;for(const ta of Jd(Ri,ha.fieldPath))switch(ta.op){case"array-contains-any":return ta.value.arrayValue.values||[];case"array-contains":return[ta.value]}return null}(Q,W),Mt=function(Ri,iu){const ha=new Map;for(const ta of ka(iu))for(const ll of Jd(Ri,ta.fieldPath))switch(ll.op){case"==":case"in":ha.set(ta.fieldPath.canonicalString(),ll.value);break;case"not-in":case"!=":return ha.set(ta.fieldPath.canonicalString(),ll.value),Array.from(ha.values())}return null}(Q,W),Qt=function(Ri,iu){const ha=[];let ta=!0;for(const ll of ka(iu)){const Eh=0===ll.kind?bc(Ri,ll.fieldPath,Ri.startAt):ac(Ri,ll.fieldPath,Ri.startAt);ha.push(Eh.value),ta&&(ta=Eh.inclusive)}return new Ju(ha,ta)}(Q,W),Ln=function(Ri,iu){const ha=[];let ta=!0;for(const ll of ka(iu)){const Eh=0===ll.kind?ac(Ri,ll.fieldPath,Ri.endAt):bc(Ri,ll.fieldPath,Ri.endAt);ha.push(Eh.value),ta&&(ta=Eh.inclusive)}return new Ju(ha,ta)}(Q,W),ir=this.hn(W,Q,Qt),er=this.hn(W,Q,Ln),Ki=this.ln(W,Q,Mt),Ms=this.fn(W.indexId,Pe,ir,Qt.inclusive,er,Ln.inclusive,Ki);return nt.forEach(Ms,Ri=>s.H(Ri,t.limit).next(iu=>{iu.forEach(ha=>{const ta=mn.fromSegments(ha.documentKey);b.has(ta)||(b=b.add(ta),R.push(ta))})}))}).next(()=>R)}return nt.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:yg(Wi.create(e.filters,"and")).map(s=>oc(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,s,l,p,b,R){const W=(null!=t?t.length:1)*Math.max(s.length,p.length),Q=W/(null!=t?t.length:1),de=[];for(let Pe=0;Pe<W;++Pe){const Mt=t?this.dn(t[Pe/Q]):Oc,Qt=this.wn(e,Mt,s[Pe%Q],l),Ln=this._n(e,Mt,p[Pe%Q],b),ir=R.map(er=>this.wn(e,Mt,er,!0));de.push(...this.createRange(Qt,Ln,ir))}return de}wn(e,t,s,l){const p=new wl(e,mn.empty(),t,s);return l?p:p.Je()}_n(e,t,s,l){const p=new wl(e,mn.empty(),t,s);return l?p.Je():p}an(e,t){const s=new ku(t),l=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,l).next(p=>{let b=null;for(const R of p)s.tn(R)&&(!b||R.fields.length>b.fields.length)&&(b=R);return b})}getIndexType(e,t){let s=2;const l=this.cn(t);return nt.forEach(l,p=>this.an(e,p).next(b=>{b?0!==s&&b.fields.length<function(R){let W=new Vs(Xs.comparator),Q=!1;for(const de of R.filters)for(const Pe of de.getFlattenedFilters())Pe.field.isKeyField()||("array-contains"===Pe.op||"array-contains-any"===Pe.op?Q=!0:W=W.add(Pe.field));for(const de of R.orderBy)de.field.isKeyField()||(W=W.add(de.field));return W.size+(Q?1:0)}(p)&&(s=1):s=0})).next(()=>null!==t.limit&&l.length>1&&2===s?1:s)}mn(e,t){const s=new Nc;for(const l of ka(e)){const p=t.data.field(l.fieldPath);if(null==p)return null;const b=s.He(l.kind);Zl.Ve._e(p,b)}return s.Qe()}dn(e){const t=new Nc;return Zl.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const s=new Nc;return Zl.Ve._e(yc(this.databaseId,t),s.He(function(l){const p=ka(l);return 0===p.length?0:p[p.length-1].kind}(e))),s.Qe()}ln(e,t,s){if(null===s)return[];let l=[];l.push(new Nc);let p=0;for(const b of ka(e)){const R=s[p++];for(const W of l)if(this.yn(t,b.fieldPath)&&Bl(R))l=this.pn(l,b,R);else{const Q=W.He(b.kind);Zl.Ve._e(R,Q)}}return this.In(l)}hn(e,t,s){return this.ln(e,t,s.position)}In(e){const t=[];for(let s=0;s<e.length;++s)t[s]=e[s].Qe();return t}pn(e,t,s){const l=[...e],p=[];for(const b of s.arrayValue.values||[])for(const R of l){const W=new Nc;W.seed(R.Qe()),Zl.Ve._e(b,W.He(t.kind)),p.push(W)}return p}yn(e,t){return!!e.filters.find(s=>s instanceof Qi&&s.field.isEqual(t)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,t){const s=sh(e),l=oh(e);return(t?s.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):s.j()).next(p=>{const b=[];return nt.forEach(p,R=>l.get([R.indexId,this.uid]).next(W=>{b.push(function(Q,de){const Pe=de?new Fa(de.sequenceNumber,new Ja(es(de.readTime),new mn(Ji(de.documentKey)),de.largestBatchId)):Fa.empty(),Mt=Q.fields.map(([Qt,Ln])=>new Do(Xs.fromServerFormat(Qt),Ln));return new Za(Q.indexId,Q.collectionGroup,Mt,Pe)}(R,W))})).next(()=>b)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((s,l)=>{const p=s.indexState.sequenceNumber-l.indexState.sequenceNumber;return 0!==p?p:Un(s.collectionGroup,l.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,s){const l=sh(e),p=oh(e);return this.Tn(e).next(b=>l.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(R=>nt.forEach(R,W=>p.put(Yl(W.indexId,this.user,b,s)))))}updateIndexEntries(e,t){const s=new Map;return nt.forEach(t,(l,p)=>{const b=s.get(l.collectionGroup);return(b?nt.resolve(b):this.getFieldIndexes(e,l.collectionGroup)).next(R=>(s.set(l.collectionGroup,R),nt.forEach(R,W=>this.En(e,l,W).next(Q=>{const de=this.An(p,W);return Q.isEqual(de)?nt.resolve():this.vn(e,p,W,Q,de)}))))})}Rn(e,t,s,l){return Bd(e).put({indexId:l.indexId,uid:this.uid,arrayValue:l.arrayValue,directionalValue:l.directionalValue,orderedDocumentKey:this.gn(s,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,s,l){return Bd(e).delete([l.indexId,this.uid,l.arrayValue,l.directionalValue,this.gn(s,t.key),t.key.path.toArray()])}En(e,t,s){const l=Bd(e);let p=new Vs(Jl);return l.X({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.gn(s,t)])},(b,R)=>{p=p.add(new wl(s.indexId,t,R.arrayValue,R.directionalValue))}).next(()=>p)}An(e,t){let s=new Vs(Jl);const l=this.mn(t,e);if(null==l)return s;const p=tc(t);if(null!=p){const b=e.data.field(p.fieldPath);if(Bl(b))for(const R of b.arrayValue.values||[])s=s.add(new wl(t.indexId,e.key,this.dn(R),l))}else s=s.add(new wl(t.indexId,e.key,Oc,l));return s}vn(e,t,s,l,p){gn("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const b=[];return function(R,W,Q,de,Pe){const Mt=R.getIterator(),Qt=W.getIterator();let Ln=H(Mt),ir=H(Qt);for(;Ln||ir;){let er=!1,Ki=!1;if(Ln&&ir){const Ms=Q(Ln,ir);Ms<0?Ki=!0:Ms>0&&(er=!0)}else null!=Ln?Ki=!0:er=!0;er?(de(ir),ir=H(Qt)):Ki?(Pe(Ln),Ln=H(Mt)):(Ln=H(Mt),ir=H(Qt))}}(l,p,Jl,R=>{b.push(this.Rn(e,t,s,R))},R=>{b.push(this.Pn(e,t,s,R))}),nt.waitFor(b)}Tn(e){let t=1;return oh(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,l,p)=>{p.done(),t=l.sequenceNumber+1}).next(()=>t)}createRange(e,t,s){s=s.sort((b,R)=>Jl(b,R)).filter((b,R,W)=>!R||0!==Jl(b,W[R-1]));const l=[];l.push(e);for(const b of s){const R=Jl(b,e),W=Jl(b,t);if(0===R)l[0]=e.Je();else if(R>0&&W<0)l.push(b),l.push(b.Je());else if(W>0)break}l.push(t);const p=[];for(let b=0;b<l.length;b+=2){if(this.bn(l[b],l[b+1]))return[];p.push(IDBKeyRange.bound([l[b].indexId,this.uid,l[b].arrayValue,l[b].directionalValue,Oc,[]],[l[b+1].indexId,this.uid,l[b+1].arrayValue,l[b+1].directionalValue,Oc,[]]))}return p}bn(e,t){return Jl(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(ah)}getMinOffset(e,t){return nt.mapArray(this.cn(t),s=>this.an(e,s).next(l=>l||tn())).next(ah)}}function tp(r){return oa(r,"collectionParents")}function Bd(r){return oa(r,"indexEntries")}function sh(r){return oa(r,"indexConfiguration")}function oh(r){return oa(r,"indexState")}function ah(r){cr(0!==r.length);let e=r[0].indexState.offset,t=e.largestBatchId;for(let s=1;s<r.length;s++){const l=r[s].indexState.offset;gs(l,e)<0&&(e=l),t<l.largestBatchId&&(t=l.largestBatchId)}return new Ja(e.readTime,e.documentKey,t)}const np={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ru{constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new ru(e,ru.DEFAULT_COLLECTION_PERCENTILE,ru.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function vg(r,e,t){const s=r.store("mutations"),l=r.store("documentMutations"),p=[],b=IDBKeyRange.only(t.batchId);let R=0;const W=s.X({range:b},(de,Pe,Mt)=>(R++,Mt.delete()));p.push(W.next(()=>{cr(1===R)}));const Q=[];for(const de of t.mutations){const Pe=Ku(e,de.key.path,t.batchId);p.push(l.delete(Pe)),Q.push(de.key)}return nt.waitFor(p).next(()=>Q)}function bf(r){if(!r)return 0;let e;if(r.document)e=r.document;else if(r.unknownDocument)e=r.unknownDocument;else{if(!r.noDocument)throw tn();e=r.noDocument}return JSON.stringify(e).length}ru.DEFAULT_COLLECTION_PERCENTILE=10,ru.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ru.DEFAULT=new ru(41943040,ru.DEFAULT_COLLECTION_PERCENTILE,ru.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ru.DISABLED=new ru(-1,0,0);class rp{constructor(e,t,s,l){this.userId=e,this.serializer=t,this.indexManager=s,this.referenceDelegate=l,this.Vn={}}static de(e,t,s,l){cr(""!==e.uid);const p=e.isAuthenticated()?e.uid:"";return new rp(p,t,s,l)}checkEmpty(e){let t=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return fd(e).X({index:"userMutationsIndex",range:s},(l,p,b)=>{t=!1,b.done()}).next(()=>t)}addMutationBatch(e,t,s,l){const p=uh(e),b=fd(e);return b.add({}).next(R=>{cr("number"==typeof R);const W=new D(R,t,s,l),Q=function(Mt,Qt,Ln){const ir=Ln.baseMutations.map(Ki=>hd(Mt.fe,Ki)),er=Ln.mutations.map(Ki=>hd(Mt.fe,Ki));return{userId:Qt,batchId:Ln.batchId,localWriteTimeMs:Ln.localWriteTime.toMillis(),baseMutations:ir,mutations:er}}(this.serializer,this.userId,W),de=[];let Pe=new Vs((Mt,Qt)=>Un(Mt.canonicalString(),Qt.canonicalString()));for(const Mt of l){const Qt=Ku(this.userId,Mt.key.path,R);Pe=Pe.add(Mt.key.path.popLast()),de.push(b.put(Q)),de.push(p.put(Qt,vu))}return Pe.forEach(Mt=>{de.push(this.indexManager.addToCollectionParentIndex(e,Mt))}),e.addOnCommittedListener(()=>{this.Vn[R]=W.keys()}),nt.waitFor(de).next(()=>W)})}lookupMutationBatch(e,t){return fd(e).get(t).next(s=>s?(cr(s.userId===this.userId),Hi(this.serializer,s)):null)}Sn(e,t){return this.Vn[t]?nt.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(s=>{if(s){const l=s.keys();return this.Vn[t]=l,l}return null})}getNextMutationBatchAfterBatchId(e,t){const s=t+1,l=IDBKeyRange.lowerBound([this.userId,s]);let p=null;return fd(e).X({index:"userMutationsIndex",range:l},(b,R,W)=>{R.userId===this.userId&&(cr(R.batchId>=s),p=Hi(this.serializer,R)),W.done()}).next(()=>p)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return fd(e).X({index:"userMutationsIndex",range:t,reverse:!0},(l,p,b)=>{s=p.batchId,b.done()}).next(()=>s)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return fd(e).j("userMutationsIndex",t).next(s=>s.map(l=>Hi(this.serializer,l)))}getAllMutationBatchesAffectingDocumentKey(e,t){const s=Nu(this.userId,t.path),l=IDBKeyRange.lowerBound(s),p=[];return uh(e).X({range:l},(b,R,W)=>{const[Q,de,Pe]=b,Mt=Ji(de);if(Q===this.userId&&t.path.isEqual(Mt))return fd(e).get(Pe).next(Qt=>{if(!Qt)throw tn();cr(Qt.userId===this.userId),p.push(Hi(this.serializer,Qt))});W.done()}).next(()=>p)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Vs(Un);const l=[];return t.forEach(p=>{const b=Nu(this.userId,p.path),R=IDBKeyRange.lowerBound(b),W=uh(e).X({range:R},(Q,de,Pe)=>{const[Mt,Qt,Ln]=Q,ir=Ji(Qt);Mt===this.userId&&p.path.isEqual(ir)?s=s.add(Ln):Pe.done()});l.push(W)}),nt.waitFor(l).next(()=>this.Dn(e,s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,l=s.length+1,p=Nu(this.userId,s),b=IDBKeyRange.lowerBound(p);let R=new Vs(Un);return uh(e).X({range:b},(W,Q,de)=>{const[Pe,Mt,Qt]=W,Ln=Ji(Mt);Pe===this.userId&&s.isPrefixOf(Ln)?Ln.length===l&&(R=R.add(Qt)):de.done()}).next(()=>this.Dn(e,R))}Dn(e,t){const s=[],l=[];return t.forEach(p=>{l.push(fd(e).get(p).next(b=>{if(null===b)throw tn();cr(b.userId===this.userId),s.push(Hi(this.serializer,b))}))}),nt.waitFor(l).next(()=>s)}removeMutationBatch(e,t){return vg(e.ht,this.userId,t).next(s=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),nt.forEach(s,l=>this.referenceDelegate.markPotentiallyOrphaned(e,l))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return nt.resolve();const s=IDBKeyRange.lowerBound([this.userId]),l=[];return uh(e).X({range:s},(p,b,R)=>{if(p[0]===this.userId){const W=Ji(p[1]);l.push(W)}else R.done()}).next(()=>{cr(0===l.length)})})}containsKey(e,t){return Oi(e,this.userId,t)}xn(e){return bg(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Oi(r,e,t){const s=Nu(e,t.path),l=s[1],p=IDBKeyRange.lowerBound(s);let b=!1;return uh(r).X({range:p,Y:!0},(R,W,Q)=>{const[de,Pe,Mt]=R;de===e&&Pe===l&&(b=!0),Q.done()}).next(()=>b)}function fd(r){return oa(r,"mutations")}function uh(r){return oa(r,"documentMutations")}function bg(r){return oa(r,"mutationQueues")}class Bh{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Bh(0)}static Mn(){return new Bh(-1)}}class p_{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const s=new Bh(t.highestTargetId);return t.highestTargetId=s.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>nr.fromTimestamp(new os(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,s){return this.$n(e).next(l=>(l.highestListenSequenceNumber=t,s&&(l.lastRemoteSnapshotVersion=s.toTimestamp()),t>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=t),this.On(e,l)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(s=>(s.targetCount+=1,this.Bn(t,s),this.On(e,s))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>pd(e).delete(t.targetId)).next(()=>this.$n(e)).next(s=>(cr(s.targetCount>0),s.targetCount-=1,this.On(e,s)))}removeTargets(e,t,s){let l=0;const p=[];return pd(e).X((b,R)=>{const W=Ns(R);W.sequenceNumber<=t&&null===s.get(W.targetId)&&(l++,p.push(this.removeTargetData(e,W)))}).next(()=>nt.waitFor(p)).next(()=>l)}forEachTarget(e,t){return pd(e).X((s,l)=>{const p=Ns(l);t(p)})}$n(e){return ip(e).get("targetGlobalKey").next(t=>(cr(null!==t),t))}On(e,t){return ip(e).put("targetGlobalKey",t)}Fn(e,t){return pd(e).put(vo(this.serializer,t))}Bn(e,t){let s=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,s=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const s=Ml(t),l=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let p=null;return pd(e).X({range:l,index:"queryTargetsIndex"},(b,R,W)=>{const Q=Ns(R);Id(t,Q.target)&&(p=Q,W.done())}).next(()=>p)}addMatchingKeys(e,t,s){const l=[],p=Vd(e);return t.forEach(b=>{const R=cs(b.path);l.push(p.put({targetId:s,path:R})),l.push(this.referenceDelegate.addReference(e,s,b))}),nt.waitFor(l)}removeMatchingKeys(e,t,s){const l=Vd(e);return nt.forEach(t,p=>{const b=cs(p.path);return nt.waitFor([l.delete([s,b]),this.referenceDelegate.removeReference(e,s,p)])})}removeMatchingKeysForTargetId(e,t){const s=Vd(e),l=IDBKeyRange.bound([t],[t+1],!1,!0);return s.delete(l)}getMatchingKeysForTargetId(e,t){const s=IDBKeyRange.bound([t],[t+1],!1,!0),l=Vd(e);let p=xn();return l.X({range:s,Y:!0},(b,R,W)=>{const Q=Ji(b[1]),de=new mn(Q);p=p.add(de)}).next(()=>p)}containsKey(e,t){const s=cs(t.path),l=IDBKeyRange.bound([s],[Fl(s)],!1,!0);let p=0;return Vd(e).X({index:"documentTargetsIndex",Y:!0,range:l},([b,R],W,Q)=>{0!==b&&(p++,Q.done())}).next(()=>p>0)}le(e,t){return pd(e).get(t).next(s=>s?Ns(s):null)}}function pd(r){return oa(r,"targets")}function ip(r){return oa(r,"targetGlobal")}function Vd(r){return oa(r,"targetDocuments")}function Em([r,e],[t,s]){const l=Un(r,t);return 0===l?Un(e,s):l}class wg{constructor(e){this.Ln=e,this.buffer=new Vs(Em),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();Em(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Dm{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;gn("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Ce.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(s){E(s)?gn("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield Wu(s)}yield t.Qn(3e5)}))}}class Tm{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(0===t)return nt.resolve(An.ct);const s=new wg(t);return this.jn.forEachTarget(e,l=>s.Kn(l.sequenceNumber)).next(()=>this.jn.Wn(e,l=>s.Kn(l))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.jn.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(gn("LruGarbageCollector","Garbage collection skipped; disabled"),nt.resolve(np)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(gn("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),np):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let s,l,p,b,R,W,Q;const de=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Pe=>(Pe>this.params.maximumSequenceNumbersToCollect?(gn("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Pe}`),l=this.params.maximumSequenceNumbersToCollect):l=Pe,b=Date.now(),this.nthSequenceNumber(e,l))).next(Pe=>(s=Pe,R=Date.now(),this.removeTargets(e,s,t))).next(Pe=>(p=Pe,W=Date.now(),this.removeOrphanedDocuments(e,s))).next(Pe=>(Q=Date.now(),uu()<=Se.in.DEBUG&&gn("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${b-de}ms\n\tDetermined least recently used ${l} in `+(R-b)+`ms\n\tRemoved ${p} targets in `+(W-R)+`ms\n\tRemoved ${Pe} documents in `+(Q-W)+`ms\nTotal Duration: ${Q-de}ms`),nt.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:p,documentsRemoved:Pe})))}}class Vh{constructor(e,t){this.db=e,this.garbageCollector=function Eg(r,e){return new Tm(r,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(s=>t.next(l=>s+l))}Jn(e){let t=0;return this.Wn(e,s=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(s,l)=>t(l))}addReference(e,t,s){return Pp(e,s)}removeReference(e,t,s){return Pp(e,s)}removeTargets(e,t,s){return this.db.getTargetCache().removeTargets(e,t,s)}markPotentiallyOrphaned(e,t){return Pp(e,t)}Xn(e,t){return function(s,l){let p=!1;return bg(s).Z(b=>Oi(s,b,l).next(R=>(R&&(p=!0),nt.resolve(!R)))).next(()=>p)}(e,t)}removeOrphanedDocuments(e,t){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),l=[];let p=0;return this.Yn(e,(b,R)=>{if(R<=t){const W=this.Xn(e,b).next(Q=>{if(!Q)return p++,s.getEntry(e,b).next(()=>(s.removeEntry(b,nr.min()),Vd(e).delete([0,cs(b.path)])))});l.push(W)}}).next(()=>nt.waitFor(l)).next(()=>s.apply(e)).next(()=>p)}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,t){return Pp(e,t)}Yn(e,t){const s=Vd(e);let l,p=An.ct;return s.X({index:"documentTargetsIndex"},([b,R],{path:W,sequenceNumber:Q})=>{0===b?(p!==An.ct&&t(new mn(Ji(l)),p),p=Q,l=W):p=An.ct}).next(()=>{p!==An.ct&&t(new mn(Ji(l)),p)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Pp(r,e){return Vd(r).put((s=r.currentSequenceNumber,{targetId:0,path:cs(e.path),sequenceNumber:s}));var s}class xp{constructor(){this.changes=new Du(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,zs.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return void 0!==s?nt.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Dg{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,s){return wf(e).put(s)}removeEntry(e,t,s){return wf(e).delete(function(l,p){const b=l.path.toArray();return[b.slice(0,b.length-2),b[b.length-2],fo(p),b[b.length-1]]}(t,s))}updateMetadata(e,t){return this.getMetadata(e).next(s=>(s.byteSize+=t,this.Zn(e,s)))}getEntry(e,t){let s=zs.newInvalidDocument(t);return wf(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(sp(t))},(l,p)=>{s=this.ts(t,p)}).next(()=>s)}es(e,t){let s={size:0,document:zs.newInvalidDocument(t)};return wf(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(sp(t))},(l,p)=>{s={document:this.ts(t,p),size:bf(p)}}).next(()=>s)}getEntries(e,t){let s=Tu();return this.ns(e,t,(l,p)=>{const b=this.ts(l,p);s=s.insert(l,b)}).next(()=>s)}ss(e,t){let s=Tu(),l=new xs(mn.comparator);return this.ns(e,t,(p,b)=>{const R=this.ts(p,b);s=s.insert(p,R),l=l.insert(p,bf(b))}).next(()=>({documents:s,rs:l}))}ns(e,t,s){if(t.isEmpty())return nt.resolve();let l=new Vs(zc);t.forEach(W=>l=l.add(W));const p=IDBKeyRange.bound(sp(l.first()),sp(l.last())),b=l.getIterator();let R=b.getNext();return wf(e).X({index:"documentKeyIndex",range:p},(W,Q,de)=>{const Pe=mn.fromSegments([...Q.prefixPath,Q.collectionGroup,Q.documentId]);for(;R&&zc(R,Pe)<0;)s(R,null),R=b.getNext();R&&R.isEqual(Pe)&&(s(R,Q),R=b.hasNext()?b.getNext():null),R?de.G(sp(R)):de.done()}).next(()=>{for(;R;)s(R,null),R=b.hasNext()?b.getNext():null})}getDocumentsMatchingQuery(e,t,s,l){const p=t.path,b=[p.popLast().toArray(),p.lastSegment(),fo(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],R=[p.popLast().toArray(),p.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return wf(e).j(IDBKeyRange.bound(b,R,!0)).next(W=>{let Q=Tu();for(const de of W){const Pe=this.ts(mn.fromSegments(de.prefixPath.concat(de.collectionGroup,de.documentId)),de);Pe.isFoundDocument()&&(Ec(t,Pe)||l.has(Pe.key))&&(Q=Q.insert(Pe.key,Pe))}return Q})}getAllFromCollectionGroup(e,t,s,l){let p=Tu();const b=Tg(t,s),R=Tg(t,Ja.max());return wf(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(b,R,!0)},(W,Q,de)=>{const Pe=this.ts(mn.fromSegments(Q.prefixPath.concat(Q.collectionGroup,Q.documentId)),Q);p=p.insert(Pe.key,Pe),p.size===l&&de.done()}).next(()=>p)}newChangeBuffer(e){return new vy(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return g_(e).get("remoteDocumentGlobalKey").next(t=>(cr(!!t),t))}Zn(e,t){return g_(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const s=function ds(r,e){let t;if(e.document)t=Ld(r.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=mn.fromSegments(e.noDocument.path),l=es(e.noDocument.readTime);t=zs.newNoDocument(s,l),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return tn();{const s=mn.fromSegments(e.unknownDocument.path),l=es(e.unknownDocument.version);t=zs.newUnknownDocument(s,l)}}return e.readTime&&t.setReadTime(function(s){const l=new os(s[0],s[1]);return nr.fromTimestamp(l)}(e.readTime)),t}(this.serializer,t);if(!s.isNoDocument()||!s.version.isEqual(nr.min()))return s}return zs.newInvalidDocument(e)}}function Cm(r){return new Dg(r)}class vy extends xp{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new Du(s=>s.toString(),(s,l)=>s.isEqual(l))}applyChanges(e){const t=[];let s=0,l=new Vs((p,b)=>Un(p.canonicalString(),b.canonicalString()));return this.changes.forEach((p,b)=>{const R=this.us.get(p);if(t.push(this.os.removeEntry(e,p,R.readTime)),b.isValidDocument()){const W=hs(this.os.serializer,b);l=l.add(p.path.popLast());const Q=bf(W);s+=Q-R.size,t.push(this.os.addEntry(e,p,W))}else if(s-=R.size,this.trackRemovals){const W=hs(this.os.serializer,b.convertToNoDocument(nr.min()));t.push(this.os.addEntry(e,p,W))}}),l.forEach(p=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,p))}),t.push(this.os.updateMetadata(e,s)),nt.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(s=>(this.us.set(t,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:s,rs:l})=>(l.forEach((p,b)=>{this.us.set(p,{size:b,readTime:s.get(p).readTime})}),s))}}function g_(r){return oa(r,"remoteDocumentGlobal")}function wf(r){return oa(r,"remoteDocumentsV14")}function sp(r){const e=r.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Tg(r,e){const t=e.documentKey.path.toArray();return[r,fo(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function zc(r,e){const t=r.path.toArray(),s=e.path.toArray();let l=0;for(let p=0;p<t.length-2&&p<s.length-2;++p)if(l=Un(t[p],s[p]),l)return l;return l=Un(t.length,s.length),l||(l=Un(t[t.length-2],s[s.length-2]),l||Un(t[t.length-1],s[s.length-1]))}class m_{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Uh{constructor(e,t,s,l){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(l=>(s=l,this.remoteDocumentCache.getEntry(e,t))).next(l=>(null!==s&&nl(s.mutation,l,te.empty(),os.now()),l))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,xn()).next(()=>s))}getLocalViewOfDocuments(e,t,s=xn()){const l=tu();return this.populateOverlays(e,l,t).next(()=>this.computeViews(e,t,l,s).next(p=>{let b=zl();return p.forEach((R,W)=>{b=b.insert(R,W.overlayedDocument)}),b}))}getOverlayedDocuments(e,t){const s=tu();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,xn()))}populateOverlays(e,t,s){const l=[];return s.forEach(p=>{t.has(p)||l.push(p)}),this.documentOverlayCache.getOverlays(e,l).next(p=>{p.forEach((b,R)=>{t.set(b,R)})})}computeViews(e,t,s,l){let p=Tu();const b=tl(),R=tl();return t.forEach((W,Q)=>{const de=s.get(Q.key);l.has(Q.key)&&(void 0===de||de.mutation instanceof nu)?p=p.insert(Q.key,Q):void 0!==de?(b.set(Q.key,de.mutation.getFieldMask()),nl(de.mutation,Q,de.mutation.getFieldMask(),os.now())):b.set(Q.key,te.empty())}),this.recalculateAndSaveOverlays(e,p).next(W=>(W.forEach((Q,de)=>b.set(Q,de)),t.forEach((Q,de)=>{var Pe;return R.set(Q,new m_(de,null!==(Pe=b.get(Q))&&void 0!==Pe?Pe:null))}),R))}recalculateAndSaveOverlays(e,t){const s=tl();let l=new xs((b,R)=>b-R),p=xn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(b=>{for(const R of b)R.keys().forEach(W=>{const Q=t.get(W);if(null===Q)return;let de=s.get(W)||te.empty();de=R.applyToLocalView(Q,de),s.set(W,de);const Pe=(l.get(R.batchId)||xn()).add(W);l=l.insert(R.batchId,Pe)})}).next(()=>{const b=[],R=l.getReverseIterator();for(;R.hasNext();){const W=R.getNext(),Q=W.key,de=W.value,Pe=od();de.forEach(Mt=>{if(!p.has(Mt)){const Qt=ad(t.get(Mt),s.get(Mt));null!==Qt&&Pe.set(Mt,Qt),p=p.add(Mt)}}),b.push(this.documentOverlayCache.saveOverlays(e,Q,Pe))}return nt.waitFor(b)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s){return mn.isDocumentKey((l=t).path)&&null===l.collectionGroup&&0===l.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):yl(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s):this.getDocumentsMatchingCollectionQuery(e,t,s);var l}getNextDocuments(e,t,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,l).next(p=>{const b=l-p.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,l-p.size):nt.resolve(tu());let R=-1,W=p;return b.next(Q=>nt.forEach(Q,(de,Pe)=>(R<Pe.largestBatchId&&(R=Pe.largestBatchId),p.get(de)?nt.resolve():this.remoteDocumentCache.getEntry(e,de).next(Mt=>{W=W.insert(de,Mt)}))).next(()=>this.populateOverlays(e,Q,p)).next(()=>this.computeViews(e,W,Q,xn())).next(de=>({batchId:R,changes:Rl(de)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new mn(t)).next(s=>{let l=zl();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}getDocumentsMatchingCollectionGroupQuery(e,t,s){const l=t.collectionGroup;let p=zl();return this.indexManager.getCollectionParents(e,l).next(b=>nt.forEach(b,R=>{const W=(Q=t,de=R.child(l),new el(de,null,Q.explicitOrderBy.slice(),Q.filters.slice(),Q.limit,Q.limitType,Q.startAt,Q.endAt));var Q,de;return this.getDocumentsMatchingCollectionQuery(e,W,s).next(Q=>{Q.forEach((de,Pe)=>{p=p.insert(de,Pe)})})}).next(()=>p))}getDocumentsMatchingCollectionQuery(e,t,s){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(p=>(l=p,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l))).next(p=>{l.forEach((R,W)=>{const Q=W.getKey();null===p.get(Q)&&(p=p.insert(Q,zs.newInvalidDocument(Q)))});let b=zl();return p.forEach((R,W)=>{const Q=l.get(R);void 0!==Q&&nl(Q.mutation,W,te.empty(),os.now()),Ec(t,W)&&(b=b.insert(R,W))}),b})}}class Hh{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return nt.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var s;return this.cs.set(t.id,{id:(s=t).id,version:s.version,createTime:Va(s.createTime)}),nt.resolve()}getNamedQuery(e,t){return nt.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(s=t).name,query:la(s.bundledQuery),readTime:Va(s.readTime)}),nt.resolve();var s}}class Gi{constructor(){this.overlays=new xs(mn.comparator),this.ls=new Map}getOverlay(e,t){return nt.resolve(this.overlays.get(t))}getOverlays(e,t){const s=tu();return nt.forEach(t,l=>this.getOverlay(e,l).next(p=>{null!==p&&s.set(l,p)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((l,p)=>{this.we(e,t,p)}),nt.resolve()}removeOverlaysForBatchId(e,t,s){const l=this.ls.get(s);return void 0!==l&&(l.forEach(p=>this.overlays=this.overlays.remove(p)),this.ls.delete(s)),nt.resolve()}getOverlaysForCollection(e,t,s){const l=tu(),p=t.length+1,b=new mn(t.child("")),R=this.overlays.getIteratorFrom(b);for(;R.hasNext();){const W=R.getNext().value,Q=W.getKey();if(!t.isPrefixOf(Q.path))break;Q.path.length===p&&W.largestBatchId>s&&l.set(W.getKey(),W)}return nt.resolve(l)}getOverlaysForCollectionGroup(e,t,s,l){let p=new xs((Q,de)=>Q-de);const b=this.overlays.getIterator();for(;b.hasNext();){const Q=b.getNext().value;if(Q.getKey().getCollectionGroup()===t&&Q.largestBatchId>s){let de=p.get(Q.largestBatchId);null===de&&(de=tu(),p=p.insert(Q.largestBatchId,de)),de.set(Q.getKey(),Q)}}const R=tu(),W=p.getIterator();for(;W.hasNext()&&(W.getNext().value.forEach((Q,de)=>R.set(Q,de)),!(R.size()>=l)););return nt.resolve(R)}we(e,t,s){const l=this.overlays.get(s.key);if(null!==l){const b=this.ls.get(l.largestBatchId).delete(s.key);this.ls.set(l.largestBatchId,b)}this.overlays=this.overlays.insert(s.key,new y(t,s));let p=this.ls.get(t);void 0===p&&(p=xn(),this.ls.set(t,p)),this.ls.set(t,p.add(s.key))}}class Ef{constructor(){this.fs=new Vs(to.ds),this.ws=new Vs(to._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const s=new to(e,t);this.fs=this.fs.add(s),this.ws=this.ws.add(s)}gs(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.ys(new to(e,t))}ps(e,t){e.forEach(s=>this.removeReference(s,t))}Is(e){const t=new mn(new vi([])),s=new to(t,e),l=new to(t,e+1),p=[];return this.ws.forEachInRange([s,l],b=>{this.ys(b),p.push(b.key)}),p}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new mn(new vi([])),s=new to(t,e),l=new to(t,e+1);let p=xn();return this.ws.forEachInRange([s,l],b=>{p=p.add(b.key)}),p}containsKey(e){const t=new to(e,0),s=this.fs.firstAfterOrEqual(t);return null!==s&&e.isEqual(s.key)}}class to{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return mn.comparator(e.key,t.key)||Un(e.As,t.As)}static _s(e,t){return Un(e.As,t.As)||mn.comparator(e.key,t.key)}}class Ha{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Vs(to.ds)}checkEmpty(e){return nt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,s,l){const p=this.vs;this.vs++;const b=new D(p,t,s,l);this.mutationQueue.push(b);for(const R of l)this.Rs=this.Rs.add(new to(R.key,p)),this.indexManager.addToCollectionParentIndex(e,R.key.path.popLast());return nt.resolve(b)}lookupMutationBatch(e,t){return nt.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const l=this.bs(t+1),p=l<0?0:l;return nt.resolve(this.mutationQueue.length>p?this.mutationQueue[p]:null)}getHighestUnacknowledgedBatchId(){return nt.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return nt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new to(t,0),l=new to(t,Number.POSITIVE_INFINITY),p=[];return this.Rs.forEachInRange([s,l],b=>{const R=this.Ps(b.As);p.push(R)}),nt.resolve(p)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Vs(Un);return t.forEach(l=>{const p=new to(l,0),b=new to(l,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([p,b],R=>{s=s.add(R.As)})}),nt.resolve(this.Vs(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,l=s.length+1;let p=s;mn.isDocumentKey(p)||(p=p.child(""));const b=new to(new mn(p),0);let R=new Vs(Un);return this.Rs.forEachWhile(W=>{const Q=W.key.path;return!!s.isPrefixOf(Q)&&(Q.length===l&&(R=R.add(W.As)),!0)},b),nt.resolve(this.Vs(R))}Vs(e){const t=[];return e.forEach(s=>{const l=this.Ps(s);null!==l&&t.push(l)}),t}removeMutationBatch(e,t){cr(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let s=this.Rs;return nt.forEach(t.mutations,l=>{const p=new to(l.key,t.batchId);return s=s.delete(p),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.Rs=s})}Cn(e){}containsKey(e,t){const s=new to(t,0),l=this.Rs.firstAfterOrEqual(s);return nt.resolve(t.isEqual(l&&l.key))}performConsistencyCheck(e){return nt.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class __{constructor(e){this.Ds=e,this.docs=new xs(mn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,l=this.docs.get(s),p=l?l.size:0,b=this.Ds(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:b}),this.size+=b-p,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return nt.resolve(s?s.document.mutableCopy():zs.newInvalidDocument(t))}getEntries(e,t){let s=Tu();return t.forEach(l=>{const p=this.docs.get(l);s=s.insert(l,p?p.document.mutableCopy():zs.newInvalidDocument(l))}),nt.resolve(s)}getDocumentsMatchingQuery(e,t,s,l){let p=Tu();const b=t.path,R=new mn(b.child("")),W=this.docs.getIteratorFrom(R);for(;W.hasNext();){const{key:Q,value:{document:de}}=W.getNext();if(!b.isPrefixOf(Q.path))break;Q.path.length>b.length+1||gs(Xc(de),s)<=0||(l.has(de.key)||Ec(t,de))&&(p=p.insert(de.key,de.mutableCopy()))}return nt.resolve(p)}getAllFromCollectionGroup(e,t,s,l){tn()}Cs(e,t){return nt.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new lh(this)}getSize(e){return nt.resolve(this.size)}}class lh extends xp{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?t.push(this.os.addEntry(e,l)):this.os.removeEntry(s)}),nt.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class y_{constructor(e){this.persistence=e,this.xs=new Du(t=>Ml(t),Id),this.lastRemoteSnapshotVersion=nr.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Ef,this.targetCount=0,this.Ms=Bh.kn()}forEachTarget(e,t){return this.xs.forEach((s,l)=>t(l)),nt.resolve()}getLastRemoteSnapshotVersion(e){return nt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return nt.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),nt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.Ns&&(this.Ns=t),nt.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Bh(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,nt.resolve()}updateTargetData(e,t){return this.Fn(t),nt.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,nt.resolve()}removeTargets(e,t,s){let l=0;const p=[];return this.xs.forEach((b,R)=>{R.sequenceNumber<=t&&null===s.get(R.targetId)&&(this.xs.delete(b),p.push(this.removeMatchingKeysForTargetId(e,R.targetId)),l++)}),nt.waitFor(p).next(()=>l)}getTargetCount(e){return nt.resolve(this.targetCount)}getTargetData(e,t){const s=this.xs.get(t)||null;return nt.resolve(s)}addMatchingKeys(e,t,s){return this.ks.gs(t,s),nt.resolve()}removeMatchingKeys(e,t,s){this.ks.ps(t,s);const l=this.persistence.referenceDelegate,p=[];return l&&t.forEach(b=>{p.push(l.markPotentiallyOrphaned(e,b))}),nt.waitFor(p)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),nt.resolve()}getMatchingKeysForTargetId(e,t){const s=this.ks.Es(t);return nt.resolve(s)}containsKey(e,t){return nt.resolve(this.ks.containsKey(t))}}class Cg{constructor(e,t){this.$s={},this.overlays={},this.Os=new An(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new y_(this),this.indexManager=new Rp,this.remoteDocumentCache=new __(s=>this.referenceDelegate.Ls(s)),this.serializer=new Ti(t),this.qs=new Hh(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Gi,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.$s[e.toKey()];return s||(s=new Ha(t,this.referenceDelegate),this.$s[e.toKey()]=s),s}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,s){gn("MemoryPersistence","Starting transaction:",e);const l=new v_(this.Os.next());return this.referenceDelegate.Us(),s(l).next(p=>this.referenceDelegate.Ks(l).next(()=>p)).toPromise().then(p=>(l.raiseOnCommittedEvent(),p))}Gs(e,t){return nt.or(Object.values(this.$s).map(s=>()=>s.containsKey(e,t)))}}class v_ extends Zo{constructor(e){super(),this.currentSequenceNumber=e}}class op{constructor(e){this.persistence=e,this.Qs=new Ef,this.js=null}static zs(e){return new op(e)}get Ws(){if(this.js)return this.js;throw tn()}addReference(e,t,s){return this.Qs.addReference(s,t),this.Ws.delete(s.toString()),nt.resolve()}removeReference(e,t,s){return this.Qs.removeReference(s,t),this.Ws.add(s.toString()),nt.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),nt.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(l=>this.Ws.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(l=>{l.forEach(p=>this.Ws.add(p.toString()))}).next(()=>s.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return nt.forEach(this.Ws,s=>{const l=mn.fromPath(s);return this.Hs(e,l).next(p=>{p||t.removeEntry(l,nr.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(s=>{s?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return nt.or([()=>nt.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class Fp{constructor(e){this.serializer=e}O(e,t,s,l){const p=new Su("createOrUpgrade",t);var R;s<1&&l>=1&&(e.createObjectStore("owner"),(R=e).createObjectStore("mutationQueues",{keyPath:"userId"}),R.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Au,{unique:!0}),R.createObjectStore("documentMutations"),Ig(e),function(R){R.createObjectStore("remoteDocuments")}(e));let b=nt.resolve();return s<3&&l>=3&&(0!==s&&(function(R){R.deleteObjectStore("targetDocuments"),R.deleteObjectStore("targets"),R.deleteObjectStore("targetGlobal")}(e),Ig(e)),b=b.next(()=>function(R){const W=R.store("targetGlobal"),Q={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:nr.min().toTimestamp(),targetCount:0};return W.put("targetGlobalKey",Q)}(p))),s<4&&l>=4&&(0!==s&&(b=b.next(()=>function(R,W){return W.store("mutations").j().next(Q=>{R.deleteObjectStore("mutations"),R.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Au,{unique:!0});const de=W.store("mutations"),Pe=Q.map(Mt=>de.put(Mt));return nt.waitFor(Pe)})}(e,p))),b=b.next(()=>{!function(R){R.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&l>=5&&(b=b.next(()=>this.Ys(p))),s<6&&l>=6&&(b=b.next(()=>(function(R){R.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(p)))),s<7&&l>=7&&(b=b.next(()=>this.Zs(p))),s<8&&l>=8&&(b=b.next(()=>this.ti(e,p))),s<9&&l>=9&&(b=b.next(()=>{!function(R){R.objectStoreNames.contains("remoteDocumentChanges")&&R.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&l>=10&&(b=b.next(()=>this.ei(p))),s<11&&l>=11&&(b=b.next(()=>{(function(R){R.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(R){R.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&l>=12&&(b=b.next(()=>{!function(R){const W=R.createObjectStore("documentOverlays",{keyPath:ic});W.createIndex("collectionPathOverlayIndex",Yu,{unique:!1}),W.createIndex("collectionGroupOverlayIndex",rd,{unique:!1})}(e)})),s<13&&l>=13&&(b=b.next(()=>function(R){const W=R.createObjectStore("remoteDocumentsV14",{keyPath:Mu});W.createIndex("documentKeyIndex",ed),W.createIndex("collectionGroupIndex",td)}(e)).next(()=>this.ni(e,p)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&l>=14&&(b=b.next(()=>this.si(e,p))),s<15&&l>=15&&(b=b.next(()=>function(R){R.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),R.createObjectStore("indexState",{keyPath:Il}).createIndex("sequenceNumberIndex",qu,{unique:!1}),R.createObjectStore("indexEntries",{keyPath:Qo}).createIndex("documentKeyIndex",nd,{unique:!1})}(e))),b}Xs(e){let t=0;return e.store("remoteDocuments").X((s,l)=>{t+=bf(l)}).next(()=>{const s={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}Ys(e){const t=e.store("mutationQueues"),s=e.store("mutations");return t.j().next(l=>nt.forEach(l,p=>{const b=IDBKeyRange.bound([p.userId,-1],[p.userId,p.lastAcknowledgedBatchId]);return s.j("userMutationsIndex",b).next(R=>nt.forEach(R,W=>{cr(W.userId===p.userId);const Q=Hi(this.serializer,W);return vg(e,p.userId,Q).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(l=>{const p=[];return s.X((b,R)=>{const W=new vi(b),Q=[0,cs(W)];p.push(t.get(Q).next(de=>de?nt.resolve():t.put({targetId:0,path:cs(W),sequenceNumber:l.highestListenSequenceNumber})))}).next(()=>nt.waitFor(p))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:Jo});const s=t.store("collectionParents"),l=new ep,p=b=>{if(l.add(b)){const R=b.lastSegment(),W=b.popLast();return s.put({collectionId:R,parent:cs(W)})}};return t.store("remoteDocuments").X({Y:!0},(b,R)=>{const W=new vi(b);return p(W.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([b,R,W],Q)=>{const de=Ji(R);return p(de.popLast())}))}ei(e){const t=e.store("targets");return t.X((s,l)=>{const p=Ns(l),b=vo(this.serializer,p);return t.put(b)})}ni(e,t){const s=t.store("remoteDocuments"),l=[];return s.X((p,b)=>{const R=t.store("remoteDocumentsV14"),W=(Q=b,Q.document?new mn(vi.fromString(Q.document.name).popFirst(5)):Q.noDocument?mn.fromSegments(Q.noDocument.path):Q.unknownDocument?mn.fromSegments(Q.unknownDocument.path):tn()).path.toArray();var Q;const de={prefixPath:W.slice(0,W.length-2),collectionGroup:W[W.length-2],documentId:W[W.length-1],readTime:b.readTime||[0,0],unknownDocument:b.unknownDocument,noDocument:b.noDocument,document:b.document,hasCommittedMutations:!!b.hasCommittedMutations};l.push(R.put(de))}).next(()=>nt.waitFor(l))}si(e,t){const s=t.store("mutations"),l=Cm(this.serializer),p=new Cg(op.zs,this.serializer.fe);return s.j().next(b=>{const R=new Map;return b.forEach(W=>{var Q;let de=null!==(Q=R.get(W.userId))&&void 0!==Q?Q:xn();Hi(this.serializer,W).keys().forEach(Pe=>de=de.add(Pe)),R.set(W.userId,de)}),nt.forEach(R,(W,Q)=>{const de=new yo(Q),Pe=du.de(this.serializer,de),Mt=p.getIndexManager(de),Qt=rp.de(de,this.serializer,Mt,p.referenceDelegate);return new Uh(l,Qt,Pe,Mt).recalculateAndSaveOverlaysForDocumentKeys(new Xa(t,An.ct),W).next()})})}}function Ig(r){r.createObjectStore("targetDocuments",{keyPath:pl}).createIndex("documentTargetsIndex",rc,{unique:!0}),r.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",ci,{unique:!0}),r.createObjectStore("targetGlobal")}const fc="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Sg{constructor(e,t,s,l,p,b,R,W,Q,de,Pe=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=s,this.ii=p,this.window=b,this.document=R,this.ri=Q,this.oi=de,this.ui=Pe,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=Mt=>Promise.resolve(),!Sg.D())throw new rn(Nt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Vh(this,l),this.di=t+"main",this.serializer=new Ti(W),this.wi=new ia(this.di,this.ui,new Fp(this.serializer)),this.Bs=new p_(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Cm(this.serializer),this.qs=new xu,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===de&&Js("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new rn(Nt.FAILED_PRECONDITION,fc);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new An(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var s=(0,Ce.Z)(function*(l){if(t.started)return e(l)});return function(l){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,Ce.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,Ce.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>$o(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(E(e))return gn("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return gn("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return gd(e).get("owner").next(t=>nt.resolve(this.Ri(t)))}Pi(e){return $o(e).delete(this.clientId)}bi(){var e=this;return(0,Ce.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const l=oa(s,"clientMetadata");return l.j().next(p=>{const b=e.Si(p,18e5),R=p.filter(W=>-1===b.indexOf(W));return nt.forEach(R,W=>l.delete(W.clientId)).next(()=>R)})}).catch(()=>[]);if(e._i)for(const s of t)e._i.removeItem(e.Di(s.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?nt.resolve(!0):gd(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new rn(Nt.FAILED_PRECONDITION,fc);return!1}}return!(!this.networkEnabled||!this.inForeground)||$o(e).j().next(s=>void 0===this.Si(s,5e3).find(l=>!(this.clientId===l.clientId||!(!this.networkEnabled&&l.networkEnabled||!this.inForeground&&l.inForeground&&this.networkEnabled===l.networkEnabled))))}).next(t=>(this.isPrimary!==t&&gn("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Ce.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const s=new Xa(t,An.ct);return e.Ai(s).next(()=>e.Pi(s))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(s=>this.Vi(s.updateTimeMs,t)&&!this.Ci(s.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>$o(e).j().next(t=>this.Si(t,18e5).map(s=>s.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return rp.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new El(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return du.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,s){gn("IndexedDbPersistence","Starting transaction:",e);const l="readonly"===t?"readonly":"readwrite",p=15===(b=this.ui)?kc:14===b?wd:13===b?mc:12===b?Ll:11===b?Qa:void tn();var b;let R;return this.wi.runTransaction(e,l,p,W=>(R=new Xa(W,this.Os?this.Os.next():An.ct),"readwrite-primary"===t?this.Ti(R).next(Q=>!!Q||this.Ei(R)).next(Q=>{if(!Q)throw Js(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new rn(Nt.FAILED_PRECONDITION,Cl);return s(R)}).next(Q=>this.vi(R).next(()=>Q)):this.Oi(R).next(()=>s(R)))).then(W=>(R.raiseOnCommittedEvent(),W))}Oi(e){return gd(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new rn(Nt.FAILED_PRECONDITION,fc)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return gd(e).put("owner",t)}static D(){return ia.D()}Ai(e){const t=gd(e);return t.get("owner").next(s=>this.Ri(s)?(gn("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):nt.resolve())}Vi(e,t){const s=Date.now();return!(e<s-t||e>s&&(Js(`Detected an update time that is in the future: ${e} > ${s}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,Je.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const s=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return gn("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return Js("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){Js("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function gd(r){return oa(r,"owner")}function $o(r){return oa(r,"clientMetadata")}function Ia(r,e){let t=r.projectId;return r.isDefaultDatabase||(t+="."+r.database),"firestore/"+e+"/"+t+"/"}class Ud{constructor(e,t,s,l){this.targetId=e,this.fromCache=t,this.Fi=s,this.Bi=l}static Li(e,t){let s=xn(),l=xn();for(const p of t.docChanges)switch(p.type){case 0:s=s.add(p.doc.key);break;case 1:l=l.add(p.doc.key)}return new Ud(e,t.fromCache,s,l)}}class Ag{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,s,l){return this.Ki(e,t).next(p=>p||this.Gi(e,t,l,s)).next(p=>p||this.Qi(e,t))}Ki(e,t){if(Sd(t))return nt.resolve(null);let s=Oo(t);return this.indexManager.getIndexType(e,s).next(l=>0===l?null:(null!==t.limit&&1===l&&(t=Ol(t,null,"F"),s=Oo(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(p=>{const b=xn(...p);return this.Ui.getDocuments(e,b).next(R=>this.indexManager.getMinOffset(e,s).next(W=>{const Q=this.ji(t,R);return this.zi(t,Q,b,W.readTime)?this.Ki(e,Ol(t,null,"F")):this.Wi(e,Q,t,W)}))})))}Gi(e,t,s,l){return Sd(t)||l.isEqual(nr.min())?this.Qi(e,t):this.Ui.getDocuments(e,s).next(p=>{const b=this.ji(t,p);return this.zi(t,b,s,l)?this.Qi(e,t):(uu()<=Se.in.DEBUG&&gn("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),$l(t)),this.Wi(e,b,t,zu(l,-1)))})}ji(e,t){let s=new Vs(Ru(e));return t.forEach((l,p)=>{Ec(e,p)&&(s=s.add(p))}),s}zi(e,t,s,l){if(null===e.limit)return!1;if(s.size!==t.size)return!0;const p="F"===e.limitType?t.last():t.first();return!!p&&(p.hasPendingWrites||p.version.compareTo(l)>0)}Qi(e,t){return uu()<=Se.in.DEBUG&&gn("QueryEngine","Using full collection scan to execute query:",$l(t)),this.Ui.getDocumentsMatchingQuery(e,t,Ja.min())}Wi(e,t,s,l){return this.Ui.getDocumentsMatchingQuery(e,s,l).next(p=>(t.forEach(b=>{p=p.insert(b.key,b)}),p))}}class b_{constructor(e,t,s,l){this.persistence=e,this.Hi=t,this.serializer=l,this.Ji=new xs(Un),this.Yi=new Du(p=>Ml(p),Id),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(s)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Uh(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function Ng(r,e,t,s){return new b_(r,e,t,s)}function Im(r,e){return Mg.apply(this,arguments)}function Mg(){return Mg=(0,Ce.Z)(function*(r,e){const t=Fn(r);return yield t.persistence.runTransaction("Handle user change","readonly",s=>{let l;return t.mutationQueue.getAllMutationBatches(s).next(p=>(l=p,t.tr(e),t.mutationQueue.getAllMutationBatches(s))).next(p=>{const b=[],R=[];let W=xn();for(const Q of l){b.push(Q.batchId);for(const de of Q.mutations)W=W.add(de.key)}for(const Q of p){R.push(Q.batchId);for(const de of Q.mutations)W=W.add(de.key)}return t.localDocuments.getDocuments(s,W).next(Q=>({er:Q,removedBatchIds:b,addedBatchIds:R}))})})}),Mg.apply(this,arguments)}function ch(r){const e=Fn(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function dh(r,e,t){let s=xn(),l=xn();return t.forEach(p=>s=s.add(p)),e.getEntries(r,s).next(p=>{let b=Tu();return t.forEach((R,W)=>{const Q=p.get(R);W.isFoundDocument()!==Q.isFoundDocument()&&(l=l.add(R)),W.isNoDocument()&&W.version.isEqual(nr.min())?(e.removeEntry(R,W.readTime),b=b.insert(R,W)):!Q.isValidDocument()||W.version.compareTo(Q.version)>0||0===W.version.compareTo(Q.version)&&Q.hasPendingWrites?(e.addEntry(W),b=b.insert(R,W)):gn("LocalStore","Ignoring outdated watch update for ",R,". Current version:",Q.version," Watch version:",W.version)}),{nr:b,sr:l}})}function Og(r,e){const t=Fn(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function md(r,e){const t=Fn(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return t.Bs.getTargetData(s,e).next(p=>p?(l=p,nt.resolve(l)):t.Bs.allocateTargetId(s).next(b=>(l=new vr(e,b,"TargetPurposeListen",s.currentSequenceNumber),t.Bs.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=t.Ji.get(s.targetId);return(null===l||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(s.targetId,s),t.Yi.set(e,s.targetId)),s})}function _d(r,e,t){return sl.apply(this,arguments)}function sl(){return sl=(0,Ce.Z)(function*(r,e,t){const s=Fn(r),l=s.Ji.get(e),p=t?"readwrite":"readwrite-primary";try{t||(yield s.persistence.runTransaction("Release target",p,b=>s.persistence.referenceDelegate.removeTarget(b,l)))}catch(b){if(!E(b))throw b;gn("LocalStore",`Failed to update sequence numbers for target ${e}: ${b}`)}s.Ji=s.Ji.remove(e),s.Yi.delete(l.target)}),sl.apply(this,arguments)}function Wc(r,e,t){const s=Fn(r);let l=nr.min(),p=xn();return s.persistence.runTransaction("Execute query","readonly",b=>function(R,W,Q){const de=Fn(R),Pe=de.Yi.get(Q);return void 0!==Pe?nt.resolve(de.Ji.get(Pe)):de.Bs.getTargetData(W,Q)}(s,b,Oo(e)).next(R=>{if(R)return l=R.lastLimboFreeSnapshotVersion,s.Bs.getMatchingKeysForTargetId(b,R.targetId).next(W=>{p=W})}).next(()=>s.Hi.getDocumentsMatchingQuery(b,e,t?l:nr.min(),t?p:xn())).next(R=>(Vp(s,Nd(e),R),{documents:R,ir:p})))}function Bp(r,e){const t=Fn(r),s=Fn(t.Bs),l=t.Ji.get(e);return l?Promise.resolve(l.target):t.persistence.runTransaction("Get target data","readonly",p=>s.le(p,e).next(b=>b?b.target:null))}function Rg(r,e){const t=Fn(r),s=t.Xi.get(e)||nr.min();return t.persistence.runTransaction("Get new document changes","readonly",l=>t.Zi.getAllFromCollectionGroup(l,e,zu(s,-1),Number.MAX_SAFE_INTEGER)).then(l=>(Vp(t,e,l),l))}function Vp(r,e,t){let s=r.Xi.get(e)||nr.min();t.forEach((l,p)=>{p.readTime.compareTo(s)>0&&(s=p.readTime)}),r.Xi.set(e,s)}function Pg(){return Pg=(0,Ce.Z)(function*(r,e,t,s){const l=Fn(r);let p=xn(),b=Tu();for(const Q of t){const de=e.rr(Q.metadata.name);Q.document&&(p=p.add(de));const Pe=e.ur(Q);Pe.setReadTime(e.cr(Q.metadata.readTime)),b=b.insert(de,Pe)}const R=l.Zi.newChangeBuffer({trackRemovals:!0}),W=yield md(l,(Q=s,Oo(sd(vi.fromString(`__bundle__/docs/${Q}`)))));var Q;return l.persistence.runTransaction("Apply bundle documents","readwrite",Q=>dh(Q,R,b).next(de=>(R.apply(Q),de)).next(de=>l.Bs.removeMatchingKeysForTargetId(Q,W.targetId).next(()=>l.Bs.addMatchingKeys(Q,p,W.targetId)).next(()=>l.localDocuments.getLocalViewOfDocuments(Q,de.nr,de.sr)).next(()=>de.nr)))}),Pg.apply(this,arguments)}function xg(r,e){return Kc.apply(this,arguments)}function Kc(){return Kc=(0,Ce.Z)(function*(r,e,t=xn()){const s=yield md(r,Oo(la(e.bundledQuery))),l=Fn(r);return l.persistence.runTransaction("Save named query","readwrite",p=>{const b=Va(e.readTime);if(s.snapshotVersion.compareTo(b)>=0)return l.qs.saveNamedQuery(p,e);const R=s.withResumeToken(ot.EMPTY_BYTE_STRING,b);return l.Ji=l.Ji.insert(R.targetId,R),l.Bs.updateTargetData(p,R).next(()=>l.Bs.removeMatchingKeysForTargetId(p,s.targetId)).next(()=>l.Bs.addMatchingKeys(p,t,s.targetId)).next(()=>l.qs.saveNamedQuery(p,e))})}),Kc.apply(this,arguments)}function zi(r,e){return`firestore_clients_${r}_${e}`}function Up(r,e,t){let s=`firestore_mutations_${r}_${t}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function Ql(r,e){return`firestore_targets_${r}_${e}`}class ap{constructor(e,t,s,l){this.user=e,this.batchId=t,this.state=s,this.error=l}static ar(e,t,s){const l=JSON.parse(s);let p,b="object"==typeof l&&-1!==["pending","acknowledged","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return b&&l.error&&(b="string"==typeof l.error.message&&"string"==typeof l.error.code,b&&(p=new rn(l.error.code,l.error.message))),b?new ap(e,t,l.state,p):(Js("SharedClientState",`Failed to parse mutation state for ID '${t}': ${s}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ol{constructor(e,t,s){this.targetId=e,this.state=t,this.error=s}static ar(e,t){const s=JSON.parse(t);let l,p="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return p&&s.error&&(p="string"==typeof s.error.message&&"string"==typeof s.error.code,p&&(l=new rn(s.error.code,s.error.message))),p?new ol(e,s.state,l):(Js("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Hs{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const s=JSON.parse(t);let l="object"==typeof s&&s.activeTargetIds instanceof Array,p=Pu();for(let b=0;l&&b<s.activeTargetIds.length;++b)l=uo(s.activeTargetIds[b]),p=p.add(s.activeTargetIds[b]);return l?new Hs(e,p):(Js("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class kg{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new kg(t.clientId,t.onlineState):(Js("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Fg{constructor(){this.activeTargetIds=Pu()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class hh{constructor(e,t,s,l,p){this.window=e,this.ii=t,this.persistenceKey=s,this.wr=l,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new xs(Un),this.started=!1,this.yr=[];const b=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=p,this.pr=zi(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new Fg),this.Tr=new RegExp(`^firestore_clients_${b}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${b}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${b}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(R){return`firestore_bundle_loaded_v2_${R}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ce.Z)(function*(){const t=yield e.syncEngine.$i();for(const l of t){if(l===e.wr)continue;const p=e.getItem(zi(e.persistenceKey,l));if(p){const b=Hs.ar(l,p);b&&(e.gr=e.gr.insert(b.clientId,b))}}e.Pr();const s=e.storage.getItem(e.vr);if(s){const l=e.br(s);l&&e.Vr(l)}for(const l of e.yr)e.mr(l);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((s,l)=>{l.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,s){this.Dr(e,t,s),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(Ql(this.persistenceKey,e));if(s){const l=ol.ar(e,s);l&&(t=l.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Ql(this.persistenceKey,e))}updateQueryState(e,t,s){this.kr(e,t,s)}handleUserChange(e,t,s){t.forEach(l=>{this.Cr(l)}),this.currentUser=e,s.forEach(l=>{this.addPendingMutation(l)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return gn("SharedClientState","READ",e,t),t}setItem(e,t){gn("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){gn("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const s=e;if(s.storageArea===this.storage){if(gn("SharedClientState","EVENT",s.key,s.newValue),s.key===this.pr)return void Js("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,Ce.Z)(function*(){if(t.started){if(null!==s.key)if(t.Tr.test(s.key)){if(null==s.newValue){const l=t.Or(s.key);return t.Fr(l,null)}{const l=t.Br(s.key,s.newValue);if(l)return t.Fr(l.clientId,l)}}else if(t.Er.test(s.key)){if(null!==s.newValue){const l=t.Lr(s.key,s.newValue);if(l)return t.qr(l)}}else if(t.Ar.test(s.key)){if(null!==s.newValue){const l=t.Ur(s.key,s.newValue);if(l)return t.Kr(l)}}else if(s.key===t.vr){if(null!==s.newValue){const l=t.br(s.newValue);if(l)return t.Vr(l)}}else if(s.key===t.Ir){const l=function(p){let b=An.ct;if(null!=p)try{const R=JSON.parse(p);cr("number"==typeof R),b=R}catch(R){Js("SharedClientState","Failed to read sequence number from WebStorage",R)}return b}(s.newValue);l!==An.ct&&t.sequenceNumberHandler(l)}else if(s.key===t.Rr){const l=t.Gr(s.newValue);yield Promise.all(l.map(p=>t.syncEngine.Qr(p)))}}else t.yr.push(s)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,s){const l=new ap(this.currentUser,e,t,s),p=Up(this.persistenceKey,this.currentUser,e);this.setItem(p,l.hr())}Cr(e){const t=Up(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,s){const l=Ql(this.persistenceKey,e),p=new ol(e,t,s);this.setItem(l,p.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const s=this.Or(e);return Hs.ar(s,t)}Lr(e,t){const s=this.Er.exec(e),l=Number(s[1]);return ap.ar(new yo(void 0!==s[2]?s[2]:null),l,t)}Ur(e,t){const s=this.Ar.exec(e),l=Number(s[1]);return ol.ar(l,t)}br(e){return kg.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,Ce.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);gn("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const s=t?this.gr.insert(e,t):this.gr.remove(e),l=this.Sr(this.gr),p=this.Sr(s),b=[],R=[];return p.forEach(W=>{l.has(W)||b.push(W)}),l.forEach(W=>{p.has(W)||R.push(W)}),this.syncEngine.Wr(b,R).then(()=>{this.gr=s})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=Pu();return e.forEach((s,l)=>{t=t.unionWith(l.activeTargetIds)}),t}}class Lg{constructor(){this.Hr=new Fg,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,s){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Fg,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class E_{Yr(e){}shutdown(){}}class Sm{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){gn("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){gn("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Hp=null;function Gp(){return null===Hp?Hp=268435456+Math.round(2147483648*Math.random()):Hp++,"0x"+Hp.toString(16)}const D_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class T_{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Fu="WebChannelConnection";class C_ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,s,l,p){const b=Gp(),R=this.To(e,t);gn("RestConnection",`Sending RPC '${e}' ${b}:`,R,s);const W={};return this.Eo(W,l,p),this.Ao(e,R,W,s).then(Q=>(gn("RestConnection",`Received RPC '${e}' ${b}: `,Q),Q),Q=>{throw Ao("RestConnection",`RPC '${e}' ${b} failed with error: `,Q,"url: ",R,"request:",s),Q})}vo(e,t,s,l,p,b){return this.Io(e,t,s,l,p)}Eo(e,t,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+ss,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((l,p)=>e[p]=l),s&&s.headers.forEach((l,p)=>e[p]=l)}To(e,t){return`${this.mo}/v1/${t}:${D_[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,s,l){const p=Gp();return new Promise((b,R)=>{const W=new Yo;W.setWithCredentials(!0),W.listenOnce(Ui.COMPLETE,()=>{try{switch(W.getLastErrorCode()){case Uo.NO_ERROR:const de=W.getResponseJson();gn(Fu,`XHR for RPC '${e}' ${p} received:`,JSON.stringify(de)),b(de);break;case Uo.TIMEOUT:gn(Fu,`RPC '${e}' ${p} timed out`),R(new rn(Nt.DEADLINE_EXCEEDED,"Request time out"));break;case Uo.HTTP_ERROR:const Pe=W.getStatus();if(gn(Fu,`RPC '${e}' ${p} failed with status:`,Pe,"response text:",W.getResponseText()),Pe>0){let Mt=W.getResponseJson();Array.isArray(Mt)&&(Mt=Mt[0]);const Qt=Mt?.error;if(Qt&&Qt.status&&Qt.message){const Ln=function(ir){const er=ir.toLowerCase().replace(/_/g,"-");return Object.values(Nt).indexOf(er)>=0?er:Nt.UNKNOWN}(Qt.status);R(new rn(Ln,Qt.message))}else R(new rn(Nt.UNKNOWN,"Server responded with status "+W.getStatus()))}else R(new rn(Nt.UNAVAILABLE,"Connection failed."));break;default:tn()}}finally{gn(Fu,`RPC '${e}' ${p} completed.`)}});const Q=JSON.stringify(l);gn(Fu,`RPC '${e}' ${p} sending request:`,l),W.send(t,"POST",Q,s,15)})}Ro(e,t,s){const l=Gp(),p=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],b=Ni(),R=Zr(),W={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},Q=this.longPollingOptions.timeoutSeconds;void 0!==Q&&(W.longPollingTimeout=Math.round(1e3*Q)),this.useFetchStreams&&(W.xmlHttpFactory=new yi({})),this.Eo(W.initMessageHeaders,t,s),W.encodeInitMessageHeaders=!0;const de=p.join("");gn(Fu,`Creating RPC '${e}' stream ${l}: ${de}`,W);const Pe=b.createWebChannel(de,W);let Mt=!1,Qt=!1;const Ln=new T_({ro:er=>{Qt?gn(Fu,`Not sending because RPC '${e}' stream ${l} is closed:`,er):(Mt||(gn(Fu,`Opening RPC '${e}' stream ${l} transport.`),Pe.open(),Mt=!0),gn(Fu,`RPC '${e}' stream ${l} sending:`,er),Pe.send(er))},oo:()=>Pe.close()}),ir=(er,Ki,Ms)=>{er.listen(Ki,Ri=>{try{Ms(Ri)}catch(iu){setTimeout(()=>{throw iu},0)}})};return ir(Pe,Zs.EventType.OPEN,()=>{Qt||gn(Fu,`RPC '${e}' stream ${l} transport opened.`)}),ir(Pe,Zs.EventType.CLOSE,()=>{Qt||(Qt=!0,gn(Fu,`RPC '${e}' stream ${l} transport closed`),Ln.wo())}),ir(Pe,Zs.EventType.ERROR,er=>{Qt||(Qt=!0,Ao(Fu,`RPC '${e}' stream ${l} transport errored:`,er),Ln.wo(new rn(Nt.UNAVAILABLE,"The operation could not be completed")))}),ir(Pe,Zs.EventType.MESSAGE,er=>{var Ki;if(!Qt){const Ms=er.data[0];cr(!!Ms);const iu=Ms.error||(null===(Ki=Ms[0])||void 0===Ki?void 0:Ki.error);if(iu){gn(Fu,`RPC '${e}' stream ${l} received error:`,iu);const ha=iu.status;let ta=function(Eh){const vv=oe[Eh];if(void 0!==vv)return _n(vv)}(ha),ll=iu.message;void 0===ta&&(ta=Nt.INTERNAL,ll="Unknown error status: "+ha+" with message "+iu.message),Qt=!0,Ln.wo(new rn(ta,ll)),Pe.close()}else gn(Fu,`RPC '${e}' stream ${l} received:`,Ms),Ln._o(Ms)}}),ir(R,qo.STAT_EVENT,er=>{er.stat===Ar.PROXY?gn(Fu,`RPC '${e}' stream ${l} detected buffering proxy`):er.stat===Ar.NOPROXY&&gn(Fu,`RPC '${e}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{Ln.fo()},0),Ln}}function Am(){return typeof window<"u"?window:null}function jp(){return typeof document<"u"?document:null}function up(r){return new Sp(r,!0)}class Bg{constructor(e,t,s=1e3,l=1.5,p=6e4){this.ii=e,this.timerId=t,this.Po=s,this.bo=l,this.Vo=p,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),s=Math.max(0,Date.now()-this.Co),l=Math.max(0,t-s);l>0&&gn("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,l,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class pc{constructor(e,t,s,l,p,b,R,W){this.ii=e,this.$o=s,this.Oo=l,this.connection=p,this.authCredentialsProvider=b,this.appCheckCredentialsProvider=R,this.listener=W,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Bg(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,Ce.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,Ce.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var s=this;return(0,Ce.Z)(function*(){s.Ho(),s.Jo(),s.qo.cancel(),s.Fo++,4!==e?s.qo.reset():t&&t.code===Nt.RESOURCE_EXHAUSTED?(Js(t.toString()),Js("Using maximum backoff delay to prevent overloading the backend."),s.qo.xo()):t&&t.code===Nt.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.Yo(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.Fo===t&&this.Zo(s,l)},s=>{e(()=>{const l=new rn(Nt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.tu(l)})})}Zo(e,t){const s=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{s(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(l=>{s(()=>this.tu(l))}),this.stream.onMessage(l=>{s(()=>this.onMessage(l))})}Go(){var e=this;this.state=5,this.qo.No((0,Ce.Z)(function*(){e.state=0,e.start()}))}tu(e){return gn("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(gn("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Vg extends pc{constructor(e,t,s,l,p,b){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,l,b),this.serializer=p}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function Qf(r,e){let t;if("targetChange"in e){const s="NO_CHANGE"===(W=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===W?1:"REMOVE"===W?2:"CURRENT"===W?3:"RESET"===W?4:tn(),l=e.targetChange.targetIds||[],p=function(W,Q){return W.useProto3Json?(cr(void 0===Q||"string"==typeof Q),ot.fromBase64String(Q||"")):(cr(void 0===Q||Q instanceof Uint8Array),ot.fromUint8Array(Q||new Uint8Array))}(r,e.targetChange.resumeToken),b=e.targetChange.cause,R=b&&function(W){const Q=void 0===W.code?Nt.UNKNOWN:_n(W.code);return new rn(Q,W.message||"")}(b);t=new xd(s,l,p,R||null)}else if("documentChange"in e){const s=e.documentChange,l=dd(r,s.document.name),p=Va(s.document.updateTime),b=s.document.createTime?Va(s.document.createTime):nr.min(),R=new ms({mapValue:{fields:s.document.fields}}),W=zs.newFoundDocument(l,p,b,R);t=new Sc(s.targetIds||[],s.removedTargetIds||[],W.key,W)}else if("documentDelete"in e){const s=e.documentDelete,l=dd(r,s.document),p=s.readTime?Va(s.readTime):nr.min(),b=zs.newNoDocument(l,p);t=new Sc([],s.removedTargetIds||[],b.key,b)}else if("documentRemove"in e){const s=e.documentRemove,l=dd(r,s.document);t=new Sc([],s.removedTargetIds||[],l,null)}else{if(!("filter"in e))return tn();{const s=e.filter,{count:l=0,unchangedNames:p}=s,b=new Z(l,p);t=new Pd(s.targetId,b)}}var W;return t}(this.serializer,e),s=function(l){if(!("targetChange"in l))return nr.min();const p=l.targetChange;return p.targetIds&&p.targetIds.length?nr.min():p.readTime?Va(p.readTime):nr.min()}(e);return this.listener.nu(t,s)}su(e){const t={};t.database=ih(this.serializer),t.addTarget=function(l,p){let b;const R=p.target;if(b=Lc(R)?{documents:u(l,R)}:{query:_(l,R)},b.targetId=p.targetId,p.resumeToken.approximateByteSize()>0){b.resumeToken=Ap(l,p.resumeToken);const W=Zf(l,p.expectedCount);null!==W&&(b.expectedCount=W)}else if(p.snapshotVersion.compareTo(nr.min())>0){b.readTime=kd(l,p.snapshotVersion.toTimestamp());const W=Zf(l,p.expectedCount);null!==W&&(b.expectedCount=W)}return b}(this.serializer,e);const s=function j(r,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return tn()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);s&&(t.labels=s),this.Wo(t)}iu(e){const t={};t.database=ih(this.serializer),t.removeTarget=e,this.Wo(t)}}class Ug extends pc{constructor(e,t,s,l,p,b){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,l,b),this.serializer=p,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(cr(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function w(r,e){return r&&r.length>0?(cr(void 0!==e),r.map(t=>function(s,l){let p=Va(s.updateTime?s.updateTime:l);return p.isEqual(nr.min())&&(p=Va(l)),new eh(p,s.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),s=Va(e.commitTime);return this.listener.cu(s,t)}return cr(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=ih(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>hd(this.serializer,s))};this.Wo(t)}}class I_ extends class{}{constructor(e,t,s,l){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=l,this.lu=!1}fu(){if(this.lu)throw new rn(Nt.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,p])=>this.connection.Io(e,t,s,l,p)).catch(l=>{throw"FirebaseError"===l.name?(l.code===Nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new rn(Nt.UNKNOWN,l.toString())})}vo(e,t,s,l){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([p,b])=>this.connection.vo(e,t,s,p,b,l)).catch(p=>{throw"FirebaseError"===p.name?(p.code===Nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new rn(Nt.UNKNOWN,p.toString())})}terminate(){this.lu=!0}}class Lu{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Js(t),this.mu=!1):gn("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Xl{constructor(e,t,s,l,p){var b=this;this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=p,this.Pu.Yr(R=>{s.enqueueAndForget((0,Ce.Z)(function*(){var W;Hd(b)&&(gn("RemoteStore","Restarting streams for network reachability change."),yield(W=(0,Ce.Z)(function*(Q){const de=Fn(Q);de.vu.add(4),yield Df(de),de.bu.set("Unknown"),de.vu.delete(4),yield jh(de)}),function(Q){return W.apply(this,arguments)})(b))}))}),this.bu=new Lu(s,l)}}function jh(r){return Gg.apply(this,arguments)}function Gg(){return Gg=(0,Ce.Z)(function*(r){if(Hd(r))for(const e of r.Ru)yield e(!0)}),Gg.apply(this,arguments)}function Df(r){return $h.apply(this,arguments)}function $h(){return $h=(0,Ce.Z)(function*(r){for(const e of r.Ru)yield e(!1)}),$h.apply(this,arguments)}function zh(r,e){const t=Fn(r);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),$p(t)?Om(t):Sf(t).Ko()&&Mm(t,e))}function fh(r,e){const t=Fn(r),s=Sf(t);t.Au.delete(e),s.Ko()&&lp(t,e),0===t.Au.size&&(s.Ko()?s.jo():Hd(t)&&t.bu.set("Unknown"))}function Mm(r,e){if(r.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(nr.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Sf(r).su(e)}function lp(r,e){r.Vu.qt(e),Sf(r).iu(e)}function Om(r){r.Vu=new qf({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),le:e=>r.Au.get(e)||null,ue:()=>r.datastore.serializer.databaseId}),Sf(r).start(),r.bu.gu()}function $p(r){return Hd(r)&&!Sf(r).Uo()&&r.Au.size>0}function Hd(r){return 0===Fn(r).vu.size}function zp(r){r.Vu=void 0}function jg(r){return cp.apply(this,arguments)}function cp(){return cp=(0,Ce.Z)(function*(r){r.Au.forEach((e,t)=>{Mm(r,e)})}),cp.apply(this,arguments)}function Gd(r,e){return Tf.apply(this,arguments)}function Tf(){return Tf=(0,Ce.Z)(function*(r,e){zp(r),$p(r)?(r.bu.Iu(e),Om(r)):r.bu.set("Unknown")}),Tf.apply(this,arguments)}function Wp(r,e,t){return Rc.apply(this,arguments)}function Rc(){return Rc=(0,Ce.Z)(function*(r,e,t){if(r.bu.set("Online"),e instanceof xd&&2===e.state&&e.cause)try{yield(s=(0,Ce.Z)(function*(l,p){const b=p.cause;for(const R of p.targetIds)l.Au.has(R)&&(yield l.remoteSyncer.rejectListen(R,b),l.Au.delete(R),l.Vu.removeTarget(R))}),function(l,p){return s.apply(this,arguments)})(r,e)}catch(s){gn("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield Kp(r,s)}else if(e instanceof Sc?r.Vu.Ht(e):e instanceof Pd?r.Vu.ne(e):r.Vu.Xt(e),!t.isEqual(nr.min()))try{const s=yield ch(r.localStore);t.compareTo(s)>=0&&(yield function(l,p){const b=l.Vu.ce(p);return b.targetChanges.forEach((R,W)=>{if(R.resumeToken.approximateByteSize()>0){const Q=l.Au.get(W);Q&&l.Au.set(W,Q.withResumeToken(R.resumeToken,p))}}),b.targetMismatches.forEach((R,W)=>{const Q=l.Au.get(R);if(!Q)return;l.Au.set(R,Q.withResumeToken(ot.EMPTY_BYTE_STRING,Q.snapshotVersion)),lp(l,R);const de=new vr(Q.target,R,W,Q.sequenceNumber);Mm(l,de)}),l.remoteSyncer.applyRemoteEvent(b)}(r,t))}catch(s){gn("RemoteStore","Failed to raise snapshot:",s),yield Kp(r,s)}var s}),Rc.apply(this,arguments)}function Kp(r,e,t){return qp.apply(this,arguments)}function qp(){return qp=(0,Ce.Z)(function*(r,e,t){if(!E(e))throw e;r.vu.add(1),yield Df(r),r.bu.set("Offline"),t||(t=()=>ch(r.localStore)),r.asyncQueue.enqueueRetryable((0,Ce.Z)(function*(){gn("RemoteStore","Retrying IndexedDB access"),yield t(),r.vu.delete(1),yield jh(r)}))}),qp.apply(this,arguments)}function $g(r,e){return e().catch(t=>Kp(r,t,e))}function Cf(r){return zg.apply(this,arguments)}function zg(){return zg=(0,Ce.Z)(function*(r){const e=Fn(r),t=ph(e);let s=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;If(e);)try{const l=yield Og(e.localStore,s);if(null===l){0===e.Eu.length&&t.jo();break}s=l.batchId,Rm(e,l)}catch(l){yield Kp(e,l)}S_(e)&&Pm(e)}),zg.apply(this,arguments)}function If(r){return Hd(r)&&r.Eu.length<10}function Rm(r,e){r.Eu.push(e);const t=ph(r);t.Ko()&&t.ou&&t.uu(e.mutations)}function S_(r){return Hd(r)&&!ph(r).Uo()&&r.Eu.length>0}function Pm(r){ph(r).start()}function A_(r){return Wg.apply(this,arguments)}function Wg(){return Wg=(0,Ce.Z)(function*(r){ph(r).hu()}),Wg.apply(this,arguments)}function N_(r){return Kg.apply(this,arguments)}function Kg(){return Kg=(0,Ce.Z)(function*(r){const e=ph(r);for(const t of r.Eu)e.uu(t.mutations)}),Kg.apply(this,arguments)}function M_(r,e,t){return qg.apply(this,arguments)}function qg(){return qg=(0,Ce.Z)(function*(r,e,t){const s=r.Eu.shift(),l=m.from(s,e,t);yield $g(r,()=>r.remoteSyncer.applySuccessfulWrite(l)),yield Cf(r)}),qg.apply(this,arguments)}function xm(r,e){return dp.apply(this,arguments)}function dp(){return dp=(0,Ce.Z)(function*(r,e){var t;e&&ph(r).ou&&(yield(t=(0,Ce.Z)(function*(s,l){if(bt(p=l.code)&&p!==Nt.ABORTED){const b=s.Eu.shift();ph(s).Qo(),yield $g(s,()=>s.remoteSyncer.rejectFailedWrite(b.batchId,l)),yield Cf(s)}var p}),function(s,l){return t.apply(this,arguments)})(r,e)),S_(r)&&Pm(r)}),dp.apply(this,arguments)}function km(r,e){return hp.apply(this,arguments)}function hp(){return hp=(0,Ce.Z)(function*(r,e){const t=Fn(r);t.asyncQueue.verifyOperationInProgress(),gn("RemoteStore","RemoteStore received new credentials");const s=Hd(t);t.vu.add(3),yield Df(t),s&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield jh(t)}),hp.apply(this,arguments)}function Yg(r,e){return Zg.apply(this,arguments)}function Zg(){return Zg=(0,Ce.Z)(function*(r,e){const t=Fn(r);e?(t.vu.delete(2),yield jh(t)):e||(t.vu.add(2),yield Df(t),t.bu.set("Unknown"))}),Zg.apply(this,arguments)}function Sf(r){return r.Su||(r.Su=function(e,t,s){const l=Fn(e);return l.fu(),new Vg(t,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)}(r.datastore,r.asyncQueue,{uo:jg.bind(null,r),ao:Gd.bind(null,r),nu:Wp.bind(null,r)}),r.Ru.push(function(){var e=(0,Ce.Z)(function*(t){t?(r.Su.Qo(),$p(r)?Om(r):r.bu.set("Unknown")):(yield r.Su.stop(),zp(r))});return function(t){return e.apply(this,arguments)}}())),r.Su}function ph(r){return r.Du||(r.Du=function(e,t,s){const l=Fn(e);return l.fu(),new Ug(t,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)}(r.datastore,r.asyncQueue,{uo:A_.bind(null,r),ao:xm.bind(null,r),au:N_.bind(null,r),cu:M_.bind(null,r)}),r.Ru.push(function(){var e=(0,Ce.Z)(function*(t){t?(r.Du.Qo(),yield Cf(r)):(yield r.Du.stop(),r.Eu.length>0&&(gn("RemoteStore",`Stopping write stream with ${r.Eu.length} pending writes`),r.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),r.Du}class Jg{constructor(e,t,s,l,p){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=l,this.removalCallback=p,this.deferred=new No,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(b=>{})}static createAndSchedule(e,t,s,l,p){const b=Date.now()+s,R=new Jg(e,t,b,l,p);return R.start(s),R}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new rn(Nt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Af(r,e){if(Js("AsyncQueue",`${e}: ${r}`),E(r))return new rn(Nt.UNAVAILABLE,`${e}: ${r}`);throw r}class Wh{constructor(e){this.comparator=e?(t,s)=>e(t,s)||mn.comparator(t.key,s.key):(t,s)=>mn.comparator(t.key,s.key),this.keyedMap=zl(),this.sortedSet=new xs(this.comparator)}static emptySet(e){return new Wh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Wh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const l=t.getNext().key,p=s.getNext().key;if(!l.isEqual(p))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const s=new Wh;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class Qg{constructor(){this.Cu=new xs(mn.comparator)}track(e){const t=e.doc.key,s=this.Cu.get(t);s?0!==e.type&&3===s.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==s.type?this.Cu=this.Cu.insert(t,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.Cu=this.Cu.remove(t):1===e.type&&2===s.type?this.Cu=this.Cu.insert(t,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):tn():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,s)=>{e.push(s)}),e}}class Kh{constructor(e,t,s,l,p,b,R,W,Q){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=p,this.fromCache=b,this.syncStateChanged=R,this.excludesMetadataChanges=W,this.hasCachedResults=Q}static fromInitialDocuments(e,t,s,l,p){const b=[];return t.forEach(R=>{b.push({type:0,doc:R})}),new Kh(e,t,Wh.emptySet(t),b,s,l,!0,!1,p)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&eu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let l=0;l<t.length;l++)if(t[l].type!==s[l].type||!t[l].doc.isEqual(s[l].doc))return!1;return!0}}class O_{constructor(){this.Nu=void 0,this.listeners=[]}}class by{constructor(){this.queries=new Du(e=>Nh(e),eu),this.onlineState="Unknown",this.ku=new Set}}function Yp(r,e){return Fm.apply(this,arguments)}function Fm(){return Fm=(0,Ce.Z)(function*(r,e){const t=Fn(r),s=e.query;let l=!1,p=t.queries.get(s);if(p||(l=!0,p=new O_),l)try{p.Nu=yield t.onListen(s)}catch(b){const R=Af(b,`Initialization of query '${$l(e.query)}' failed`);return void e.onError(R)}t.queries.set(s,p),p.listeners.push(e),e.Mu(t.onlineState),p.Nu&&e.$u(p.Nu)&&em(t)}),Fm.apply(this,arguments)}function gh(r,e){return Zp.apply(this,arguments)}function Zp(){return Zp=(0,Ce.Z)(function*(r,e){const t=Fn(r),s=e.query;let l=!1;const p=t.queries.get(s);if(p){const b=p.listeners.indexOf(e);b>=0&&(p.listeners.splice(b,1),l=0===p.listeners.length)}if(l)return t.queries.delete(s),t.onUnlisten(s)}),Zp.apply(this,arguments)}function Lm(r,e){const t=Fn(r);let s=!1;for(const l of e){const b=t.queries.get(l.query);if(b){for(const R of b.listeners)R.$u(l)&&(s=!0);b.Nu=l}}s&&em(t)}function Xg(r,e,t){const s=Fn(r),l=s.queries.get(e);if(l)for(const p of l.listeners)p.onError(t);s.queries.delete(e)}function em(r){r.ku.forEach(e=>{e.next()})}class Pc{constructor(e,t,s){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=s||{}}$u(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)3!==l.type&&s.push(l);e=new Kh(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Kh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class qh{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class al{constructor(e){this.serializer=e}rr(e){return dd(this.serializer,e)}ur(e){return e.metadata.exists?Ld(this.serializer,e.document,!1):zs.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return Va(e)}}class Yh{constructor(e,t,s){this.ju=e,this.localStore=t,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=fp(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const s=vi.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,s=new al(this.serializer);for(const l of e)if(l.metadata.queries){const p=s.rr(l.metadata.name);for(const b of l.metadata.queries){const R=(t.get(b)||xn()).add(p);t.set(b,R)}}return t}complete(){var e=this;return(0,Ce.Z)(function*(){const t=yield function w_(r,e,t,s){return Pg.apply(this,arguments)}(e.localStore,new al(e.serializer),e.documents,e.ju.id),s=e.Wu(e.documents);for(const l of e.queries)yield xg(e.localStore,l,s.get(l.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function fp(r){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}}class zo{constructor(e){this.key=e}}class Nf{constructor(e){this.key=e}}class Zh{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=xn(),this.mutatedKeys=xn(),this.tc=Ru(e),this.ec=new Wh(this.tc)}get nc(){return this.Yu}sc(e,t){const s=t?t.ic:new Qg,l=t?t.ec:this.ec;let p=t?t.mutatedKeys:this.mutatedKeys,b=l,R=!1;const W="F"===this.query.limitType&&l.size===this.query.limit?l.last():null,Q="L"===this.query.limitType&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((de,Pe)=>{const Mt=l.get(de),Qt=Ec(this.query,Pe)?Pe:null,Ln=!!Mt&&this.mutatedKeys.has(Mt.key),ir=!!Qt&&(Qt.hasLocalMutations||this.mutatedKeys.has(Qt.key)&&Qt.hasCommittedMutations);let er=!1;Mt&&Qt?Mt.data.isEqual(Qt.data)?Ln!==ir&&(s.track({type:3,doc:Qt}),er=!0):this.rc(Mt,Qt)||(s.track({type:2,doc:Qt}),er=!0,(W&&this.tc(Qt,W)>0||Q&&this.tc(Qt,Q)<0)&&(R=!0)):!Mt&&Qt?(s.track({type:0,doc:Qt}),er=!0):Mt&&!Qt&&(s.track({type:1,doc:Mt}),er=!0,(W||Q)&&(R=!0)),er&&(Qt?(b=b.add(Qt),p=ir?p.add(de):p.delete(de)):(b=b.delete(de),p=p.delete(de)))}),null!==this.query.limit)for(;b.size>this.query.limit;){const de="F"===this.query.limitType?b.last():b.first();b=b.delete(de.key),p=p.delete(de.key),s.track({type:1,doc:de})}return{ec:b,ic:s,zi:R,mutatedKeys:p}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s){const l=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const p=e.ic.xu();p.sort((Q,de)=>function(Pe,Mt){const Qt=Ln=>{switch(Ln){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return tn()}};return Qt(Pe)-Qt(Mt)}(Q.type,de.type)||this.tc(Q.doc,de.doc)),this.oc(s);const b=t?this.uc():[],R=0===this.Zu.size&&this.current?1:0,W=R!==this.Xu;return this.Xu=R,0!==p.length||W?{snapshot:new Kh(this.query,e.ec,l,p,e.mutatedKeys,0===R,W,!1,!!s&&s.resumeToken.approximateByteSize()>0),cc:b}:{cc:b}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Qg,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=xn(),this.ec.forEach(s=>{this.ac(s.key)&&(this.Zu=this.Zu.add(s.key))});const t=[];return e.forEach(s=>{this.Zu.has(s)||t.push(new Nf(s))}),this.Zu.forEach(s=>{e.has(s)||t.push(new zo(s))}),t}hc(e){this.Yu=e.ir,this.Zu=xn();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Kh.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Mf{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class Of{constructor(e){this.key=e,this.fc=!1}}class Rf{constructor(e,t,s,l,p,b){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=l,this.currentUser=p,this.maxConcurrentLimboResolutions=b,this.dc={},this.wc=new Du(R=>Nh(R),eu),this._c=new Map,this.mc=new Set,this.gc=new xs(mn.comparator),this.yc=new Map,this.Ic=new Ef,this.Tc={},this.Ec=new Map,this.Ac=Bh.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function mh(r,e){return _h.apply(this,arguments)}function _h(){return _h=(0,Ce.Z)(function*(r,e){const t=Nr(r);let s,l;const p=t.wc.get(e);if(p)s=p.targetId,t.sharedClientState.addLocalQueryTarget(s),l=p.view.lc();else{const b=yield md(t.localStore,Oo(e)),R=t.sharedClientState.addLocalQueryTarget(b.targetId);s=b.targetId,l=yield yd(t,e,s,"current"===R,b.resumeToken),t.isPrimaryClient&&zh(t.remoteStore,b)}return l}),_h.apply(this,arguments)}function yd(r,e,t,s,l){return yh.apply(this,arguments)}function yh(){return yh=(0,Ce.Z)(function*(r,e,t,s,l){r.Rc=(Pe,Mt,Qt)=>{return(Ln=(0,Ce.Z)(function*(ir,er,Ki,Ms){let Ri=er.view.sc(Ki);Ri.zi&&(Ri=yield Wc(ir.localStore,er.query,!1).then(({documents:ta})=>er.view.sc(ta,Ri)));const iu=Ms&&Ms.targetChanges.get(er.targetId),ha=er.view.applyChanges(Ri,ir.isPrimaryClient,iu);return Ff(ir,er.targetId,ha.cc),ha.snapshot}),function(ir,er,Ki,Ms){return Ln.apply(this,arguments)})(r,Pe,Mt,Qt);var Ln};const p=yield Wc(r.localStore,e,!0),b=new Zh(e,p.ir),R=b.sc(p.documents),W=cd.createSynthesizedTargetChangeForCurrentChange(t,s&&"Offline"!==r.onlineState,l),Q=b.applyChanges(R,r.isPrimaryClient,W);Ff(r,t,Q.cc);const de=new Mf(e,t,b);return r.wc.set(e,de),r._c.has(t)?r._c.get(t).push(e):r._c.set(t,[e]),Q.snapshot}),yh.apply(this,arguments)}function Pf(r,e){return Jp.apply(this,arguments)}function Jp(){return Jp=(0,Ce.Z)(function*(r,e){const t=Fn(r),s=t.wc.get(e),l=t._c.get(s.targetId);if(l.length>1)return t._c.set(s.targetId,l.filter(p=>!eu(p,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(s.targetId),t.sharedClientState.isActiveQueryTarget(s.targetId)||(yield _d(t.localStore,s.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(s.targetId),fh(t.remoteStore,s.targetId),kf(t,s.targetId)}).catch(Wu))):(kf(t,s.targetId),yield _d(t.localStore,s.targetId,!0))}),Jp.apply(this,arguments)}function pp(){return pp=(0,Ce.Z)(function*(r,e,t){const s=Jr(r);try{const l=yield function(p,b){const R=Fn(p),W=os.now(),Q=b.reduce((Mt,Qt)=>Mt.add(Qt.key),xn());let de,Pe;return R.persistence.runTransaction("Locally write mutations","readwrite",Mt=>{let Qt=Tu(),Ln=xn();return R.Zi.getEntries(Mt,Q).next(ir=>{Qt=ir,Qt.forEach((er,Ki)=>{Ki.isValidDocument()||(Ln=Ln.add(er))})}).next(()=>R.localDocuments.getOverlayedDocuments(Mt,Qt)).next(ir=>{de=ir;const er=[];for(const Ki of b){const Ms=ud(Ki,de.get(Ki.key).overlayedDocument);null!=Ms&&er.push(new nu(Ki.key,Ms,Nl(Ms.value.mapValue),To.exists(!0)))}return R.mutationQueue.addMutationBatch(Mt,W,er,b)}).next(ir=>{Pe=ir;const er=ir.applyToLocalDocumentSet(de,Ln);return R.documentOverlayCache.saveOverlays(Mt,ir.batchId,er)})}).then(()=>({batchId:Pe.batchId,changes:Rl(de)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(l.batchId),function(p,b,R){let W=p.Tc[p.currentUser.toKey()];W||(W=new xs(Un)),W=W.insert(b,R),p.Tc[p.currentUser.toKey()]=W}(s,l.batchId,t),yield xc(s,l.changes),yield Cf(s.remoteStore)}catch(l){const p=Af(l,"Failed to persist write");t.reject(p)}}),pp.apply(this,arguments)}function tm(r,e){return Qp.apply(this,arguments)}function Qp(){return Qp=(0,Ce.Z)(function*(r,e){const t=Fn(r);try{const s=yield function Gh(r,e){const t=Fn(r),s=e.snapshotVersion;let l=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",p=>{const b=t.Zi.newChangeBuffer({trackRemovals:!0});l=t.Ji;const R=[];e.targetChanges.forEach((de,Pe)=>{const Mt=l.get(Pe);if(!Mt)return;R.push(t.Bs.removeMatchingKeys(p,de.removedDocuments,Pe).next(()=>t.Bs.addMatchingKeys(p,de.addedDocuments,Pe)));let Qt=Mt.withSequenceNumber(p.currentSequenceNumber);var Ln,ir,er;null!==e.targetMismatches.get(Pe)?Qt=Qt.withResumeToken(ot.EMPTY_BYTE_STRING,nr.min()).withLastLimboFreeSnapshotVersion(nr.min()):de.resumeToken.approximateByteSize()>0&&(Qt=Qt.withResumeToken(de.resumeToken,s)),l=l.insert(Pe,Qt),ir=Qt,er=de,(0===(Ln=Mt).resumeToken.approximateByteSize()||ir.snapshotVersion.toMicroseconds()-Ln.snapshotVersion.toMicroseconds()>=3e8||er.addedDocuments.size+er.modifiedDocuments.size+er.removedDocuments.size>0)&&R.push(t.Bs.updateTargetData(p,Qt))});let W=Tu(),Q=xn();if(e.documentUpdates.forEach(de=>{e.resolvedLimboDocuments.has(de)&&R.push(t.persistence.referenceDelegate.updateLimboDocument(p,de))}),R.push(dh(p,b,e.documentUpdates).next(de=>{W=de.nr,Q=de.sr})),!s.isEqual(nr.min())){const de=t.Bs.getLastRemoteSnapshotVersion(p).next(Pe=>t.Bs.setTargetsMetadata(p,p.currentSequenceNumber,s));R.push(de)}return nt.waitFor(R).next(()=>b.apply(p)).next(()=>t.localDocuments.getLocalViewOfDocuments(p,W,Q)).next(()=>W)}).then(p=>(t.Ji=l,p))}(t.localStore,e);e.targetChanges.forEach((l,p)=>{const b=t.yc.get(p);b&&(cr(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?b.fc=!0:l.modifiedDocuments.size>0?cr(b.fc):l.removedDocuments.size>0&&(cr(b.fc),b.fc=!1))}),yield xc(t,s,e)}catch(s){yield Wu(s)}}),Qp.apply(this,arguments)}function nm(r,e,t){const s=Fn(r);if(s.isPrimaryClient&&0===t||!s.isPrimaryClient&&1===t){const l=[];s.wc.forEach((p,b)=>{const R=b.view.Mu(e);R.snapshot&&l.push(R.snapshot)}),function(p,b){const R=Fn(p);R.onlineState=b;let W=!1;R.queries.forEach((Q,de)=>{for(const Pe of de.listeners)Pe.Mu(b)&&(W=!0)}),W&&em(R)}(s.eventManager,e),l.length&&s.dc.nu(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function Xp(r,e,t){return xf.apply(this,arguments)}function xf(){return xf=(0,Ce.Z)(function*(r,e,t){const s=Fn(r);s.sharedClientState.updateQueryState(e,"rejected",t);const l=s.yc.get(e),p=l&&l.key;if(p){let b=new xs(mn.comparator);b=b.insert(p,zs.newNoDocument(p,nr.min()));const R=xn().add(p),W=new jc(nr.min(),new Map,new xs(Un),b,R);yield tm(s,W),s.gc=s.gc.remove(p),s.yc.delete(e),sm(s)}else yield _d(s.localStore,e,!1).then(()=>kf(s,e,t)).catch(Wu)}),xf.apply(this,arguments)}function Vm(r,e){return rm.apply(this,arguments)}function rm(){return rm=(0,Ce.Z)(function*(r,e){const t=Fn(r),s=e.batch.batchId;try{const l=yield function Lp(r,e){const t=Fn(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=e.batch.keys(),p=t.Zi.newChangeBuffer({trackRemovals:!0});return function(b,R,W,Q){const de=W.batch,Pe=de.keys();let Mt=nt.resolve();return Pe.forEach(Qt=>{Mt=Mt.next(()=>Q.getEntry(R,Qt)).next(Ln=>{const ir=W.docVersions.get(Qt);cr(null!==ir),Ln.version.compareTo(ir)<0&&(de.applyToRemoteDocument(Ln,W),Ln.isValidDocument()&&(Ln.setReadTime(W.commitVersion),Q.addEntry(Ln)))})}),Mt.next(()=>b.mutationQueue.removeMutationBatch(R,de))}(t,s,e,p).next(()=>p.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,l,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(b){let R=xn();for(let W=0;W<b.mutationResults.length;++W)b.mutationResults[W].transformResults.length>0&&(R=R.add(b.batch.mutations[W].key));return R}(e))).next(()=>t.localDocuments.getDocuments(s,l))})}(t.localStore,e);mp(t,s,null),gp(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),yield xc(t,l)}catch(l){yield Wu(l)}}),rm.apply(this,arguments)}function R_(r,e,t){return eg.apply(this,arguments)}function eg(){return eg=(0,Ce.Z)(function*(r,e,t){const s=Fn(r);try{const l=yield function(p,b){const R=Fn(p);return R.persistence.runTransaction("Reject batch","readwrite-primary",W=>{let Q;return R.mutationQueue.lookupMutationBatch(W,b).next(de=>(cr(null!==de),Q=de.keys(),R.mutationQueue.removeMutationBatch(W,de))).next(()=>R.mutationQueue.performConsistencyCheck(W)).next(()=>R.documentOverlayCache.removeOverlaysForBatchId(W,Q,b)).next(()=>R.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(W,Q)).next(()=>R.localDocuments.getDocuments(W,Q))})}(s.localStore,e);mp(s,e,t),gp(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),yield xc(s,l)}catch(l){yield Wu(l)}}),eg.apply(this,arguments)}function tg(){return tg=(0,Ce.Z)(function*(r,e){const t=Fn(r);Hd(t.remoteStore)||gn("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(p){const b=Fn(p);return b.persistence.runTransaction("Get highest unacknowledged batch id","readonly",R=>b.mutationQueue.getHighestUnacknowledgedBatchId(R))}(t.localStore);if(-1===s)return void e.resolve();const l=t.Ec.get(s)||[];l.push(e),t.Ec.set(s,l)}catch(s){const l=Af(s,"Initialization of waitForPendingWrites() operation failed");e.reject(l)}}),tg.apply(this,arguments)}function gp(r,e){(r.Ec.get(e)||[]).forEach(t=>{t.resolve()}),r.Ec.delete(e)}function mp(r,e,t){const s=Fn(r);let l=s.Tc[s.currentUser.toKey()];if(l){const p=l.get(e);p&&(t?p.reject(t):p.resolve(),l=l.remove(e)),s.Tc[s.currentUser.toKey()]=l}}function kf(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r._c.get(e))r.wc.delete(s),t&&r.dc.Pc(s,t);r._c.delete(e),r.isPrimaryClient&&r.Ic.Is(e).forEach(s=>{r.Ic.containsKey(s)||_p(r,s)})}function _p(r,e){r.mc.delete(e.path.canonicalString());const t=r.gc.get(e);null!==t&&(fh(r.remoteStore,t),r.gc=r.gc.remove(e),r.yc.delete(t),sm(r))}function Ff(r,e,t){for(const s of t)s instanceof zo?(r.Ic.addReference(s.key,e),im(r,s)):s instanceof Nf?(gn("SyncEngine","Document no longer in limbo: "+s.key),r.Ic.removeReference(s.key,e),r.Ic.containsKey(s.key)||_p(r,s.key)):tn()}function im(r,e){const t=e.key,s=t.path.canonicalString();r.gc.get(t)||r.mc.has(s)||(gn("SyncEngine","New document in limbo: "+t),r.mc.add(s),sm(r))}function sm(r){for(;r.mc.size>0&&r.gc.size<r.maxConcurrentLimboResolutions;){const e=r.mc.values().next().value;r.mc.delete(e);const t=new mn(vi.fromString(e)),s=r.Ac.next();r.yc.set(s,new Of(t)),r.gc=r.gc.insert(t,s),zh(r.remoteStore,new vr(Oo(sd(t.path)),s,"TargetPurposeLimboResolution",An.ct))}}function xc(r,e,t){return Lf.apply(this,arguments)}function Lf(){return Lf=(0,Ce.Z)(function*(r,e,t){const s=Fn(r),l=[],p=[],b=[];var R;s.wc.isEmpty()||(s.wc.forEach((R,W)=>{b.push(s.Rc(W,e,t).then(Q=>{if((Q||t)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(W.targetId,Q?.fromCache?"not-current":"current"),Q){l.push(Q);const de=Ud.Li(W.targetId,Q);p.push(de)}}))}),yield Promise.all(b),s.dc.nu(l),yield(R=(0,Ce.Z)(function*(W,Q){const de=Fn(W);try{yield de.persistence.runTransaction("notifyLocalViewChanges","readwrite",Pe=>nt.forEach(Q,Mt=>nt.forEach(Mt.Fi,Qt=>de.persistence.referenceDelegate.addReference(Pe,Mt.targetId,Qt)).next(()=>nt.forEach(Mt.Bi,Qt=>de.persistence.referenceDelegate.removeReference(Pe,Mt.targetId,Qt)))))}catch(Pe){if(!E(Pe))throw Pe;gn("LocalStore","Failed to update sequence numbers: "+Pe)}for(const Pe of Q){const Mt=Pe.targetId;if(!Pe.fromCache){const Qt=de.Ji.get(Mt),ir=Qt.withLastLimboFreeSnapshotVersion(Qt.snapshotVersion);de.Ji=de.Ji.insert(Mt,ir)}}}),function(W,Q){return R.apply(this,arguments)})(s.localStore,p))}),Lf.apply(this,arguments)}function Um(r,e){return ng.apply(this,arguments)}function ng(){return ng=(0,Ce.Z)(function*(r,e){const t=Fn(r);if(!t.currentUser.isEqual(e)){gn("SyncEngine","User change. New user:",e.toKey());const s=yield Im(t.localStore,e);t.currentUser=e,(l=t).Ec.forEach(b=>{b.forEach(R=>{R.reject(new rn(Nt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),l.Ec.clear(),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield xc(t,s.er)}var l}),ng.apply(this,arguments)}function om(r,e){const t=Fn(r),s=t.yc.get(e);if(s&&s.fc)return xn().add(s.key);{let l=xn();const p=t._c.get(e);if(!p)return l;for(const b of p){const R=t.wc.get(b);l=l.unionWith(R.view.nc)}return l}}function Hm(r,e){return rg.apply(this,arguments)}function rg(){return rg=(0,Ce.Z)(function*(r,e){const t=Fn(r),s=yield Wc(t.localStore,e.query,!0),l=e.view.hc(s);return t.isPrimaryClient&&Ff(t,e.targetId,l.cc),l}),rg.apply(this,arguments)}function am(r,e){return c.apply(this,arguments)}function c(){return c=(0,Ce.Z)(function*(r,e){const t=Fn(r);return Rg(t.localStore,e).then(s=>xc(t,s))}),c.apply(this,arguments)}function g(r,e,t,s){return T.apply(this,arguments)}function T(){return T=(0,Ce.Z)(function*(r,e,t,s){const l=Fn(r),p=yield function(b,R){const W=Fn(b),Q=Fn(W.mutationQueue);return W.persistence.runTransaction("Lookup mutation documents","readonly",de=>Q.Sn(de,R).next(Pe=>Pe?W.localDocuments.getDocuments(de,Pe):nt.resolve(null)))}(l.localStore,e);var R;null!==p?("pending"===t?yield Cf(l.remoteStore):"acknowledged"===t||"rejected"===t?(mp(l,e,s||null),gp(l,e),R=e,Fn(Fn(l.localStore).mutationQueue).Cn(R)):tn(),yield xc(l,p)):gn("SyncEngine","Cannot apply mutation batch with id: "+e)}),T.apply(this,arguments)}function ie(){return ie=(0,Ce.Z)(function*(r,e){const t=Fn(r);if(Nr(t),Jr(t),!0===e&&!0!==t.vc){const s=t.sharedClientState.getAllActiveQueryTargets(),l=yield _e(t,s.toArray());t.vc=!0,yield Yg(t.remoteStore,!0);for(const p of l)zh(t.remoteStore,p)}else if(!1===e&&!1!==t.vc){const s=[];let l=Promise.resolve();t._c.forEach((p,b)=>{t.sharedClientState.isLocalQueryTarget(b)?s.push(b):l=l.then(()=>(kf(t,b),_d(t.localStore,b,!0))),fh(t.remoteStore,b)}),yield l,yield _e(t,s),function(p){const b=Fn(p);b.yc.forEach((R,W)=>{fh(b.remoteStore,W)}),b.Ic.Ts(),b.yc=new Map,b.gc=new xs(mn.comparator)}(t),t.vc=!1,yield Yg(t.remoteStore,!1)}}),ie.apply(this,arguments)}function _e(r,e,t){return Fe.apply(this,arguments)}function Fe(){return Fe=(0,Ce.Z)(function*(r,e,t){const s=Fn(r),l=[],p=[];for(const b of e){let R;const W=s._c.get(b);if(W&&0!==W.length){R=yield md(s.localStore,Oo(W[0]));for(const Q of W){const de=s.wc.get(Q),Pe=yield Hm(s,de);Pe.snapshot&&p.push(Pe.snapshot)}}else{const Q=yield Bp(s.localStore,b);R=yield md(s.localStore,Q),yield yd(s,Xe(Q),b,!1,R.resumeToken)}l.push(R)}return s.dc.nu(p),l}),Fe.apply(this,arguments)}function Xe(r){return Ah(r.path,r.collectionGroup,r.orderBy,r.filters,r.limit,"F",r.startAt,r.endAt)}function vt(r){const e=Fn(r);return Fn(Fn(e.localStore).persistence).$i()}function fn(r,e,t,s){return dn.apply(this,arguments)}function dn(){return dn=(0,Ce.Z)(function*(r,e,t,s){const l=Fn(r);if(l.vc)return void gn("SyncEngine","Ignoring unexpected query state notification.");const p=l._c.get(e);if(p&&p.length>0)switch(t){case"current":case"not-current":{const b=yield Rg(l.localStore,Nd(p[0])),R=jc.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,ot.EMPTY_BYTE_STRING);yield xc(l,b,R);break}case"rejected":yield _d(l.localStore,e,!0),kf(l,e,s);break;default:tn()}}),dn.apply(this,arguments)}function Cn(r,e,t){return rr.apply(this,arguments)}function rr(){return rr=(0,Ce.Z)(function*(r,e,t){const s=Nr(r);if(s.vc){for(const l of e){if(s._c.has(l)){gn("SyncEngine","Adding an already active target "+l);continue}const p=yield Bp(s.localStore,l),b=yield md(s.localStore,p);yield yd(s,Xe(p),b.targetId,!1,b.resumeToken),zh(s.remoteStore,b)}for(const l of t)s._c.has(l)&&(yield _d(s.localStore,l,!1).then(()=>{fh(s.remoteStore,l),kf(s,l)}).catch(Wu))}}),rr.apply(this,arguments)}function Nr(r){const e=Fn(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=tm.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=om.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Xp.bind(null,e),e.dc.nu=Lm.bind(null,e.eventManager),e.dc.Pc=Xg.bind(null,e.eventManager),e}function Jr(r){const e=Fn(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Vm.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=R_.bind(null,e),e}class Gr{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ce.Z)(function*(){t.serializer=up(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Ng(this.persistence,new Ag,e.initialUser,this.serializer)}createPersistence(e){return new Cg(op.zs,this.serializer)}createSharedClientState(e){return new Lg}terminate(){var e=this;return(0,Ce.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class ys extends Gr{constructor(e,t,s){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,s=this;return(0,Ce.Z)(function*(){yield t().call(s,e),yield s.Vc.initialize(s,e),yield Jr(s.Vc.syncEngine),yield Cf(s.Vc.remoteStore),yield s.persistence.Ii(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return Ng(this.persistence,new Ag,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new Dm(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const s=new nn(t,this.persistence);return new rt(e.asyncQueue,s)}createPersistence(e){const t=Ia(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?ru.withCacheSize(this.cacheSizeBytes):ru.DEFAULT;return new Sg(this.synchronizeTabs,t,e.clientId,s,e.asyncQueue,Am(),jp(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Lg}}class ul extends ys{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,s=this;return(0,Ce.Z)(function*(){yield t().call(s,e);const l=s.Vc.syncEngine;s.sharedClientState instanceof hh&&(s.sharedClientState.syncEngine={jr:g.bind(null,l),zr:fn.bind(null,l),Wr:Cn.bind(null,l),$i:vt.bind(null,l),Qr:am.bind(null,l)},yield s.sharedClientState.start()),yield s.persistence.Ii(function(){var p=(0,Ce.Z)(function*(b){yield function G(r,e){return ie.apply(this,arguments)}(s.Vc.syncEngine,b),s.gcScheduler&&(b&&!s.gcScheduler.started?s.gcScheduler.start():b||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(b&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():b||s.indexBackfillerScheduler.stop())});return function(b){return p.apply(this,arguments)}}())})()}createSharedClientState(e){const t=Am();if(!hh.D(t))throw new rn(Nt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=Ia(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new hh(t,e.asyncQueue,s,e.clientId,e.initialUser)}}class Po{initialize(e,t){var s=this;return(0,Ce.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(t),s.remoteStore=s.createRemoteStore(t),s.eventManager=s.createEventManager(t),s.syncEngine=s.createSyncEngine(t,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=l=>nm(s.syncEngine,l,1),s.remoteStore.remoteSyncer.handleCredentialChange=Um.bind(null,s.syncEngine),yield Yg(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new by}createDatastore(e){const t=up(e.databaseInfo.databaseId),s=new C_(e.databaseInfo);return new I_(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return t=this.localStore,s=this.datastore,l=e.asyncQueue,p=R=>nm(this.syncEngine,R,0),b=Sm.D()?new Sm:new E_,new Xl(t,s,l,p,b);var t,s,l,p,b}createSyncEngine(e,t){return function(s,l,p,b,R,W,Q){const de=new Rf(s,l,p,b,R,W);return Q&&(de.vc=!0),de}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Ce.Z)(function*(t){const s=Fn(t);gn("RemoteStore","RemoteStore shutting down."),s.vu.add(5),yield Df(s),s.Pu.shutdown(),s.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function ec(r,e=10240){let t=0;return{read:()=>(0,Ce.Z)(function*(){if(t<r.byteLength){const s={value:r.slice(t,t+e),done:!1};return t+=e,s}return{done:!0}})(),cancel:()=>(0,Ce.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class ca{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Js("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class gc{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new No,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(s=>{s&&s.Qu()?this.metadata.resolve(s.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(s?.Gu)}`))},s=>this.metadata.reject(s))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,Ce.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,Ce.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,Ce.Z)(function*(){const t=yield e.kc();if(null===t)return null;const s=e.xc.decode(t),l=Number(s);isNaN(l)&&e.Mc(`length string (${s}) is not valid number`);const p=yield e.$c(l);return new qh(JSON.parse(p),t.length+l)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,Ce.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),s})()}$c(e){var t=this;return(0,Ce.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const s=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),s})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,Ce.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const s=new Uint8Array(e.buffer.length+t.value.length);s.set(e.buffer),s.set(t.value,e.buffer.length),e.buffer=s}return t.done})()}}class Pl{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Ce.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new rn(Nt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(l=(0,Ce.Z)(function*(p,b){const R=Fn(p),W=ih(R.serializer)+"/documents",Q={documents:b.map(Qt=>Fd(R.serializer,Qt))},de=yield R.vo("BatchGetDocuments",W,Q,b.length),Pe=new Map;de.forEach(Qt=>{const Ln=function Mp(r,e){return"found"in e?function(t,s){cr(!!s.found);const l=dd(t,s.found.name),p=Va(s.found.updateTime),b=s.found.createTime?Va(s.found.createTime):nr.min(),R=new ms({mapValue:{fields:s.found.fields}});return zs.newFoundDocument(l,p,b,R)}(r,e):"missing"in e?function(t,s){cr(!!s.missing),cr(!!s.readTime);const l=dd(t,s.missing),p=Va(s.readTime);return zs.newNoDocument(l,p)}(r,e):tn()}(R.serializer,Qt);Pe.set(Ln.key.toString(),Ln)});const Mt=[];return b.forEach(Qt=>{const Ln=Pe.get(Qt.toString());cr(!!Ln),Mt.push(Ln)}),Mt}),function(p,b){return l.apply(this,arguments)})(t.datastore,e);var l;return s.forEach(l=>t.recordVersion(l)),s})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new cc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ce.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var s;e.mutations.forEach(s=>{t.delete(s.key.toString())}),t.forEach((s,l)=>{const p=mn.fromPath(l);e.mutations.push(new ld(p,e.precondition(p)))}),yield(s=(0,Ce.Z)(function*(l,p){const b=Fn(l),R=ih(b.serializer)+"/documents",W={writes:p.map(Q=>hd(b.serializer,Q))};yield b.Io("Commit",R,W)}),function(l,p){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw tn();t=nr.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!t.isEqual(s))throw new rn(Nt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(nr.min())?To.exists(!1):To.updateTime(t):To.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(nr.min()))throw new rn(Nt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return To.updateTime(t)}return To.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class ig{constructor(e,t,s,l,p){this.asyncQueue=e,this.datastore=t,this.options=s,this.updateFunction=l,this.deferred=p,this.Bc=s.maxAttempts,this.qo=new Bg(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,Ce.Z)(function*(){const t=new Pl(e.datastore),s=e.qc(t);s&&s.then(l=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(l)}).catch(p=>{e.Uc(p)}))}).catch(l=>{e.Uc(l)})}))}qc(e){try{const t=this.updateFunction(e);return!Jn(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!bt(t)}return!1}}class Av{constructor(e,t,s,l){var p=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=l,this.user=yo.UNAUTHENTICATED,this.clientId=Ho.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var b=(0,Ce.Z)(function*(R){gn("FirestoreClient","Received user=",R.uid),yield p.authCredentialListener(R),p.user=R});return function(R){return b.apply(this,arguments)}}()),this.appCheckCredentials.start(s,b=>(gn("FirestoreClient","Received new app check token=",b),this.appCheckCredentialListener(b,this.user)))}getConfiguration(){var e=this;return(0,Ce.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new rn(Nt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new No;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ce.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(s){const l=Af(s,"Failed to shutdown persistence");t.reject(l)}})),t.promise}}function sg(r,e){return wy.apply(this,arguments)}function wy(){return wy=(0,Ce.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress(),gn("FirestoreClient","Initializing OfflineComponentProvider");const t=yield r.getConfiguration();yield e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(function(){var l=(0,Ce.Z)(function*(p){s.isEqual(p)||(yield Im(e.localStore,p),s=p)});return function(p){return l.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}),wy.apply(this,arguments)}function Ey(r,e){return x_.apply(this,arguments)}function x_(){return x_=(0,Ce.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress();const t=yield Gm(r);gn("FirestoreClient","Initializing OnlineComponentProvider");const s=yield r.getConfiguration();yield e.initialize(t,s),r.setCredentialChangeListener(l=>km(e.remoteStore,l)),r.setAppCheckTokenChangeListener((l,p)=>km(e.remoteStore,p)),r._onlineComponents=e}),x_.apply(this,arguments)}function Dy(r){return"FirebaseError"===r.name?r.code===Nt.FAILED_PRECONDITION||r.code===Nt.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||22===r.code||20===r.code||11===r.code}function Gm(r){return k_.apply(this,arguments)}function k_(){return k_=(0,Ce.Z)(function*(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){gn("FirestoreClient","Using user provided OfflineComponentProvider");try{yield sg(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!Dy(t))throw t;Ao("Error using user provided cache. Falling back to memory cache: "+t),yield sg(r,new Gr)}}else gn("FirestoreClient","Using default OfflineComponentProvider"),yield sg(r,new Gr);return r._offlineComponents}),k_.apply(this,arguments)}function hu(r){return jm.apply(this,arguments)}function jm(){return jm=(0,Ce.Z)(function*(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(gn("FirestoreClient","Using user provided OnlineComponentProvider"),yield Ey(r,r._uninitializedComponentsProvider._online)):(gn("FirestoreClient","Using default OnlineComponentProvider"),yield Ey(r,new Po))),r._onlineComponents}),jm.apply(this,arguments)}function Ty(r){return Gm(r).then(e=>e.persistence)}function $m(r){return Gm(r).then(e=>e.localStore)}function F_(r){return hu(r).then(e=>e.remoteStore)}function L_(r){return hu(r).then(e=>e.syncEngine)}function yp(r){return Bf.apply(this,arguments)}function Bf(){return Bf=(0,Ce.Z)(function*(r){const e=yield hu(r),t=e.eventManager;return t.onListen=mh.bind(null,e.syncEngine),t.onUnlisten=Pf.bind(null,e.syncEngine),t}),Bf.apply(this,arguments)}function Iy(r,e,t={}){const s=new No;return r.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function(l,p,b,R,W){const Q=new ca({next:Pe=>{p.enqueueAndForget(()=>gh(l,de));const Mt=Pe.docs.has(b);!Mt&&Pe.fromCache?W.reject(new rn(Nt.UNAVAILABLE,"Failed to get document because the client is offline.")):Mt&&Pe.fromCache&&R&&"server"===R.source?W.reject(new rn(Nt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):W.resolve(Pe)},error:Pe=>W.reject(Pe)}),de=new Pc(sd(b.path),Q,{includeMetadataChanges:!0,Ku:!0});return Yp(l,de)}(yield yp(r),r.asyncQueue,e,t,s)})),s.promise}function Ov(r,e,t={}){const s=new No;return r.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function(l,p,b,R,W){const Q=new ca({next:Pe=>{p.enqueueAndForget(()=>gh(l,de)),Pe.fromCache&&"server"===R.source?W.reject(new rn(Nt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):W.resolve(Pe)},error:Pe=>W.reject(Pe)}),de=new Pc(b,Q,{includeMetadataChanges:!0,Ku:!0});return Yp(l,de)}(yield yp(r),r.asyncQueue,e,t,s)})),s.promise}function H_(r){const e={};return void 0!==r.timeoutSeconds&&(e.timeoutSeconds=r.timeoutSeconds),e}const jd=new Map;function qc(r,e,t){if(!t)throw new rn(Nt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function vd(r,e,t,s){if(!0===e&&!0===s)throw new rn(Nt.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function G_(r){if(!mn.isDocumentKey(r))throw new rn(Nt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function j_(r){if(mn.isDocumentKey(r))throw new rn(Nt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function zm(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const e=(t=r).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof r?"a function":tn()}function ks(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new rn(Nt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=zm(r);throw new rn(Nt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function Ay(r,e){if(e<=0)throw new rn(Nt.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}class Ny{constructor(e){var t,s;if(void 0===e.host){if(void 0!==e.ssl)throw new rn(Nt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new rn(Nt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}vd("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=H_(null!==(s=e.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(l){if(void 0!==l.timeoutSeconds){if(isNaN(l.timeoutSeconds))throw new rn(Nt.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new rn(Nt.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new rn(Nt.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vp{constructor(e,t,s,l){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ny({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new rn(Nt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new rn(Nt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ny(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new fl;switch(t.type){case"firstParty":return new Pa(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new rn(Nt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=jd.get(e);t&&(gn("ComponentProvider","Removing Datastore"),jd.delete(e),t.terminate())}(this),Promise.resolve()}}class Sa{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bh(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Sa(this.firestore,e,this._key)}}class Dl{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Dl(this.firestore,e,this._query)}}class bh extends Dl{constructor(e,t,s){super(e,t,sd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Sa(this.firestore,null,new mn(e))}withConverter(e){return new bh(this.firestore,e,this._path)}}function My(r,e,...t){if(r=(0,Je.m9)(r),qc("collection","path",e),r instanceof vp){const s=vi.fromString(e,...t);return j_(s),new bh(r,null,s)}{if(!(r instanceof Sa||r instanceof bh))throw new rn(Nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(vi.fromString(e,...t));return j_(s),new bh(r.firestore,null,s)}}function um(r,e,...t){if(r=(0,Je.m9)(r),1===arguments.length&&(e=Ho.A()),qc("doc","path",e),r instanceof vp){const s=vi.fromString(e,...t);return G_(s),new Sa(r,null,new mn(s))}{if(!(r instanceof Sa||r instanceof bh))throw new rn(Nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(vi.fromString(e,...t));return G_(s),new Sa(r.firestore,r instanceof bh?r.converter:null,new mn(s))}}function lm(r,e){return r=(0,Je.m9)(r),e=(0,Je.m9)(e),(r instanceof Sa||r instanceof bh)&&(e instanceof Sa||e instanceof bh)&&r.firestore===e.firestore&&r.path===e.path&&r.converter===e.converter}function $_(r,e){return r=(0,Je.m9)(r),e=(0,Je.m9)(e),r instanceof Dl&&e instanceof Dl&&r.firestore===e.firestore&&eu(r._query,e._query)&&r.converter===e.converter}class Ry{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Bg(this,"async_queue_retry"),this.Xc=()=>{const t=jp();t&&gn("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=jp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=jp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new No;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,Ce.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!E(t))throw t;gn("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(s=>{throw this.Wc=s,this.Hc=!1,Js("INTERNAL UNHANDLED ERROR: ",function(p){let b=p.message||"";return p.stack&&(b=p.stack.includes(p.message)?p.stack:p.message+"\n"+p.stack),b}(s)),s}).then(s=>(this.Hc=!1,s))));return this.Gc=t,t}enqueueAfterDelay(e,t,s){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const l=Jg.createAndSchedule(this,e,t,s,p=>this.na(p));return this.zc.push(l),l}Zc(){this.Wc&&tn()}verifyOperationInProgress(){}sa(){var e=this;return(0,Ce.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function Wm(r){return function(e,t){if("object"!=typeof e||null===e)return!1;const s=e;for(const l of["next","error","complete"])if(l in s&&"function"==typeof s[l])return!0;return!1}(r)}class z_{constructor(){this._progressObserver={},this._taskCompletionResolver=new No,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,s){this._progressObserver={next:e,error:t,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class da extends vp{constructor(e,t,s,l){super(e,t,s,l),this.type="firestore",this._queue=new Ry,this._persistenceKey=l?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||W_(this),this._firestoreClient.terminate()}}function fu(r){return r._firestoreClient||W_(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function W_(r){var e,t,s;const l=r._freezeSettings(),p=(R=(null===(e=r._app)||void 0===e?void 0:e.options.appId)||"",new Da(r._databaseId,R,r._persistenceKey,(Q=l).host,Q.ssl,Q.experimentalForceLongPolling,Q.experimentalAutoDetectLongPolling,H_(Q.experimentalLongPollingOptions),Q.useFetchStreams));var R,Q;r._firestoreClient=new Av(r._authCredentials,r._appCheckCredentials,r._queue,p),null!==(t=l.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(s=l.cache)&&void 0!==s&&s._onlineComponentProvider&&(r._firestoreClient._uninitializedComponentsProvider={_offlineKind:l.cache.kind,_offline:l.cache._offlineComponentProvider,_online:l.cache._onlineComponentProvider})}function K_(r,e,t){const s=new No;return r.asyncQueue.enqueue((0,Ce.Z)(function*(){try{yield sg(r,t),yield Ey(r,e),s.resolve()}catch(l){const p=l;if(!Dy(p))throw p;Ao("Error enabling indexeddb cache. Falling back to memory cache: "+p),s.reject(p)}})).then(()=>s.promise)}function Ly(r){if(r._initialized||r._terminated)throw new rn(Nt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class wh{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wh(ot.fromBase64String(e))}catch(t){throw new rn(Nt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new wh(ot.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Jh{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new rn(Nt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xs(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class bp{constructor(e){this._methodName=e}}class qm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new rn(Nt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new rn(Nt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Un(this._lat,e._lat)||Un(this._long,e._long)}}const Uv=/^__.*__$/;class Hv{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return null!==this.fieldMask?new nu(e,this.data,this.fieldMask,t,this.fieldTransforms):new lc(e,this.data,t,this.fieldTransforms)}}class By{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new nu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function q_(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw tn()}}class dm{constructor(e,t,s,l,p,b){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=l,void 0===p&&this.ua(),this.fieldTransforms=p||[],this.fieldMask=b||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new dm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),l=this.aa({path:s,la:!1});return l.fa(e),l}da(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),l=this.aa({path:s,la:!1});return l.ua(),l}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Qr(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(q_(this.ca)&&Uv.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Vy{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||up(e)}ya(e,t,s,l=!1){return new dm({ca:e,methodName:t,ga:s,path:Xs.emptyPath(),la:!1,ma:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Vf(r){const e=r._freezeSettings(),t=up(r._databaseId);return new Vy(r._databaseId,!!e.ignoreUndefinedProperties,t)}function hm(r,e,t,s,l,p={}){const b=r.ya(p.merge||p.mergeFields?2:0,e,t,l);jy("Data must be an object, but it was:",b,s);const R=Gy(s,b);let W,Q;if(p.merge)W=new te(b.fieldMask),Q=b.fieldTransforms;else if(p.mergeFields){const de=[];for(const Pe of p.mergeFields){const Mt=ug(e,Pe,t);if(!b.contains(Mt))throw new rn(Nt.INVALID_ARGUMENT,`Field '${Mt}' is specified in your field mask but missing from your input data.`);zy(de,Mt)||de.push(Mt)}W=new te(de),Q=b.fieldTransforms.filter(Pe=>W.covers(Pe.field))}else W=null,Q=b.fieldTransforms;return new Hv(new ms(R),W,Q)}class ag extends bp{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ag}}function Y_(r,e,t){return new dm({ca:3,ga:e.settings.ga,methodName:r._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Ym extends bp{_toFieldTransform(e){return new Cc(e.path,new bl)}isEqual(e){return e instanceof Ym}}class Uy extends bp{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=Y_(this,e,!0),s=this.pa.map(p=>bd(p,t)),l=new Kl(s);return new Cc(e.path,l)}isEqual(e){return this===e}}class Z_ extends bp{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=Y_(this,e,!0),s=this.pa.map(p=>bd(p,t)),l=new Tc(s);return new Cc(e.path,l)}isEqual(e){return this===e}}class J_ extends bp{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new Hc(e.serializer,uc(e.serializer,this.Ia));return new Cc(e.path,t)}isEqual(e){return this===e}}function Qh(r,e,t,s){const l=r.ya(1,e,t);jy("Data must be an object, but it was:",l,s);const p=[],b=ms.empty();Sl(s,(W,Q)=>{const de=X_(e,W,t);Q=(0,Je.m9)(Q);const Pe=l.da(de);if(Q instanceof ag)p.push(de);else{const Mt=bd(Q,Pe);null!=Mt&&(p.push(de),b.set(de,Mt))}});const R=new te(p);return new By(b,R,l.fieldTransforms)}function Q_(r,e,t,s,l,p){const b=r.ya(1,e,t),R=[ug(e,s,t)],W=[l];if(p.length%2!=0)throw new rn(Nt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Mt=0;Mt<p.length;Mt+=2)R.push(ug(e,p[Mt])),W.push(p[Mt+1]);const Q=[],de=ms.empty();for(let Mt=R.length-1;Mt>=0;--Mt)if(!zy(Q,R[Mt])){const Qt=R[Mt];let Ln=W[Mt];Ln=(0,Je.m9)(Ln);const ir=b.da(Qt);if(Ln instanceof ag)Q.push(Qt);else{const er=bd(Ln,ir);null!=er&&(Q.push(Qt),de.set(Qt,er))}}const Pe=new te(Q);return new By(de,Pe,b.fieldTransforms)}function Hy(r,e,t,s=!1){return bd(t,r.ya(s?4:3,e))}function bd(r,e){if(Zm(r=(0,Je.m9)(r)))return jy("Unsupported field value:",e,r),Gy(r,e);if(r instanceof bp)return function(t,s){if(!q_(s.ca))throw s._a(`${t._methodName}() can only be used with update() and set()`);if(!s.path)throw s._a(`${t._methodName}() is not currently supported inside arrays`);const l=t._toFieldTransform(s);l&&s.fieldTransforms.push(l)}(r,e),null;if(void 0===r&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,s){const l=[];let p=0;for(const b of t){let R=bd(b,s.wa(p));null==R&&(R={nullValue:"NULL_VALUE"}),l.push(R),p++}return{arrayValue:{values:l}}}(r,e)}return function(t,s){if(null===(t=(0,Je.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return uc(s.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const l=os.fromDate(t);return{timestampValue:kd(s.serializer,l)}}if(t instanceof os){const l=new os(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:kd(s.serializer,l)}}if(t instanceof qm)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof wh)return{bytesValue:Ap(s.serializer,t._byteString)};if(t instanceof Sa){const l=s.databaseId,p=t.firestore._databaseId;if(!p.isEqual(l))throw s._a(`Document reference is for database ${p.projectId}/${p.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Jf(t.firestore._databaseId||s.databaseId,t._key.path)}}throw s._a(`Unsupported field value: ${zm(t)}`)}(r,e)}function Gy(r,e){const t={};return Wd(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Sl(r,(s,l)=>{const p=bd(l,e.ha(s));null!=p&&(t[s]=p)}),{mapValue:{fields:t}}}function Zm(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof os||r instanceof qm||r instanceof wh||r instanceof Sa||r instanceof bp)}function jy(r,e,t){if(!Zm(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=zm(t);throw e._a("an object"===s?r+" a custom object":r+" "+s)}var s}function ug(r,e,t){if((e=(0,Je.m9)(e))instanceof Jh)return e._internalPath;if("string"==typeof e)return X_(r,e);throw Qr("Field path arguments must be of type string or ",r,!1,void 0,t)}const $y=new RegExp("[~\\*/\\[\\]]");function X_(r,e,t){if(e.search($y)>=0)throw Qr(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Jh(...e.split("."))._internalPath}catch{throw Qr(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Qr(r,e,t,s,l){const p=s&&!s.isEmpty(),b=void 0!==l;let R=`Function ${e}() called with invalid data`;t&&(R+=" (via `toFirestore()`)"),R+=". ";let W="";return(p||b)&&(W+=" (found",p&&(W+=` in field ${s}`),b&&(W+=` in document ${l}`),W+=")"),new rn(Nt.INVALID_ARGUMENT,R+r+W)}function zy(r,e){return r.some(t=>t.isEqual(e))}class fm{constructor(e,t,s,l,p){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=l,this._converter=p}get id(){return this._key.path.lastSegment()}get ref(){return new Sa(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Gv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Xh("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Gv extends fm{data(){return super.data()}}function Xh(r,e){return"string"==typeof e?X_(r,e):e instanceof Jh?e._internalPath:e._delegate._internalPath}function Wy(r){if("L"===r.limitType&&0===r.explicitOrderBy.length)throw new rn(Nt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class lg{}class Uf extends lg{}function xo(r,e,...t){let s=[];e instanceof lg&&s.push(e),s=s.concat(t),function(l){const p=l.filter(R=>R instanceof wp).length,b=l.filter(R=>R instanceof Jm).length;if(p>1||p>0&&b>0)throw new rn(Nt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const l of s)r=l._apply(r);return r}class Jm extends Uf{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Jm(e,t,s)}_apply(e){const t=this._parse(e);return Yy(e._query,t),new Dl(e.firestore,e.converter,Ad(e._query,t))}_parse(e){const t=Vf(e.firestore);return function(l,p,b,R,W,Q,de){let Pe;if(W.isKeyField()){if("array-contains"===Q||"array-contains-any"===Q)throw new rn(Nt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${Q}' queries on documentId().`);if("in"===Q||"not-in"===Q){ny(de,Q);const Mt=[];for(const Qt of de)Mt.push(ty(R,l,Qt));Pe={arrayValue:{values:Mt}}}else Pe=ty(R,l,de)}else"in"!==Q&&"not-in"!==Q&&"array-contains-any"!==Q||ny(de,Q),Pe=Hy(b,"where",de,"in"===Q||"not-in"===Q);return Qi.create(W,Q,Pe)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class wp extends lg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new wp(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===t.length?t[0]:Wi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(s,l){let p=s;const b=l.getFlattenedFilters();for(const R of b)Yy(p,R),p=Ad(p,R)}(e._query,t),new Dl(e.firestore,e.converter,Ad(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Qm extends Uf{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Qm(e,t)}_apply(e){const t=function(s,l,p){if(null!==s.startAt)throw new rn(Nt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new rn(Nt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const b=new Qu(l,p);return function(R,W){if(null===Bc(R)){const Q=wc(R);null!==Q&&cg(0,Q,W.field)}}(s,b),b}(e._query,this._field,this._direction);return new Dl(e.firestore,e.converter,function(s,l){const p=s.explicitOrderBy.concat([l]);return new el(s.path,s.collectionGroup,p,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}class pm extends Uf{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new pm(e,t,s)}_apply(e){return new Dl(e.firestore,e.converter,Ol(e._query,this._limit,this._limitType))}}class Xm extends Uf{constructor(e,t,s){super(),this.type=e,this._docOrFields=t,this._inclusive=s}static _create(e,t,s){return new Xm(e,t,s)}_apply(e){const t=ey(e,this.type,this._docOrFields,this._inclusive);return new Dl(e.firestore,e.converter,(l=t,new el((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,l,s.endAt)));var s,l}}class e_ extends Uf{constructor(e,t,s){super(),this.type=e,this._docOrFields=t,this._inclusive=s}static _create(e,t,s){return new e_(e,t,s)}_apply(e){const t=ey(e,this.type,this._docOrFields,this._inclusive);return new Dl(e.firestore,e.converter,(l=t,new el((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,l)));var s,l}}function ey(r,e,t,s){if(t[0]=(0,Je.m9)(t[0]),t[0]instanceof fm)return function(l,p,b,R,W){if(!R)throw new rn(Nt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${b}().`);const Q=[];for(const de of jl(l))if(de.field.isKeyField())Q.push(yc(p,R.key));else{const Pe=R.data.field(de.field);if(Kr(Pe))throw new rn(Nt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+de.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Pe){const Mt=de.field.canonicalString();throw new rn(Nt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Mt}' (used as the orderBy) does not exist.`)}Q.push(Pe)}return new Ju(Q,W)}(r._query,r.firestore._databaseId,e,t[0]._document,s);{const l=Vf(r.firestore);return function(p,b,R,W,Q,de){const Pe=p.explicitOrderBy;if(Q.length>Pe.length)throw new rn(Nt.INVALID_ARGUMENT,`Too many arguments provided to ${W}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Mt=[];for(let Qt=0;Qt<Q.length;Qt++){const Ln=Q[Qt];if(Pe[Qt].field.isKeyField()){if("string"!=typeof Ln)throw new rn(Nt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${W}(), but got a ${typeof Ln}`);if(!yl(p)&&-1!==Ln.indexOf("/"))throw new rn(Nt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${W}() must be a plain document ID, but '${Ln}' contains a slash.`);const ir=p.path.child(vi.fromString(Ln));if(!mn.isDocumentKey(ir))throw new rn(Nt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${W}() must result in a valid document path, but '${ir}' is not because it contains an odd number of segments.`);const er=new mn(ir);Mt.push(yc(b,er))}else{const ir=Hy(R,W,Ln);Mt.push(ir)}}return new Ju(Mt,de)}(r._query,r.firestore._databaseId,l,e,t,s)}}function ty(r,e,t){if("string"==typeof(t=(0,Je.m9)(t))){if(""===t)throw new rn(Nt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!yl(e)&&-1!==t.indexOf("/"))throw new rn(Nt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(vi.fromString(t));if(!mn.isDocumentKey(s))throw new rn(Nt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return yc(r,new mn(s))}if(t instanceof Sa)return yc(r,t._key);throw new rn(Nt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${zm(t)}.`)}function ny(r,e){if(!Array.isArray(r)||0===r.length)throw new rn(Nt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Yy(r,e){if(e.isInequality()){const s=wc(r),l=e.field;if(null!==s&&!s.isEqual(l))throw new rn(Nt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${s.toString()}' and '${l.toString()}'`);const p=Bc(r);null!==p&&cg(0,l,p)}const t=function(s,l){for(const p of s)for(const b of p.getFlattenedFilters())if(l.indexOf(b.op)>=0)return b.op;return null}(r.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new rn(Nt.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function cg(r,e,t){if(!t.isEqual(e))throw new rn(Nt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class ry{convertValue(e,t="none"){switch(aa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Sn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ar(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw tn()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Sl(e,(l,p)=>{s[l]=this.convertValue(p,t)}),s}convertGeoPoint(e){return new qm(Sn(e.latitude),Sn(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Lr(e);return null==s?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(ea(e));default:return null}}convertTimestamp(e){const t=Yn(e);return new os(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=vi.fromString(e);cr(Xi(s));const l=new Mo(s.get(1),s.get(3)),p=new mn(s.popFirst(5));return l.isEqual(t)||Js(`Document ${p} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),p}}function n_(r,e,t){let s;return s=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,s}class qv extends ry{constructor(e){super(),this.firestore=e}convertBytes(e){return new wh(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Sa(this.firestore,null,t)}}class Ep{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ef extends fm{constructor(e,t,s,l,p,b){super(e,t,s,l,b),this._firestore=e,this._firestoreImpl=e,this.metadata=p}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new r_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Xh("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class r_ extends ef{data(e={}){return super.data(e)}}class Dp{constructor(e,t,s,l){this._firestore=e,this._userDataWriter=t,this._snapshot=l,this.metadata=new Ep(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new r_(this._firestore,this._userDataWriter,s.key,s,new Ep(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new rn(Nt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,l){if(s._snapshot.oldDocs.isEmpty()){let p=0;return s._snapshot.docChanges.map(b=>({type:"added",doc:new r_(s._firestore,s._userDataWriter,b.doc.key,b.doc,new Ep(s._snapshot.mutatedKeys.has(b.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:p++}))}{let p=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(b=>l||3!==b.type).map(b=>{const R=new r_(s._firestore,s._userDataWriter,b.doc.key,b.doc,new Ep(s._snapshot.mutatedKeys.has(b.doc.key),s._snapshot.fromCache),s.query.converter);let W=-1,Q=-1;return 0!==b.type&&(W=p.indexOf(b.doc.key),p=p.delete(b.doc.key)),1!==b.type&&(p=p.add(b.doc),Q=p.indexOf(b.doc.key)),{type:eb(b.type),doc:R,oldIndex:W,newIndex:Q}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function eb(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return tn()}}function Qv(r,e){return r instanceof ef&&e instanceof ef?r._firestore===e._firestore&&r._key.isEqual(e._key)&&(null===r._document?null===e._document:r._document.isEqual(e._document))&&r._converter===e._converter:r instanceof Dp&&e instanceof Dp&&r._firestore===e._firestore&&$_(r.query,e.query)&&r.metadata.isEqual(e.metadata)&&r._snapshot.isEqual(e._snapshot)}class $d extends ry{constructor(e){super(),this.firestore=e}convertBytes(e){return new wh(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Sa(this.firestore,null,t)}}function Xy(r,e,t){r=ks(r,Sa);const s=ks(r.firestore,da),l=n_(r.converter,e,t);return hg(s,[hm(Vf(s),"setDoc",r._key,l,null!==r.converter,t).toMutation(r._key,To.none())])}function ev(r,e,t,...s){r=ks(r,Sa);const l=ks(r.firestore,da),p=Vf(l);let b;return b="string"==typeof(e=(0,Je.m9)(e))||e instanceof Jh?Q_(p,"updateDoc",r._key,e,t,s):Qh(p,"updateDoc",r._key,e),hg(l,[b.toMutation(r._key,To.exists(!0))])}function tv(r,...e){var t,s,l;r=(0,Je.m9)(r);let p={includeMetadataChanges:!1},b=0;"object"!=typeof e[b]||Wm(e[b])||(p=e[b],b++);const R={includeMetadataChanges:p.includeMetadataChanges};if(Wm(e[b])){const Pe=e[b];e[b]=null===(t=Pe.next)||void 0===t?void 0:t.bind(Pe),e[b+1]=null===(s=Pe.error)||void 0===s?void 0:s.bind(Pe),e[b+2]=null===(l=Pe.complete)||void 0===l?void 0:l.bind(Pe)}let W,Q,de;if(r instanceof Sa)Q=ks(r.firestore,da),de=sd(r._key.path),W={next:Pe=>{e[b]&&e[b](iy(Q,r,Pe))},error:e[b+1],complete:e[b+2]};else{const Pe=ks(r,Dl);Q=ks(Pe.firestore,da),de=Pe._query;const Mt=new $d(Q);W={next:Qt=>{e[b]&&e[b](new Dp(Q,Mt,Pe,Qt))},error:e[b+1],complete:e[b+2]},Wy(r._query)}return function(Pe,Mt,Qt,Ln){const ir=new ca(Ln),er=new Pc(Mt,ir,Qt);return Pe.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return Yp(yield yp(Pe),er)})),()=>{ir.Dc(),Pe.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return gh(yield yp(Pe),er)}))}}(fu(Q),de,R,W)}function hg(r,e){return function(t,s){const l=new No;return t.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function Bm(r,e,t){return pp.apply(this,arguments)}(yield L_(t),s,l)})),l.promise}(fu(r),e)}function iy(r,e,t){const s=t.docs.get(e._key),l=new $d(r);return new ef(r,l,e._key,s,new Ep(t.hasPendingWrites,t.fromCache),e.converter)}const l0={maxAttempts:5};class s_{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Vf(e)}set(e,t,s){this._verifyNotCommitted();const l=Hf(e,this._firestore),p=n_(l.converter,t,s),b=hm(this._dataReader,"WriteBatch.set",l._key,p,null!==l.converter,s);return this._mutations.push(b.toMutation(l._key,To.none())),this}update(e,t,s,...l){this._verifyNotCommitted();const p=Hf(e,this._firestore);let b;return b="string"==typeof(t=(0,Je.m9)(t))||t instanceof Jh?Q_(this._dataReader,"WriteBatch.update",p._key,t,s,l):Qh(this._dataReader,"WriteBatch.update",p._key,t),this._mutations.push(b.toMutation(p._key,To.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Hf(e,this._firestore);return this._mutations=this._mutations.concat(new cc(t._key,To.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new rn(Nt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Hf(r,e){if((r=(0,Je.m9)(r)).firestore!==e)throw new rn(Nt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class uv extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Vf(e)}get(e){const t=Hf(e,this._firestore),s=new qv(this._firestore);return this._transaction.lookup([t._key]).then(l=>{if(!l||1!==l.length)return tn();const p=l[0];if(p.isFoundDocument())return new fm(this._firestore,s,p.key,p,t.converter);if(p.isNoDocument())return new fm(this._firestore,s,t._key,null,t.converter);throw tn()})}set(e,t,s){const l=Hf(e,this._firestore),p=n_(l.converter,t,s),b=hm(this._dataReader,"Transaction.set",l._key,p,null!==l.converter,s);return this._transaction.set(l._key,b),this}update(e,t,s,...l){const p=Hf(e,this._firestore);let b;return b="string"==typeof(t=(0,Je.m9)(t))||t instanceof Jh?Q_(this._dataReader,"Transaction.update",p._key,t,s,l):Qh(this._dataReader,"Transaction.update",p._key,t),this._transaction.update(p._key,b),this}delete(e){const t=Hf(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Hf(e,this._firestore),s=new $d(this._firestore);return super.get(e).then(l=>new ef(this._firestore,s,t._key,l._document,new Ep(!1,!1),t.converter))}}!function(r,e=!0){ss=Kt.SDK_VERSION,(0,Kt._registerComponent)(new ct.wA("firestore",(t,{instanceIdentifier:s,options:l})=>{const p=t.getProvider("app").getImmediate(),b=new da(new kl(t.getProvider("auth-internal")),new he(t.getProvider("app-check-internal")),function(R,W){if(!Object.prototype.hasOwnProperty.apply(R.options,["projectId"]))throw new rn(Nt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mo(R.options.projectId,W)}(p,s),p);return l=Object.assign({useFetchStreams:e},l),b._setSettings(l),b},"PUBLIC").setMultipleInstances(!0)),(0,Kt.registerVersion)(Jc,"3.12.2",r),(0,Kt.registerVersion)(Jc,"3.12.2","esm2017")}();function oy(r,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new rn("invalid-argument",`Invalid options passed to function ${r}(): You cannot specify both "merge" and "mergeFields".`);return e}function o_(){if(typeof Uint8Array>"u")throw new rn("unimplemented","Uint8Arrays are not available in this environment.")}function ay(){if(!function tt(){return typeof atob<"u"}())throw new rn("unimplemented","Blobs are unavailable in Firestore in this environment.")}class _m{constructor(e){this._delegate=e}static fromBase64String(e){return ay(),new _m(wh.fromBase64String(e))}static fromUint8Array(e){return o_(),new _m(wh.fromUint8Array(e))}toBase64(){return ay(),this._delegate.toBase64()}toUint8Array(){return o_(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function uy(r){return function ly(r,e){if("object"!=typeof r||null===r)return!1;const t=r;for(const s of e)if(s in t&&"function"==typeof t[s])return!0;return!1}(r,["next","error","complete"])}class cy{enableIndexedDbPersistence(e,t){return function Py(r,e){Ly(r=ks(r,da));const t=fu(r);if(t._uninitializedComponentsProvider)throw new rn(Nt.FAILED_PRECONDITION,"SDK cache is already specified.");Ao("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const s=r._freezeSettings(),l=new Po;return K_(t,l,new ys(l,s.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function xy(r){Ly(r=ks(r,da));const e=fu(r);if(e._uninitializedComponentsProvider)throw new rn(Nt.FAILED_PRECONDITION,"SDK cache is already specified.");Ao("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=r._freezeSettings(),s=new Po;return K_(e,s,new ul(s,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function ky(r){if(r._initialized&&!r._terminated)throw new rn(Nt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new No;return r._queue.enqueueAndForgetEvenWhileRestricted((0,Ce.Z)(function*(){try{yield(t=(0,Ce.Z)(function*(s){if(!ia.D())return Promise.resolve();const l=s+"main";yield ia.delete(l)}),function(s){return t.apply(this,arguments)})(Ia(r._databaseId,r._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class dy{constructor(e,t,s){this._delegate=t,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},e instanceof Mo||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Ao("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,s={}){!function og(r,e,t,s={}){var l;const p=(r=ks(r,vp))._getSettings(),b=`${e}:${t}`;if("firestore.googleapis.com"!==p.host&&p.host!==b&&Ao("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},p),{host:b,ssl:!1})),s.mockUserToken){let R,W;if("string"==typeof s.mockUserToken)R=s.mockUserToken,W=yo.MOCK_USER;else{R=(0,Je.Sg)(s.mockUserToken,null===(l=r._app)||void 0===l?void 0:l.options.projectId);const Q=s.mockUserToken.sub||s.mockUserToken.user_id;if(!Q)throw new rn(Nt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");W=new yo(Q)}r._authCredentials=new Tl(new $u(R,W))}}(this._delegate,e,t,s)}enableNetwork(){return function kv(r){return function Nv(r){return r.asyncQueue.enqueue((0,Ce.Z)(function*(){const e=yield Ty(r),t=yield F_(r);return e.setNetworkEnabled(!0),function(s){const l=Fn(s);return l.vu.delete(0),jh(l)}(t)}))}(fu(r=ks(r,da)))}(this._delegate)}disableNetwork(){return function Fv(r){return function Mv(r){return r.asyncQueue.enqueue((0,Ce.Z)(function*(){const e=yield Ty(r),t=yield F_(r);return e.setNetworkEnabled(!1),(s=(0,Ce.Z)(function*(l){const p=Fn(l);p.vu.add(0),yield Df(p),p.bu.set("Offline")}),function(l){return s.apply(this,arguments)})(t);var s}))}(fu(r=ks(r,da)))}(this._delegate)}enablePersistence(e){let t=!1,s=!1;return e&&(t=!!e.synchronizeTabs,s=!!e.experimentalForceOwningTab,vd("synchronizeTabs",t,"experimentalForceOwningTab",s)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Fy(r){return function(e){const t=new No;return e.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function P_(r,e){return tg.apply(this,arguments)}(yield L_(e),t)})),t.promise}(fu(r=ks(r,da)))}(this._delegate)}onSnapshotsInSync(e){return function nv(r,e){return function V_(r,e){const t=new ca(e);return r.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return s=yield yp(r),l=t,Fn(s).ku.add(l),void l.next();var s,l})),()=>{t.Dc(),r.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return s=yield yp(r),l=t,void Fn(s).ku.delete(l);var s,l}))}}(fu(r=ks(r,da)),Wm(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new rn("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new gg(this,My(this._delegate,e))}catch(t){throw Bu(t,"collection()","Firestore.collection()")}}doc(e){try{return new Yc(this,um(this._delegate,e))}catch(t){throw Bu(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new xl(this,function Oy(r,e){if(r=ks(r,vp),qc("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new rn(Nt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Dl(r,null,(t=e,new el(vi.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Bu(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function c0(r,e,t){r=ks(r,da);const s=Object.assign(Object.assign({},l0),t);return function(l){if(l.maxAttempts<1)throw new rn(Nt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(l,p,b){const R=new No;return l.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){const W=yield function B_(r){return hu(r).then(e=>e.datastore)}(l);new ig(l.asyncQueue,W,b,p,R).run()})),R.promise}(fu(r),l=>e(new uv(r,l)),s)}(this._delegate,t=>e(new dv(this,t)))}batch(){return fu(this._delegate),new a_(new s_(this._delegate,e=>hg(this._delegate,e)))}loadBundle(e){return function Lv(r,e){const t=fu(r=ks(r,da)),s=new z_;return function U_(r,e,t,s){const l=function(p,b){let R;return R="string"==typeof p?ur().encode(p):p,W=function(W,Q){if(W instanceof Uint8Array)return ec(W,Q);if(W instanceof ArrayBuffer)return ec(new Uint8Array(W),Q);if(W instanceof ReadableStream)return W.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(R),new gc(W,b);var W}(t,up(e));r.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){!function ts(r,e,t){const s=Fn(r);var l;(l=(0,Ce.Z)(function*(p,b,R){try{const W=yield b.getMetadata();if(yield function(Mt,Qt){const Ln=Fn(Mt),ir=Va(Qt.createTime);return Ln.persistence.runTransaction("hasNewerBundle","readonly",er=>Ln.qs.getBundleMetadata(er,Qt.id)).then(er=>!!er&&er.createTime.compareTo(ir)>=0)}(p.localStore,W))return yield b.close(),R._completeWith({taskState:"Success",documentsLoaded:(Mt=W).totalDocuments,bytesLoaded:Mt.totalBytes,totalDocuments:Mt.totalDocuments,totalBytes:Mt.totalBytes}),Promise.resolve(new Set);R._updateProgress(fp(W));const Q=new Yh(W,p.localStore,b.serializer);let de=yield b.bc();for(;de;){const Mt=yield Q.zu(de);Mt&&R._updateProgress(Mt),de=yield b.bc()}const Pe=yield Q.complete();return yield xc(p,Pe.Ju,void 0),yield function(Mt,Qt){const Ln=Fn(Mt);return Ln.persistence.runTransaction("Save bundle","readwrite",ir=>Ln.qs.saveBundleMetadata(ir,Qt))}(p.localStore,W),R._completeWith(Pe.progress),Promise.resolve(Pe.Hu)}catch(W){return Ao("SyncEngine",`Loading bundle failed with ${W}`),R._failWith(W),Promise.resolve(new Set)}var Mt}),function(p,b,R){return l.apply(this,arguments)})(s,e,t).then(l=>{s.sharedClientState.notifyBundleLoaded(l)})}(yield L_(r),l,s)}))}(t,r._databaseId,e,s),s}(this._delegate,e)}namedQuery(e){return function Bv(r,e){return function vh(r,e){return r.asyncQueue.enqueue((0,Ce.Z)(function*(){return function(t,s){const l=Fn(t);return l.persistence.runTransaction("Get named query","readonly",p=>l.qs.getNamedQuery(p,s))}(yield $m(r),e)}))}(fu(r=ks(r,da)),e).then(t=>t?new Dl(r,null,t.query):null)}(this._delegate,e).then(t=>t?new xl(this,t):null)}}class fg extends ry{constructor(e){super(),this.firestore=e}convertBytes(e){return new _m(new wh(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Yc.forKey(t,this.firestore,null)}}class dv{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new fg(e)}get(e){const t=Gf(e);return this._delegate.get(t).then(s=>new u_(this._firestore,new ef(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,t.converter)))}set(e,t,s){const l=Gf(e);return s?(oy("Transaction.set",s),this._delegate.set(l,t,s)):this._delegate.set(l,t),this}update(e,t,s,...l){const p=Gf(e);return 2===arguments.length?this._delegate.update(p,t):this._delegate.update(p,t,s,...l),this}delete(e){const t=Gf(e);return this._delegate.delete(t),this}}class a_{constructor(e){this._delegate=e}set(e,t,s){const l=Gf(e);return s?(oy("WriteBatch.set",s),this._delegate.set(l,t,s)):this._delegate.set(l,t),this}update(e,t,s,...l){const p=Gf(e);return 2===arguments.length?this._delegate.update(p,t):this._delegate.update(p,t,s,...l),this}delete(e){const t=Gf(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Tp{constructor(e,t,s){this._firestore=e,this._userDataWriter=t,this._delegate=s}fromFirestore(e,t){const s=new r_(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new pg(this._firestore,s),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const s=Tp.INSTANCES;let l=s.get(e);l||(l=new WeakMap,s.set(e,l));let p=l.get(t);return p||(p=new Tp(e,new fg(e),t),l.set(t,p)),p}}Tp.INSTANCES=new WeakMap;class Yc{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new fg(e)}static forPath(e,t,s){if(e.length%2!=0)throw new rn("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Yc(t,new Sa(t._delegate,s,new mn(e)))}static forKey(e,t,s){return new Yc(t,new Sa(t._delegate,s,e))}get id(){return this._delegate.id}get parent(){return new gg(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new gg(this.firestore,My(this._delegate,e))}catch(t){throw Bu(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Je.m9)(e))instanceof Sa&&lm(this._delegate,e)}set(e,t){t=oy("DocumentReference.set",t);try{return t?Xy(this._delegate,e,t):Xy(this._delegate,e)}catch(s){throw Bu(s,"setDoc()","DocumentReference.set()")}}update(e,t,...s){try{return 1===arguments.length?ev(this._delegate,e):ev(this._delegate,e,t,...s)}catch(l){throw Bu(l,"updateDoc()","DocumentReference.update()")}}delete(){return function n0(r){return hg(ks(r.firestore,da),[new cc(r._key,To.none())])}(this._delegate)}onSnapshot(...e){const t=hy(e),s=hv(e,l=>new u_(this.firestore,new ef(this.firestore._delegate,this._userDataWriter,l._key,l._document,l.metadata,this._delegate.converter)));return tv(this._delegate,t,s)}get(e){let t;return t="cache"===e?.source?function Xv(r){r=ks(r,Sa);const e=ks(r.firestore,da),t=fu(e),s=new $d(e);return function Cy(r,e){const t=new No;return r.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return(s=(0,Ce.Z)(function*(l,p,b){try{const R=yield function(W,Q){const de=Fn(W);return de.persistence.runTransaction("read document","readonly",Pe=>de.localDocuments.getDocument(Pe,Q))}(l,p);R.isFoundDocument()?b.resolve(R):R.isNoDocument()?b.resolve(null):b.reject(new rn(Nt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(R){const W=Af(R,`Failed to get document '${p} from cache`);b.reject(W)}}),function(l,p,b){return s.apply(this,arguments)})(yield $m(r),e,t);var s})),t.promise}(t,r._key).then(l=>new ef(e,s,r._key,l,new Ep(null!==l&&l.hasLocalMutations,!0),r.converter))}(this._delegate):"server"===e?.source?function e0(r){r=ks(r,Sa);const e=ks(r.firestore,da);return Iy(fu(e),r._key,{source:"server"}).then(t=>iy(e,r,t))}(this._delegate):function Jy(r){r=ks(r,Sa);const e=ks(r.firestore,da);return Iy(fu(e),r._key).then(t=>iy(e,r,t))}(this._delegate),t.then(s=>new u_(this.firestore,new ef(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(e){return new Yc(this.firestore,this._delegate.withConverter(e?Tp.getInstance(this.firestore,e):null))}}function Bu(r,e,t){return r.message=r.message.replace(e,t),r}function hy(r){for(const e of r)if("object"==typeof e&&!uy(e))return e;return{}}function hv(r,e){var t,s;let l;return l=uy(r[0])?r[0]:uy(r[1])?r[1]:"function"==typeof r[0]?{next:r[0],error:r[1],complete:r[2]}:{next:r[1],error:r[2],complete:r[3]},{next:p=>{l.next&&l.next(e(p))},error:null===(t=l.error)||void 0===t?void 0:t.bind(l),complete:null===(s=l.complete)||void 0===s?void 0:s.bind(l)}}class u_{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Yc(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Qv(this._delegate,e._delegate)}}class pg extends u_{data(e){const t=this._delegate.data(e);return function yu(r,e){r||tn()}(void 0!==t),t}}class xl{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new fg(e)}where(e,t,s){try{return new xl(this.firestore,xo(this._delegate,function Ky(r,e,t){const s=e,l=Xh("where",r);return Jm._create(l,s,t)}(e,t,s)))}catch(l){throw Bu(l,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new xl(this.firestore,xo(this._delegate,function qy(r,e="asc"){const t=e,s=Xh("orderBy",r);return Qm._create(s,t)}(e,t)))}catch(s){throw Bu(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new xl(this.firestore,xo(this._delegate,function $v(r){return Ay("limit",r),pm._create("limit",r,"F")}(e)))}catch(t){throw Bu(t,"limit()","Query.limit()")}}limitToLast(e){try{return new xl(this.firestore,xo(this._delegate,function zv(r){return Ay("limitToLast",r),pm._create("limitToLast",r,"L")}(e)))}catch(t){throw Bu(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new xl(this.firestore,xo(this._delegate,function gm(...r){return Xm._create("startAt",r,!0)}(...e)))}catch(t){throw Bu(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new xl(this.firestore,xo(this._delegate,function Wv(...r){return Xm._create("startAfter",r,!1)}(...e)))}catch(t){throw Bu(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new xl(this.firestore,xo(this._delegate,function Kv(...r){return e_._create("endBefore",r,!1)}(...e)))}catch(t){throw Bu(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new xl(this.firestore,xo(this._delegate,function t_(...r){return e_._create("endAt",r,!0)}(...e)))}catch(t){throw Bu(t,"endAt()","Query.endAt()")}}isEqual(e){return $_(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function mm(r){r=ks(r,Dl);const e=ks(r.firestore,da),t=fu(e),s=new $d(e);return function Sy(r,e){const t=new No;return r.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return(s=(0,Ce.Z)(function*(l,p,b){try{const R=yield Wc(l,p,!0),W=new Zh(p,R.ir),Q=W.sc(R.documents),de=W.applyChanges(Q,!1);b.resolve(de.snapshot)}catch(R){const W=Af(R,`Failed to execute query '${p} against cache`);b.reject(W)}}),function(l,p,b){return s.apply(this,arguments)})(yield $m(r),e,t);var s})),t.promise}(t,r._query).then(l=>new Dp(e,s,r,l))}(this._delegate):"server"===e?.source?function t0(r){r=ks(r,Dl);const e=ks(r.firestore,da),t=fu(e),s=new $d(e);return Ov(t,r._query,{source:"server"}).then(l=>new Dp(e,s,r,l))}(this._delegate):function Qy(r){r=ks(r,Dl);const e=ks(r.firestore,da),t=fu(e),s=new $d(e);return Wy(r._query),Ov(t,r._query).then(l=>new Dp(e,s,r,l))}(this._delegate),t.then(s=>new ym(this.firestore,new Dp(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...e){const t=hy(e),s=hv(e,l=>new ym(this.firestore,new Dp(this.firestore._delegate,this._userDataWriter,this._delegate,l._snapshot)));return tv(this._delegate,t,s)}withConverter(e){return new xl(this.firestore,this._delegate.withConverter(e?Tp.getInstance(this.firestore,e):null))}}class _0{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new pg(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class ym{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new xl(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new pg(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new _0(this._firestore,t))}forEach(e,t){this._delegate.forEach(s=>{e.call(t,new pg(this._firestore,s))})}isEqual(e){return Qv(this._delegate,e._delegate)}}class gg extends xl{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Yc(this.firestore,e):null}doc(e){try{return new Yc(this.firestore,void 0===e?um(this._delegate):um(this._delegate,e))}catch(t){throw Bu(t,"doc()","CollectionReference.doc()")}}add(e){return function tb(r,e){const t=ks(r.firestore,da),s=um(r),l=n_(r.converter,e);return hg(t,[hm(Vf(r.firestore),"addDoc",s._key,l,null!==r.converter,{}).toMutation(s._key,To.exists(!1))]).then(()=>s)}(this._delegate,e).then(t=>new Yc(this.firestore,t))}isEqual(e){return lm(this._delegate,e._delegate)}withConverter(e){return new gg(this.firestore,this._delegate.withConverter(e?Tp.getInstance(this.firestore,e):null))}}function Gf(r){return ks(r,Sa)}class vm{constructor(...e){this._delegate=new Jh(...e)}static documentId(){return new vm(Xs.keyField().canonicalString())}isEqual(e){return(e=(0,Je.m9)(e))instanceof Jh&&this._delegate._internalPath.isEqual(e._internalPath)}}class jf{constructor(e){this._delegate=e}static serverTimestamp(){const e=function h0(){return new Ym("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new jf(e)}static delete(){const e=function d0(){return new ag("deleteField")}();return e._methodName="FieldValue.delete",new jf(e)}static arrayUnion(...e){const t=function f0(...r){return new Uy("arrayUnion",r)}(...e);return t._methodName="FieldValue.arrayUnion",new jf(t)}static arrayRemove(...e){const t=function p0(...r){return new Z_("arrayRemove",r)}(...e);return t._methodName="FieldValue.arrayRemove",new jf(t)}static increment(e){const t=function g0(r){return new J_("increment",r)}(e);return t._methodName="FieldValue.increment",new jf(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const fv={Firestore:dy,GeoPoint:qm,Timestamp:os,Blob:_m,Transaction:dv,WriteBatch:a_,DocumentReference:Yc,DocumentSnapshot:u_,Query:xl,QueryDocumentSnapshot:pg,QuerySnapshot:ym,CollectionReference:gg,FieldPath:vm,FieldValue:jf,setLogLevel:function m0(r){!function Iu(r){Cs.setLogLevel(r)}(r)},CACHE_SIZE_UNLIMITED:-1};!function gv(r){(function pv(r,e){r.INTERNAL.registerComponent(new ct.wA("firestore-compat",t=>{const s=t.getProvider("app-compat").getImmediate(),l=t.getProvider("firestore").getImmediate();return e(s,l)},"PUBLIC").setServiceProps(Object.assign({},fv)))})(r,(e,t)=>new dy(e,t,new cy)),r.registerVersion("@firebase/firestore-compat","0.3.11")}(ht.Z);var $f=Y(4869),y0=Y(7293);function fy(r,e){return function v0(r,e=V.z){return new ee.y(t=>{let s;return null!=e?e.schedule(()=>{s=r.onSnapshot({includeMetadataChanges:!0},t)}):s=r.onSnapshot({includeMetadataChanges:!0},t),()=>{s?.()}})}(r,e)}function l_(r,e){return fy(r,e).pipe((0,be.U)(t=>({payload:t,type:"query"})))}function c_(r,e){return l_(r,e).pipe((0,je.O)(void 0),De(),(0,be.U)(([t,s])=>{const l=s.payload.docChanges(),p=l.map(b=>({type:b.type,payload:b}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(s.payload.metadata)&&s.payload.docs.forEach((b,R)=>{const W=l.find(de=>de.doc.ref.isEqual(b.ref)),Q=t?.payload.docs.find(de=>de.ref.isEqual(b.ref));W&&JSON.stringify(W.doc.metadata)===JSON.stringify(b.metadata)||!W&&Q&&JSON.stringify(Q.metadata)===JSON.stringify(b.metadata)||p.push({type:"modified",payload:{oldIndex:R,newIndex:R,type:"modified",doc:b}})}),p}))}function mv(r,e,t){return c_(r,t).pipe((0,xe.R)((s,l)=>function lb(r,e,t){return e.forEach(s=>{t.indexOf(s.type)>-1&&(r=function b0(r,e){switch(e.type){case"added":if(!r[e.newIndex]||!r[e.newIndex].doc.ref.isEqual(e.doc.ref))return py(r,e.newIndex,0,e);break;case"modified":if(null==r[e.oldIndex]||r[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=r.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return py(r,e.newIndex,1,e)}break;case"removed":if(r[e.oldIndex]&&r[e.oldIndex].doc.ref.isEqual(e.doc.ref))return py(r,e.oldIndex,1)}return r}(r,s))}),r}(s,l.map(p=>p.payload),e),[]),(0,Vt.x)(),(0,be.U)(s=>s.map(l=>({type:l.type,payload:l}))))}function py(r,e,t,...s){const l=r.slice();return l.splice(e,t,...s),l}function gy(r){return(!r||0===r.length)&&(r=["added","removed","modified"]),r}Y(1181);class my{constructor(e,t,s){this.ref=e,this.query=t,this.afs=s}stateChanges(e){let t=c_(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,be.U)(s=>s.filter(l=>e.indexOf(l.type)>-1)))),t.pipe((0,je.O)(void 0),De(),(0,st.h)(([s,l])=>l.length>0||!s),(0,be.U)(([s,l])=>l),Te.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,xe.R)((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=gy(e);return mv(this.query,t,this.afs.schedulers.outsideAngular).pipe(Te.iC)}valueChanges(e={}){return l_(this.query,this.afs.schedulers.outsideAngular).pipe((0,be.U)(t=>t.payload.docs.map(s=>e.idField?Object.assign(Object.assign({},s.data()),{[e.idField]:s.id}):s.data())),Te.iC)}get(e){return(0,fe.D)(this.query.get(e)).pipe(Te.iC)}add(e){return this.ref.add(e)}doc(e){return new _y(this.ref.doc(e),this.afs)}}class _y{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const s=this.ref.collection(e),{ref:l,query:p}=yv(s,t);return new my(l,p,this.afs)}snapshotChanges(){return function ub(r,e){return fy(r,e).pipe((0,je.O)(void 0),De(),(0,be.U)(([t,s])=>s.exists?t?.exists?{payload:s,type:"modified"}:{payload:s,type:"added"}:{payload:s,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Te.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,be.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,fe.D)(this.ref.get(e)).pipe(Te.iC)}}class _v{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?c_(this.query,this.afs.schedulers.outsideAngular).pipe((0,be.U)(t=>t.filter(s=>e.indexOf(s.type)>-1)),(0,st.h)(t=>t.length>0),Te.iC):c_(this.query,this.afs.schedulers.outsideAngular).pipe(Te.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,xe.R)((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=gy(e);return mv(this.query,t,this.afs.schedulers.outsideAngular).pipe(Te.iC)}valueChanges(e={}){return l_(this.query,this.afs.schedulers.outsideAngular).pipe((0,be.U)(s=>s.payload.docs.map(l=>e.idField?Object.assign({[e.idField]:l.id},l.data()):l.data())),Te.iC)}get(e){return(0,fe.D)(this.query.get(e)).pipe(Te.iC)}}const w0=new a.OlP("angularfire2.enableFirestorePersistence"),E0=new a.OlP("angularfire2.firestore.persistenceSettings"),D0=new a.OlP("angularfire2.firestore.settings"),T0=new a.OlP("angularfire2.firestore.use-emulator");function yv(r,e=(t=>t)){return{query:e(r),ref:r}}let C0=(()=>{class r{constructor(t,s,l,p,b,R,W,Q,de,Pe,Mt,Qt,Ln,ir,er,Ki,Ms){this.schedulers=W;const Ri=(0,Ft.on)(t,R,s),iu=de;Pe&&(0,$f.nw)(Ri,R,Mt,Ln,ir,er,Qt,Ki),[this.firestore,this.persistenceEnabled$]=(0,Ft.cc)(`${Ri.name}.firestore`,"AngularFirestore",Ri.name,()=>{const ha=R.runOutsideAngular(()=>Ri.firestore());if(p&&ha.settings(p),iu&&ha.useEmulator(...iu),l&&!(0,Gt.PM)(b)){const ta=()=>{try{return(0,fe.D)(ha.enablePersistence(Q||void 0).then(()=>!0,()=>!1))}catch(ll){return typeof console<"u"&&console.warn(ll),(0,re.of)(!1)}};return[ha,R.runOutsideAngular(ta)]}return[ha,(0,re.of)(!1)]},[p,iu,l])}collection(t,s){let l;l="string"==typeof t?this.firestore.collection(t):t;const{ref:p,query:b}=yv(l,s),R=this.schedulers.ngZone.run(()=>p);return new my(R,b,this)}collectionGroup(t,s){const l=s||(b=>b),p=this.firestore.collectionGroup(t);return new _v(l(p),this)}doc(t){let s;s="string"==typeof t?this.firestore.doc(t):t;const l=this.schedulers.ngZone.run(()=>s);return new _y(l,this)}createId(){return this.firestore.collection("_").doc().id}}return r.\u0275fac=function(t){return new(t||r)(a.LFG(Ft.Dh),a.LFG(Ft.xv,8),a.LFG(w0,8),a.LFG(D0,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(Te.HU),a.LFG(E0,8),a.LFG(T0,8),a.LFG($f.zQ,8),a.LFG($f.Qv,8),a.LFG($f.L6,8),a.LFG($f._Q,8),a.LFG($f.rT,8),a.LFG($f.lh,8),a.LFG($f.f7,8),a.LFG(y0.nm,8))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})()},1879:(Nn,lt,Y)=>{"use strict";Y.d(lt,{Dh:()=>$e,GT:()=>Te,cc:()=>st,hO:()=>Vt,on:()=>De,pX:()=>re,xv:()=>et});var a=Y(2560),V=Y(1181),ee=Y(2858);Nn=Y.hmd(Nn);const fe=["ngOnDestroy"],re=(ht,Ce,Kt,ct={})=>new Proxy(ht,{get:(Se,Je)=>Kt.runOutsideAngular(()=>{var Yt;if(ht[Je])return!(null===(Yt=ct?.spy)||void 0===Yt)&&Yt.get&&ct.spy.get(Je,ht[Je]),ht[Je];if(fe.indexOf(Je)>-1)return()=>{};const Ut=Ce.toPromise().then(ft=>{const Ye=ft&&ft[Je];return"function"==typeof Ye?Ye.bind(ft):Ye&&Ye.then?Ye.then(Zt=>Kt.run(()=>Zt)):Kt.run(()=>Ye)});return new Proxy(()=>{},{get:(ft,Ye)=>Ut[Ye],apply:(ft,Ye,Zt)=>Ut.then(en=>{var Bn;const Dn=en&&en(...Zt);return!(null===(Bn=ct?.spy)||void 0===Bn)&&Bn.apply&&ct.spy.apply(Je,Zt,Dn),Dn})})})}),Te=(ht,Ce)=>{Ce.forEach(Kt=>{Object.getOwnPropertyNames(Kt.prototype||Kt).forEach(ct=>{Object.defineProperty(ht.prototype,ct,Object.getOwnPropertyDescriptor(Kt.prototype||Kt,ct))})})};class je{constructor(Ce){return Ce}}const $e=new a.OlP("angularfire2.app.options"),et=new a.OlP("angularfire2.app.name");function De(ht,Ce,Kt){const Se="object"==typeof Kt&&Kt||{};Se.name=Se.name||"string"==typeof Kt&&Kt||"[DEFAULT]";const Yt=V.Z.apps.filter(Ut=>Ut&&Ut.name===Se.name)[0]||Ce.runOutsideAngular(()=>V.Z.initializeApp(ht,Se));try{JSON.stringify(ht)!==JSON.stringify(Yt.options)&&be("error",`${Yt.name} Firebase App already initialized with different options${Nn.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new je(Yt)}const be=(ht,...Ce)=>{(0,a.X6Q)()&&typeof console<"u"&&console[ht](...Ce)},xe={provide:je,useFactory:De,deps:[$e,a.R0b,[new a.FiY,et]]};let Vt=(()=>{class ht{constructor(Kt){V.Z.registerVersion("angularfire",ee.q4.full,"core"),V.Z.registerVersion("angularfire",ee.q4.full,"app-compat"),V.Z.registerVersion("angular",a.q4F.full,Kt.toString())}static initializeApp(Kt,ct){return{ngModule:ht,providers:[{provide:$e,useValue:Kt},{provide:et,useValue:ct}]}}}return ht.\u0275fac=function(Kt){return new(Kt||ht)(a.LFG(a.Lbi))},ht.\u0275mod=a.oAB({type:ht}),ht.\u0275inj=a.cJS({providers:[xe]}),ht})();function st(ht,Ce,Kt,ct,Se){const[,Je,Yt]=globalThis.\u0275AngularfireInstanceCache.find(Ut=>Ut[0]===ht)||[];if(Je)return function Ft(ht,Ce){try{return ht.toString()===Ce.toString()}catch{return ht===Ce}}(Se,Yt)||(at("error",`${Ce} was already initialized on the ${Kt} Firebase App with different settings.${Gt?" You may need to reload as Firebase is not HMR aware.":""}`),at("warn",{is:Se,was:Yt})),Je;{const Ut=ct();return globalThis.\u0275AngularfireInstanceCache.push([ht,Ut,Se]),Ut}}const Gt=!!Nn.hot,at=(ht,...Ce)=>{(0,a.X6Q)()&&typeof console<"u"&&console[ht](...Ce)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2858:(Nn,lt,Y)=>{"use strict";Y.d(lt,{q4:()=>td,iC:()=>xs,HU:()=>kc,vb:()=>Qa,JM:()=>rd});var a=Y(2560),V=Y(2779),ee=Y(1670),fe=Y(8559),re=Y(7748),Te=Y(4692),je=Y(8118);const $e=(k,H)=>H.some(te=>k instanceof te);let et,De;const Vt=new WeakMap,st=new WeakMap,Ft=new WeakMap,Gt=new WeakMap,at=new WeakMap;let Kt={get(k,H,te){if(k instanceof IDBTransaction){if("done"===H)return st.get(k);if("objectStoreNames"===H)return k.objectStoreNames||Ft.get(k);if("store"===H)return te.objectStoreNames[1]?void 0:te.objectStore(te.objectStoreNames[0])}return Yt(k[H])},set:(k,H,te)=>(k[H]=te,!0),has:(k,H)=>k instanceof IDBTransaction&&("done"===H||"store"===H)||H in k};function Je(k){return"function"==typeof k?function Se(k){return k!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function xe(){return De||(De=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(k)?function(...H){return k.apply(Ut(this),H),Yt(Vt.get(this))}:function(...H){return Yt(k.apply(Ut(this),H))}:function(H,...te){const Ie=k.call(Ut(this),H,...te);return Ft.set(Ie,H.sort?H.sort():[H]),Yt(Ie)}}(k):(k instanceof IDBTransaction&&function Ce(k){if(st.has(k))return;const H=new Promise((te,Ie)=>{const tt=()=>{k.removeEventListener("complete",ot),k.removeEventListener("error",sn),k.removeEventListener("abort",sn)},ot=()=>{te(),tt()},sn=()=>{Ie(k.error||new DOMException("AbortError","AbortError")),tt()};k.addEventListener("complete",ot),k.addEventListener("error",sn),k.addEventListener("abort",sn)});st.set(k,H)}(k),$e(k,function be(){return et||(et=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(k,Kt):k)}function Yt(k){if(k instanceof IDBRequest)return function ht(k){const H=new Promise((te,Ie)=>{const tt=()=>{k.removeEventListener("success",ot),k.removeEventListener("error",sn)},ot=()=>{te(Yt(k.result)),tt()},sn=()=>{Ie(k.error),tt()};k.addEventListener("success",ot),k.addEventListener("error",sn)});return H.then(te=>{te instanceof IDBCursor&&Vt.set(te,k)}).catch(()=>{}),at.set(H,k),H}(k);if(Gt.has(k))return Gt.get(k);const H=Je(k);return H!==k&&(Gt.set(k,H),at.set(H,k)),H}const Ut=k=>at.get(k);function ft(k,H,{blocked:te,upgrade:Ie,blocking:tt,terminated:ot}={}){const sn=indexedDB.open(k,H),Yn=Yt(sn);return Ie&&sn.addEventListener("upgradeneeded",Sn=>{Ie(Yt(sn.result),Sn.oldVersion,Sn.newVersion,Yt(sn.transaction))}),te&&sn.addEventListener("blocked",()=>te()),Yn.then(Sn=>{ot&&Sn.addEventListener("close",()=>ot()),tt&&Sn.addEventListener("versionchange",()=>tt())}).catch(()=>{}),Yn}function Ye(k,{blocked:H}={}){const te=indexedDB.deleteDatabase(k);return H&&te.addEventListener("blocked",()=>H()),Yt(te).then(()=>{})}const Zt=["get","getKey","getAll","getAllKeys","count"],en=["put","add","delete","clear"],Bn=new Map;function Dn(k,H){if(!(k instanceof IDBDatabase)||H in k||"string"!=typeof H)return;if(Bn.get(H))return Bn.get(H);const te=H.replace(/FromIndex$/,""),Ie=H!==te,tt=en.includes(te);if(!(te in(Ie?IDBIndex:IDBObjectStore).prototype)||!tt&&!Zt.includes(te))return;const ot=function(){var sn=(0,ee.Z)(function*(Yn,...Sn){const ar=this.transaction(Yn,tt?"readwrite":"readonly");let Kr=ar.store;return Ie&&(Kr=Kr.index(Sn.shift())),(yield Promise.all([Kr[te](...Sn),tt&&ar.done]))[0]});return function(Sn){return sn.apply(this,arguments)}}();return Bn.set(H,ot),ot}!function ct(k){Kt=k(Kt)}(k=>({...k,get:(H,te,Ie)=>Dn(H,te)||k.get(H,te,Ie),has:(H,te)=>!!Dn(H,te)||k.has(H,te)}));const qi="@firebase/installations",It="0.6.4",_t=1e4,Ot=`w:${It}`,Ct="FIS_v2",Wt="https://firebaseinstallations.googleapis.com/v1",Lt=36e5,vn=new re.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ge(k){return k instanceof re.ZR&&k.code.includes("request-failed")}function yt({projectId:k}){return`${Wt}/projects/${k}/installations`}function Ke(k){return{token:k.token,requestStatus:2,expiresIn:rs(k.expiresIn),creationTime:Date.now()}}function pt(k,H){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,ee.Z)(function*(k,H){const Ie=(yield H.json()).error;return vn.create("request-failed",{requestName:k,serverCode:Ie.code,serverMessage:Ie.message,serverStatus:Ie.status})})).apply(this,arguments)}function zn({apiKey:k}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":k})}function pr(k){return ii.apply(this,arguments)}function ii(){return(ii=(0,ee.Z)(function*(k){const H=yield k();return H.status>=500&&H.status<600?k():H})).apply(this,arguments)}function rs(k){return Number(k.replace("s","000"))}function wn(){return(wn=(0,ee.Z)(function*({appConfig:k,heartbeatServiceProvider:H},{fid:te}){const Ie=yt(k),tt=zn(k),ot=H.getImmediate({optional:!0});if(ot){const ar=yield ot.getHeartbeatsHeader();ar&&tt.append("x-firebase-client",ar)}const Yn={method:"POST",headers:tt,body:JSON.stringify({fid:te,authVersion:Ct,appId:k.appId,sdkVersion:Ot})},Sn=yield pr(()=>fetch(Ie,Yn));if(Sn.ok){const ar=yield Sn.json();return{fid:ar.fid||te,registrationStatus:2,refreshToken:ar.refreshToken,authToken:Ke(ar.authToken)}}throw yield pt("Create Installation",Sn)})).apply(this,arguments)}function jr(k){return new Promise(H=>{setTimeout(H,k)})}const Vr=/^[cdef][\w-]{21}$/,bi="";function Gs(){try{const k=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(k),k[0]=112+k[0]%16;const te=function fr(k){return function hi(k){return btoa(String.fromCharCode(...k)).replace(/\+/g,"-").replace(/\//g,"_")}(k).substr(0,22)}(k);return Vr.test(te)?te:bi}catch{return bi}}function br(k){return`${k.appName}!${k.appId}`}const In=new Map;function bn(k,H){const te=br(k);Wn(te,H),function fi(k,H){const te=function Pi(){return!Ii&&"BroadcastChannel"in self&&(Ii=new BroadcastChannel("[Firebase] FID Change"),Ii.onmessage=k=>{Wn(k.data.key,k.data.fid)}),Ii}();te&&te.postMessage({key:k,fid:H}),function xr(){0===In.size&&Ii&&(Ii.close(),Ii=null)}()}(te,H)}function Wn(k,H){const te=In.get(k);if(te)for(const Ie of te)Ie(H)}let Ii=null;const fs="firebase-installations-database",wr=1,vs="firebase-installations-store";let Rr=null;function oi(){return Rr||(Rr=ft(fs,wr,{upgrade:(k,H)=>{0===H&&k.createObjectStore(vs)}})),Rr}function pi(k,H){return At.apply(this,arguments)}function At(){return(At=(0,ee.Z)(function*(k,H){const te=br(k),tt=(yield oi()).transaction(vs,"readwrite"),ot=tt.objectStore(vs),sn=yield ot.get(te);return yield ot.put(H,te),yield tt.done,(!sn||sn.fid!==H.fid)&&bn(k,H.fid),H})).apply(this,arguments)}function Le(k){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,ee.Z)(function*(k){const H=br(k),Ie=(yield oi()).transaction(vs,"readwrite");yield Ie.objectStore(vs).delete(H),yield Ie.done})).apply(this,arguments)}function ln(k,H){return qt.apply(this,arguments)}function qt(){return(qt=(0,ee.Z)(function*(k,H){const te=br(k),tt=(yield oi()).transaction(vs,"readwrite"),ot=tt.objectStore(vs),sn=yield ot.get(te),Yn=H(sn);return void 0===Yn?yield ot.delete(te):yield ot.put(Yn,te),yield tt.done,Yn&&(!sn||sn.fid!==Yn.fid)&&bn(k,Yn.fid),Yn})).apply(this,arguments)}function Ee(k){return ve.apply(this,arguments)}function ve(){return ve=(0,ee.Z)(function*(k){let H;const te=yield ln(k.appConfig,Ie=>{const tt=function Oe(k){return Re(k||{fid:Gs(),registrationStatus:0})}(Ie),ot=function ut(k,H){if(0===H.registrationStatus){if(!navigator.onLine)return{installationEntry:H,registrationPromise:Promise.reject(vn.create("app-offline"))};const te={fid:H.fid,registrationStatus:1,registrationTime:Date.now()},Ie=function ze(k,H){return on.apply(this,arguments)}(k,te);return{installationEntry:te,registrationPromise:Ie}}return 1===H.registrationStatus?{installationEntry:H,registrationPromise:ke(k)}:{installationEntry:H}}(k,tt);return H=ot.registrationPromise,ot.installationEntry});return te.fid===bi?{installationEntry:yield H}:{installationEntry:te,registrationPromise:H}}),ve.apply(this,arguments)}function on(){return on=(0,ee.Z)(function*(k,H){try{const te=yield function Jt(k,H){return wn.apply(this,arguments)}(k,H);return pi(k.appConfig,te)}catch(te){throw Ge(te)&&409===te.customData.serverCode?yield Le(k.appConfig):yield pi(k.appConfig,{fid:H.fid,registrationStatus:0}),te}}),on.apply(this,arguments)}function ke(k){return Me.apply(this,arguments)}function Me(){return(Me=(0,ee.Z)(function*(k){let H=yield ge(k.appConfig);for(;1===H.registrationStatus;)yield jr(100),H=yield ge(k.appConfig);if(0===H.registrationStatus){const{installationEntry:te,registrationPromise:Ie}=yield Ee(k);return Ie||te}return H})).apply(this,arguments)}function ge(k){return ln(k,H=>{if(!H)throw vn.create("installation-not-found");return Re(H)})}function Re(k){return function mt(k){return 1===k.registrationStatus&&k.registrationTime+_t<Date.now()}(k)?{fid:k.fid,registrationStatus:0}:k}function Vn(){return(Vn=(0,ee.Z)(function*({appConfig:k,heartbeatServiceProvider:H},te){const Ie=function Ir(k,{fid:H}){return`${yt(k)}/${H}/authTokens:generate`}(k,te),tt=function jn(k,{refreshToken:H}){const te=zn(k);return te.append("Authorization",function di(k){return`${Ct} ${k}`}(H)),te}(k,te),ot=H.getImmediate({optional:!0});if(ot){const ar=yield ot.getHeartbeatsHeader();ar&&tt.append("x-firebase-client",ar)}const Yn={method:"POST",headers:tt,body:JSON.stringify({installation:{sdkVersion:Ot,appId:k.appId}})},Sn=yield pr(()=>fetch(Ie,Yn));if(Sn.ok)return Ke(yield Sn.json());throw yield pt("Generate Auth Token",Sn)})).apply(this,arguments)}function gi(k){return Ws.apply(this,arguments)}function Ws(){return Ws=(0,ee.Z)(function*(k,H=!1){let te;const Ie=yield ln(k.appConfig,ot=>{if(!gr(ot))throw vn.create("not-registered");const sn=ot.authToken;if(!H&&function Zn(k){return 2===k.requestStatus&&!function ai(k){const H=Date.now();return H<k.creationTime||k.creationTime+k.expiresIn<H+Lt}(k)}(sn))return ot;if(1===sn.requestStatus)return te=function St(k,H){return dt.apply(this,arguments)}(k,H),ot;{if(!navigator.onLine)throw vn.create("app-offline");const Yn=function Ur(k){const H={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},k),{authToken:H})}(ot);return te=function Kn(k,H){return tr.apply(this,arguments)}(k,Yn),Yn}});return te?yield te:Ie.authToken}),Ws.apply(this,arguments)}function dt(){return(dt=(0,ee.Z)(function*(k,H){let te=yield an(k.appConfig);for(;1===te.authToken.requestStatus;)yield jr(100),te=yield an(k.appConfig);const Ie=te.authToken;return 0===Ie.requestStatus?gi(k,H):Ie})).apply(this,arguments)}function an(k){return ln(k,H=>{if(!gr(H))throw vn.create("not-registered");return function ji(k){return 1===k.requestStatus&&k.requestTime+_t<Date.now()}(H.authToken)?Object.assign(Object.assign({},H),{authToken:{requestStatus:0}}):H})}function tr(){return tr=(0,ee.Z)(function*(k,H){try{const te=yield function Xt(k,H){return Vn.apply(this,arguments)}(k,H),Ie=Object.assign(Object.assign({},H),{authToken:te});return yield pi(k.appConfig,Ie),te}catch(te){if(!Ge(te)||401!==te.customData.serverCode&&404!==te.customData.serverCode){const Ie=Object.assign(Object.assign({},H),{authToken:{requestStatus:0}});yield pi(k.appConfig,Ie)}else yield Le(k.appConfig);throw te}}),tr.apply(this,arguments)}function gr(k){return void 0!==k&&2===k.registrationStatus}function Ga(){return(Ga=(0,ee.Z)(function*(k){const H=k,{installationEntry:te,registrationPromise:Ie}=yield Ee(H);return Ie?Ie.catch(console.error):gi(H).catch(console.error),te.fid})).apply(this,arguments)}function Aa(){return Aa=(0,ee.Z)(function*(k,H=!1){const te=k;return yield function as(k){return En.apply(this,arguments)}(te),(yield gi(te,H)).token}),Aa.apply(this,arguments)}function En(){return(En=(0,ee.Z)(function*(k){const{registrationPromise:H}=yield Ee(k);H&&(yield H)})).apply(this,arguments)}function Is(k){return vn.create("missing-app-config-values",{valueName:k})}const Er="installations",qs=k=>{const H=k.getProvider("app").getImmediate(),te=function Ks(k){if(!k||!k.options)throw Is("App Configuration");if(!k.name)throw Is("App Name");const H=["projectId","apiKey","appId"];for(const te of H)if(!k.options[te])throw Is(te);return{appName:k.name,projectId:k.options.projectId,apiKey:k.options.apiKey,appId:k.options.appId}}(H);return{app:H,appConfig:te,heartbeatServiceProvider:(0,fe._getProvider)(H,"heartbeat"),_delete:()=>Promise.resolve()}},no=k=>{const H=k.getProvider("app").getImmediate(),te=(0,fe._getProvider)(H,Er).getImmediate();return{getId:()=>function Li(k){return Ga.apply(this,arguments)}(te),getToken:tt=>function Wo(k){return Aa.apply(this,arguments)}(te,tt)}};(function ro(){(0,fe._registerComponent)(new Te.wA(Er,qs,"PUBLIC")),(0,fe._registerComponent)(new Te.wA("installations-internal",no,"PRIVATE"))})(),(0,fe.registerVersion)(qi,It),(0,fe.registerVersion)(qi,It,"esm2017");const zr="@firebase/remote-config",Zi=new re.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Co{constructor(H,te,Ie,tt){this.client=H,this.storage=te,this.storageCache=Ie,this.logger=tt}isCachedDataFresh(H,te){if(!te)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Ie=Date.now()-te,tt=Ie<=H;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Ie}. Cache max age millis (minimumFetchIntervalMillis setting): ${H}. Is cache hit: ${tt}.`),tt}fetch(H){var te=this;return(0,ee.Z)(function*(){const[Ie,tt]=yield Promise.all([te.storage.getLastSuccessfulFetchTimestampMillis(),te.storage.getLastSuccessfulFetchResponse()]);if(tt&&te.isCachedDataFresh(H.cacheMaxAgeMillis,Ie))return tt;H.eTag=tt&&tt.eTag;const ot=yield te.client.fetch(H),sn=[te.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ot.status&&sn.push(te.storage.setLastSuccessfulFetchResponse(ot)),yield Promise.all(sn),ot})()}}function Na(k=navigator){return k.languages&&k.languages[0]||k.language}class ti{constructor(H,te,Ie,tt,ot,sn){this.firebaseInstallations=H,this.sdkVersion=te,this.namespace=Ie,this.projectId=tt,this.apiKey=ot,this.appId=sn}fetch(H){var te=this;return(0,ee.Z)(function*(){const[Ie,tt]=yield Promise.all([te.firebaseInstallations.getId(),te.firebaseInstallations.getToken()]),sn=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${te.projectId}/namespaces/${te.namespace}:fetch?key=${te.apiKey}`,Yn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":H.eTag||"*"},Sn={sdk_version:te.sdkVersion,app_instance_id:Ie,app_instance_id_token:tt,app_id:te.appId,language_code:Na()},ar={method:"POST",headers:Yn,body:JSON.stringify(Sn)},Kr=fetch(sn,ar),Lr=new Promise((aa,Ta)=>{H.signal.addEventListener(()=>{const Al=new Error("The operation was aborted.");Al.name="AbortError",Ta(Al)})});let ea;try{yield Promise.race([Kr,Lr]),ea=yield Kr}catch(aa){let Ta="fetch-client-network";throw"AbortError"===aa?.name&&(Ta="fetch-timeout"),Zi.create(Ta,{originalErrorMessage:aa?.message})}let Da=ea.status;const Mo=ea.headers.get("ETag")||void 0;let gl,ml;if(200===ea.status){let aa;try{aa=yield ea.json()}catch(Ta){throw Zi.create("fetch-client-parse",{originalErrorMessage:Ta?.message})}gl=aa.entries,ml=aa.state}if("INSTANCE_STATE_UNSPECIFIED"===ml?Da=500:"NO_CHANGE"===ml?Da=304:("NO_TEMPLATE"===ml||"EMPTY_CONFIG"===ml)&&(gl={}),304!==Da&&200!==Da)throw Zi.create("fetch-status",{httpStatus:Da});return{status:Da,eTag:Mo,config:gl}})()}}class Vu{constructor(H,te){this.client=H,this.storage=te}fetch(H){var te=this;return(0,ee.Z)(function*(){const Ie=(yield te.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return te.attemptFetch(H,Ie)})()}attemptFetch(H,{throttleEndTimeMillis:te,backoffCount:Ie}){var tt=this;return(0,ee.Z)(function*(){yield function $i(k,H){return new Promise((te,Ie)=>{const tt=Math.max(H-Date.now(),0),ot=setTimeout(te,tt);k.addEventListener(()=>{clearTimeout(ot),Ie(Zi.create("fetch-throttle",{throttleEndTimeMillis:H}))})})}(H.signal,te);try{const ot=yield tt.client.fetch(H);return yield tt.storage.deleteThrottleMetadata(),ot}catch(ot){if(!function su(k){if(!(k instanceof re.ZR&&k.customData))return!1;const H=Number(k.customData.httpStatus);return 429===H||500===H||503===H||504===H}(ot))throw ot;const sn={throttleEndTimeMillis:Date.now()+(0,re.$s)(Ie),backoffCount:Ie+1};return yield tt.storage.setThrottleMetadata(sn),tt.attemptFetch(H,sn)}})()}}class Hu{constructor(H,te,Ie,tt,ot){this.app=H,this._client=te,this._storageCache=Ie,this._storage=tt,this._logger=ot,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Io(k,H){const te=k.target.error||void 0;return Zi.create(H,{originalErrorMessage:te&&te?.message})}const Ss="app_namespace_store";class Bi{constructor(H,te,Ie,tt=function ga(){return new Promise((k,H)=>{try{const te=indexedDB.open("firebase_remote_config",1);te.onerror=Ie=>{H(Io(Ie,"storage-open"))},te.onsuccess=Ie=>{k(Ie.target.result)},te.onupgradeneeded=Ie=>{0===Ie.oldVersion&&Ie.target.result.createObjectStore(Ss,{keyPath:"compositeKey"})}}catch(te){H(Zi.create("storage-open",{originalErrorMessage:te?.message}))}})}()){this.appId=H,this.appName=te,this.namespace=Ie,this.openDbPromise=tt}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(H){return this.set("last_fetch_status",H)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(H){return this.set("last_successful_fetch_timestamp_millis",H)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(H){return this.set("last_successful_fetch_response",H)}getActiveConfig(){return this.get("active_config")}setActiveConfig(H){return this.set("active_config",H)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(H){return this.set("active_config_etag",H)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(H){return this.set("throttle_metadata",H)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(H){var te=this;return(0,ee.Z)(function*(){const Ie=yield te.openDbPromise;return new Promise((tt,ot)=>{const Yn=Ie.transaction([Ss],"readonly").objectStore(Ss),Sn=te.createCompositeKey(H);try{const ar=Yn.get(Sn);ar.onerror=Kr=>{ot(Io(Kr,"storage-get"))},ar.onsuccess=Kr=>{const Lr=Kr.target.result;tt(Lr?Lr.value:void 0)}}catch(ar){ot(Zi.create("storage-get",{originalErrorMessage:ar?.message}))}})})()}set(H,te){var Ie=this;return(0,ee.Z)(function*(){const tt=yield Ie.openDbPromise;return new Promise((ot,sn)=>{const Sn=tt.transaction([Ss],"readwrite").objectStore(Ss),ar=Ie.createCompositeKey(H);try{const Kr=Sn.put({compositeKey:ar,value:te});Kr.onerror=Lr=>{sn(Io(Lr,"storage-set"))},Kr.onsuccess=()=>{ot()}}catch(Kr){sn(Zi.create("storage-set",{originalErrorMessage:Kr?.message}))}})})()}delete(H){var te=this;return(0,ee.Z)(function*(){const Ie=yield te.openDbPromise;return new Promise((tt,ot)=>{const Yn=Ie.transaction([Ss],"readwrite").objectStore(Ss),Sn=te.createCompositeKey(H);try{const ar=Yn.delete(Sn);ar.onerror=Kr=>{ot(Io(Kr,"storage-delete"))},ar.onsuccess=()=>{tt()}}catch(ar){ot(Zi.create("storage-delete",{originalErrorMessage:ar?.message}))}})})()}createCompositeKey(H){return[this.appId,this.appName,this.namespace,H].join()}}class Ma{constructor(H){this.storage=H}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var H=this;return(0,ee.Z)(function*(){const te=H.storage.getLastFetchStatus(),Ie=H.storage.getLastSuccessfulFetchTimestampMillis(),tt=H.storage.getActiveConfig(),ot=yield te;ot&&(H.lastFetchStatus=ot);const sn=yield Ie;sn&&(H.lastSuccessfulFetchTimestampMillis=sn);const Yn=yield tt;Yn&&(H.activeConfig=Yn)})()}setLastFetchStatus(H){return this.lastFetchStatus=H,this.storage.setLastFetchStatus(H)}setLastSuccessfulFetchTimestampMillis(H){return this.lastSuccessfulFetchTimestampMillis=H,this.storage.setLastSuccessfulFetchTimestampMillis(H)}setActiveConfig(H){return this.activeConfig=H,this.storage.setActiveConfig(H)}}function ma(){return ja.apply(this,arguments)}function ja(){return(ja=(0,ee.Z)(function*(){if(!(0,re.hl)())return!1;try{return yield(0,re.eu)()}catch{return!1}})).apply(this,arguments)}!function xi(){(0,fe._registerComponent)(new Te.wA("remote-config",function k(H,{instanceIdentifier:te}){const Ie=H.getProvider("app").getImmediate(),tt=H.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Zi.create("registration-window");if(!(0,re.hl)())throw Zi.create("indexed-db-unavailable");const{projectId:ot,apiKey:sn,appId:Yn}=Ie.options;if(!ot)throw Zi.create("registration-project-id");if(!sn)throw Zi.create("registration-api-key");if(!Yn)throw Zi.create("registration-app-id");const Sn=new Bi(Yn,Ie.name,te=te||"firebase"),ar=new Ma(Sn),Kr=new je.Yd(zr);Kr.logLevel=je.in.ERROR;const Lr=new ti(tt,fe.SDK_VERSION,te,ot,sn,Yn),ea=new Vu(Lr,Sn),Da=new Co(ea,Sn,ar,Kr),Mo=new Hu(Ie,Da,ar,Sn,Kr);return function Sr(k){const H=(0,re.m9)(k);H._initializePromise||(H._initializePromise=H._storageCache.loadFromStorage().then(()=>{H._isInitializationComplete=!0}))}(Mo),Mo},"PUBLIC").setMultipleInstances(!0)),(0,fe.registerVersion)(zr,"0.4.4"),(0,fe.registerVersion)(zr,"0.4.4","esm2017")}();const ou="/firebase-messaging-sw.js",$a="/firebase-cloud-messaging-push-scope",So="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",$s="https://fcmregistrations.googleapis.com/v1",wo="google.c.a.c_id",go="google.c.a.c_l",za="google.c.a.ts",Ls="google.c.a.e";var ws=(()=>{return(k=ws||(ws={})).PUSH_RECEIVED="push-received",k.NOTIFICATION_CLICKED="notification-clicked",ws;var k})();function Ai(k){const H=new Uint8Array(k);return btoa(String.fromCharCode(...H)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ei(k){const te=(k+"=".repeat((4-k.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Ie=atob(te),tt=new Uint8Array(Ie.length);for(let ot=0;ot<Ie.length;++ot)tt[ot]=Ie.charCodeAt(ot);return tt}const is="fcm_token_details_db",As=5,Wa="fcm_token_object_Store";function mo(){return mo=(0,ee.Z)(function*(k){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ot=>ot.name).includes(is))return null;let H=null;return(yield ft(is,As,{upgrade:(Ie=(0,ee.Z)(function*(tt,ot,sn,Yn){var Sn;if(ot<2||!tt.objectStoreNames.contains(Wa))return;const ar=Yn.objectStore(Wa),Kr=yield ar.index("fcmSenderId").get(k);if(yield ar.clear(),Kr)if(2===ot){const Lr=Kr;if(!Lr.auth||!Lr.p256dh||!Lr.endpoint)return;H={token:Lr.fcmToken,createTime:null!==(Sn=Lr.createTime)&&void 0!==Sn?Sn:Date.now(),subscriptionOptions:{auth:Lr.auth,p256dh:Lr.p256dh,endpoint:Lr.endpoint,swScope:Lr.swScope,vapidKey:"string"==typeof Lr.vapidKey?Lr.vapidKey:Ai(Lr.vapidKey)}}}else if(3===ot){const Lr=Kr;H={token:Lr.fcmToken,createTime:Lr.createTime,subscriptionOptions:{auth:Ai(Lr.auth),p256dh:Ai(Lr.p256dh),endpoint:Lr.endpoint,swScope:Lr.swScope,vapidKey:Ai(Lr.vapidKey)}}}else if(4===ot){const Lr=Kr;H={token:Lr.fcmToken,createTime:Lr.createTime,subscriptionOptions:{auth:Ai(Lr.auth),p256dh:Ai(Lr.p256dh),endpoint:Lr.endpoint,swScope:Lr.swScope,vapidKey:Ai(Lr.vapidKey)}}}}),function(ot,sn,Yn,Sn){return Ie.apply(this,arguments)})})).close(),yield Ye(is),yield Ye("fcm_vapid_details_db"),yield Ye("undefined"),function Ys(k){if(!k||!k.subscriptionOptions)return!1;const{subscriptionOptions:H}=k;return"number"==typeof k.createTime&&k.createTime>0&&"string"==typeof k.token&&k.token.length>0&&"string"==typeof H.auth&&H.auth.length>0&&"string"==typeof H.p256dh&&H.p256dh.length>0&&"string"==typeof H.endpoint&&H.endpoint.length>0&&"string"==typeof H.swScope&&H.swScope.length>0&&"string"==typeof H.vapidKey&&H.vapidKey.length>0}(H)?H:null;var Ie}),mo.apply(this,arguments)}const au="firebase-messaging-database",Ko=1,Vo="firebase-messaging-store";let Os=null;function _a(){return Os||(Os=ft(au,Ko,{upgrade:(k,H)=>{0===H&&k.createObjectStore(Vo)}})),Os}function ya(k){return _r.apply(this,arguments)}function _r(){return _r=(0,ee.Z)(function*(k){const H=le(k),Ie=yield(yield _a()).transaction(Vo).objectStore(Vo).get(H);if(Ie)return Ie;{const tt=yield function Oa(k){return mo.apply(this,arguments)}(k.appConfig.senderId);if(tt)return yield ao(k,tt),tt}}),_r.apply(this,arguments)}function ao(k,H){return K.apply(this,arguments)}function K(){return(K=(0,ee.Z)(function*(k,H){const te=le(k),tt=(yield _a()).transaction(Vo,"readwrite");return yield tt.objectStore(Vo).put(H,te),yield tt.done,H})).apply(this,arguments)}function L(){return(L=(0,ee.Z)(function*(k){const H=le(k),Ie=(yield _a()).transaction(Vo,"readwrite");yield Ie.objectStore(Vo).delete(H),yield Ie.done})).apply(this,arguments)}function le({appConfig:k}){return k.appId}const pn=new re.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Es(k,H){return xt.apply(this,arguments)}function xt(){return(xt=(0,ee.Z)(function*(k,H){const te=yield va(k),Ie=ra(H),tt={method:"POST",headers:te,body:JSON.stringify(Ie)};let ot;try{ot=yield(yield fetch(Ra(k.appConfig),tt)).json()}catch(sn){throw pn.create("token-subscribe-failed",{errorInfo:sn?.toString()})}if(ot.error)throw pn.create("token-subscribe-failed",{errorInfo:ot.error.message});if(!ot.token)throw pn.create("token-subscribe-no-token");return ot.token})).apply(this,arguments)}function _o(){return(_o=(0,ee.Z)(function*(k,H){const te=yield va(k),Ie=ra(H.subscriptionOptions),tt={method:"PATCH",headers:te,body:JSON.stringify(Ie)};let ot;try{ot=yield(yield fetch(`${Ra(k.appConfig)}/${H.token}`,tt)).json()}catch(sn){throw pn.create("token-update-failed",{errorInfo:sn?.toString()})}if(ot.error)throw pn.create("token-update-failed",{errorInfo:ot.error.message});if(!ot.token)throw pn.create("token-update-no-token");return ot.token})).apply(this,arguments)}function Ka(k,H){return ls.apply(this,arguments)}function ls(){return(ls=(0,ee.Z)(function*(k,H){const Ie={method:"DELETE",headers:yield va(k)};try{const ot=yield(yield fetch(`${Ra(k.appConfig)}/${H}`,Ie)).json();if(ot.error)throw pn.create("token-unsubscribe-failed",{errorInfo:ot.error.message})}catch(tt){throw pn.create("token-unsubscribe-failed",{errorInfo:tt?.toString()})}})).apply(this,arguments)}function Ra({projectId:k}){return`${$s}/projects/${k}/registrations`}function va(k){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,ee.Z)(function*({appConfig:k,installations:H}){const te=yield H.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":k.apiKey,"x-goog-firebase-installations-auth":`FIS ${te}`})})).apply(this,arguments)}function ra({p256dh:k,auth:H,endpoint:te,vapidKey:Ie}){const tt={web:{endpoint:te,auth:H,p256dh:k}};return Ie!==So&&(tt.web.applicationPubKey=Ie),tt}const dl=6048e5;function Gu(){return Gu=(0,ee.Z)(function*(k){const H=yield function Be(k,H){return He.apply(this,arguments)}(k.swRegistration,k.vapidKey),te={vapidKey:k.vapidKey,swScope:k.swRegistration.scope,endpoint:H.endpoint,auth:Ai(H.getKey("auth")),p256dh:Ai(H.getKey("p256dh"))},Ie=yield ya(k.firebaseDependencies);if(Ie){if(function wt(k,H){return H.vapidKey===k.vapidKey&&H.endpoint===k.endpoint&&H.auth===k.auth&&H.p256dh===k.p256dh}(Ie.subscriptionOptions,te))return Date.now()>=Ie.createTime+dl?function M(k,H){return $.apply(this,arguments)}(k,{token:Ie.token,createTime:Date.now(),subscriptionOptions:te}):Ie.token;try{yield Ka(k.firebaseDependencies,Ie.token)}catch(tt){console.warn(tt)}return ne(k.firebaseDependencies,te)}return ne(k.firebaseDependencies,te)}),Gu.apply(this,arguments)}function I(){return I=(0,ee.Z)(function*(k){const H=yield ya(k.firebaseDependencies);H&&(yield Ka(k.firebaseDependencies,H.token),yield function z(k){return L.apply(this,arguments)}(k.firebaseDependencies));const te=yield k.swRegistration.pushManager.getSubscription();return!te||te.unsubscribe()}),I.apply(this,arguments)}function $(){return $=(0,ee.Z)(function*(k,H){try{const te=yield function Hr(k,H){return _o.apply(this,arguments)}(k.firebaseDependencies,H),Ie=Object.assign(Object.assign({},H),{token:te,createTime:Date.now()});return yield ao(k.firebaseDependencies,Ie),te}catch(te){throw yield function se(k){return I.apply(this,arguments)}(k),te}}),$.apply(this,arguments)}function ne(k,H){return me.apply(this,arguments)}function me(){return(me=(0,ee.Z)(function*(k,H){const Ie={token:yield Es(k,H),createTime:Date.now(),subscriptionOptions:H};return yield ao(k,Ie),Ie.token})).apply(this,arguments)}function He(){return(He=(0,ee.Z)(function*(k,H){return(yield k.pushManager.getSubscription())||k.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ei(H)})})).apply(this,arguments)}function Ht(k){const H={from:k.from,collapseKey:k.collapse_key,messageId:k.fcmMessageId};return function Hn(k,H){if(!H.notification)return;k.notification={};const te=H.notification.title;te&&(k.notification.title=te);const Ie=H.notification.body;Ie&&(k.notification.body=Ie);const tt=H.notification.image;tt&&(k.notification.image=tt);const ot=H.notification.icon;ot&&(k.notification.icon=ot)}(H,k),function qn(k,H){H.data&&(k.data=H.data)}(H,k),function Wr(k,H){var te,Ie,tt,ot,sn;if(!(H.fcmOptions||null!==(te=H.notification)&&void 0!==te&&te.click_action))return;k.fcmOptions={};const Yn=null!==(tt=null===(Ie=H.fcmOptions)||void 0===Ie?void 0:Ie.link)&&void 0!==tt?tt:null===(ot=H.notification)||void 0===ot?void 0:ot.click_action;Yn&&(k.fcmOptions.link=Yn);const Sn=null===(sn=H.fcmOptions)||void 0===sn?void 0:sn.analytics_label;Sn&&(k.fcmOptions.analyticsLabel=Sn)}(H,k),H}function Cr(k,H){const te=[];for(let Ie=0;Ie<k.length;Ie++)te.push(k.charAt(Ie)),Ie<H.length&&te.push(H.charAt(Ie));return te.join("")}function ni(k){return pn.create("missing-app-config-values",{valueName:k})}Cr("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Cr("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class qe{constructor(H,te,Ie){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const tt=function Dr(k){if(!k||!k.options)throw ni("App Configuration Object");if(!k.name)throw ni("App Name");const H=["projectId","apiKey","appId","messagingSenderId"],{options:te}=k;for(const Ie of H)if(!te[Ie])throw ni(Ie);return{appName:k.name,projectId:te.projectId,apiKey:te.apiKey,appId:te.appId,senderId:te.messagingSenderId}}(H);this.firebaseDependencies={app:H,appConfig:tt,installations:te,analyticsProvider:Ie}}_delete(){return Promise.resolve()}}function Rt(k){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,ee.Z)(function*(k){try{k.swRegistration=yield navigator.serviceWorker.register(ou,{scope:$a}),k.swRegistration.update().catch(()=>{})}catch(H){throw pn.create("failed-service-worker-registration",{browserErrorMessage:H?.message})}})).apply(this,arguments)}function yr(){return(yr=(0,ee.Z)(function*(k,H){if(!H&&!k.swRegistration&&(yield Rt(k)),H||!k.swRegistration){if(!(H instanceof ServiceWorkerRegistration))throw pn.create("invalid-sw-registration");k.swRegistration=H}})).apply(this,arguments)}function ui(){return(ui=(0,ee.Z)(function*(k,H){H?k.vapidKey=H:k.vapidKey||(k.vapidKey=So)})).apply(this,arguments)}function Bs(){return Bs=(0,ee.Z)(function*(k,H){if(!navigator)throw pn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw pn.create("permission-blocked");return yield function Yr(k,H){return ui.apply(this,arguments)}(k,H?.vapidKey),yield function Pn(k,H){return yr.apply(this,arguments)}(k,H?.serviceWorkerRegistration),function hl(k){return Gu.apply(this,arguments)}(k)}),Bs.apply(this,arguments)}function Rs(){return(Rs=(0,ee.Z)(function*(k,H,te){const Ie=function _u(k){switch(k){case ws.NOTIFICATION_CLICKED:return"notification_open";case ws.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(H);(yield k.firebaseDependencies.analyticsProvider.get()).logEvent(Ie,{message_id:te[wo],message_name:te[go],message_time:te[za],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ba(){return ba=(0,ee.Z)(function*(k,H){const te=H.data;if(!te.isFirebaseMessaging)return;k.onMessageHandler&&te.messageType===ws.PUSH_RECEIVED&&("function"==typeof k.onMessageHandler?k.onMessageHandler(Ht(te)):k.onMessageHandler.next(Ht(te)));const Ie=te.data;(function kr(k){return"object"==typeof k&&!!k&&wo in k})(Ie)&&"1"===Ie[Ls]&&(yield function Vi(k,H,te){return Rs.apply(this,arguments)}(k,te.messageType,Ie))}),ba.apply(this,arguments)}const Fi="@firebase/messaging",On=k=>{const H=new qe(k.getProvider("app").getImmediate(),k.getProvider("installations-internal").getImmediate(),k.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",te=>function Ps(k,H){return ba.apply(this,arguments)}(H,te)),H},hr=k=>{const H=k.getProvider("messaging").getImmediate();return{getToken:Ie=>function lr(k,H){return Bs.apply(this,arguments)}(H,Ie)}};function x(){return J.apply(this,arguments)}function J(){return(J=(0,ee.Z)(function*(){try{yield(0,re.eu)()}catch{return!1}return typeof window<"u"&&(0,re.hl)()&&(0,re.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function li(){(0,fe._registerComponent)(new Te.wA("messaging",On,"PUBLIC")),(0,fe._registerComponent)(new Te.wA("messaging-internal",hr,"PRIVATE")),(0,fe.registerVersion)(Fi,"0.12.4"),(0,fe.registerVersion)(Fi,"0.12.4","esm2017")}();const Fr="analytics",Pr="firebase_id",Ds="origin",Ni=6e4,Zr="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Uo="https://www.googletagmanager.com/gtag/js",Ui=new je.Yd("@firebase/analytics"),Ar=new re.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function yi(k){if(!k.startsWith(Uo)){const H=Ar.create("invalid-gtag-resource",{gtagURL:k});return Ui.warn(H.message),""}return k}function Zs(k){return Promise.all(k.map(H=>H.catch(te=>te)))}function yo(){return(yo=(0,ee.Z)(function*(k,H,te,Ie,tt,ot){const sn=Ie[tt];try{if(sn)yield H[sn];else{const Sn=(yield Zs(te)).find(ar=>ar.measurementId===tt);Sn&&(yield H[Sn.appId])}}catch(Yn){Ui.error(Yn)}k("config",tt,ot)})).apply(this,arguments)}function Cs(){return(Cs=(0,ee.Z)(function*(k,H,te,Ie,tt){try{let ot=[];if(tt&&tt.send_to){let sn=tt.send_to;Array.isArray(sn)||(sn=[sn]);const Yn=yield Zs(te);for(const Sn of sn){const ar=Yn.find(Lr=>Lr.measurementId===Sn),Kr=ar&&H[ar.appId];if(!Kr){ot=[];break}ot.push(Kr)}}0===ot.length&&(ot=Object.values(H)),yield Promise.all(ot),k("event",Ie,tt||{})}catch(ot){Ui.error(ot)}})).apply(this,arguments)}const Js=30,tn=new class qa{constructor(H={},te=1e3){this.throttleMetadata=H,this.intervalMillis=te}getThrottleMetadata(H){return this.throttleMetadata[H]}setThrottleMetadata(H,te){this.throttleMetadata[H]=te}deleteThrottleMetadata(H){delete this.throttleMetadata[H]}};function cr(k){return new Headers({Accept:"application/json","x-goog-api-key":k})}function Fn(){return(Fn=(0,ee.Z)(function*(k){var H;const{appId:te,apiKey:Ie}=k,tt={method:"GET",headers:cr(Ie)},ot=Zr.replace("{app-id}",te),sn=yield fetch(ot,tt);if(200!==sn.status&&304!==sn.status){let Yn="";try{const Sn=yield sn.json();null!==(H=Sn.error)&&void 0!==H&&H.message&&(Yn=Sn.error.message)}catch{}throw Ar.create("config-fetch-failed",{httpStatus:sn.status,responseMessage:Yn})}return sn.json()})).apply(this,arguments)}function rn(){return(rn=(0,ee.Z)(function*(k,H=tn,te){const{appId:Ie,apiKey:tt,measurementId:ot}=k.options;if(!Ie)throw Ar.create("no-app-id");if(!tt){if(ot)return{measurementId:ot,appId:Ie};throw Ar.create("no-api-key")}const sn=H.getThrottleMetadata(Ie)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Yn=new kl;return setTimeout((0,ee.Z)(function*(){Yn.abort()}),void 0!==te?te:Ni),No({appId:Ie,apiKey:tt,measurementId:ot},sn,Yn,H)})).apply(this,arguments)}function No(k,H,te){return $u.apply(this,arguments)}function $u(){return $u=(0,ee.Z)(function*(k,{throttleEndTimeMillis:H,backoffCount:te},Ie,tt=tn){var ot;const{appId:sn,measurementId:Yn}=k;try{yield function fl(k,H){return new Promise((te,Ie)=>{const tt=Math.max(H-Date.now(),0),ot=setTimeout(te,tt);k.addEventListener(()=>{clearTimeout(ot),Ie(Ar.create("fetch-throttle",{throttleEndTimeMillis:H}))})})}(Ie,H)}catch(Sn){if(Yn)return Ui.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Yn} provided in the "measurementId" field in the local Firebase config. [${Sn?.message}]`),{appId:sn,measurementId:Yn};throw Sn}try{const Sn=yield function yu(k){return Fn.apply(this,arguments)}(k);return tt.deleteThrottleMetadata(sn),Sn}catch(Sn){const ar=Sn;if(!function Tl(k){if(!(k instanceof re.ZR&&k.customData))return!1;const H=Number(k.customData.httpStatus);return 429===H||500===H||503===H||504===H}(ar)){if(tt.deleteThrottleMetadata(sn),Yn)return Ui.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Yn} provided in the "measurementId" field in the local Firebase config. [${ar?.message}]`),{appId:sn,measurementId:Yn};throw Sn}const Kr=503===Number(null===(ot=ar?.customData)||void 0===ot?void 0:ot.httpStatus)?(0,re.$s)(te,tt.intervalMillis,Js):(0,re.$s)(te,tt.intervalMillis),Lr={throttleEndTimeMillis:Date.now()+Kr,backoffCount:te+1};return tt.setThrottleMetadata(sn,Lr),Ui.debug(`Calling attemptFetch again in ${Kr} millis`),No(k,Lr,Ie,tt)}}),$u.apply(this,arguments)}class kl{constructor(){this.listeners=[]}addEventListener(H){this.listeners.push(H)}abort(){this.listeners.forEach(H=>H())}}let Qs,vi;function lu(){return(lu=(0,ee.Z)(function*(k,H,te,Ie,tt){if(tt&&tt.global)k("event",te,Ie);else{const ot=yield H;k("event",te,Object.assign(Object.assign({},Ie),{send_to:ot}))}})).apply(this,arguments)}function Za(){return(Za=(0,ee.Z)(function*(){if(!(0,re.hl)())return Ui.warn(Ar.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,re.eu)()}catch(k){return Ui.warn(Ar.create("indexeddb-unavailable",{errorInfo:k?.toString()}).message),!1}return!0})).apply(this,arguments)}function ka(){return ka=(0,ee.Z)(function*(k,H,te,Ie,tt,ot,sn){var Yn;const Sn=function Nt(k){return rn.apply(this,arguments)}(k);Sn.then(Da=>{te[Da.measurementId]=Da.appId,k.options.measurementId&&Da.measurementId!==k.options.measurementId&&Ui.warn(`The measurement ID in the local Firebase config (${k.options.measurementId}) does not match the measurement ID fetched from the server (${Da.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Da=>Ui.error(Da)),H.push(Sn);const ar=function mn(){return Za.apply(this,arguments)}().then(Da=>{if(Da)return Ie.getId()}),[Kr,Lr]=yield Promise.all([Sn,ar]);(function gn(k){const H=window.document.getElementsByTagName("script");for(const te of Object.values(H))if(te.src&&te.src.includes(Uo)&&te.src.includes(k))return te;return null})(ot)||function ju(k,H){const te=function Yo(k,H){let te;return window.trustedTypes&&(te=window.trustedTypes.createPolicy(k,H)),te}("firebase-js-sdk-policy",{createScriptURL:yi}),Ie=document.createElement("script"),tt=`${Uo}?l=${k}&id=${H}`;Ie.src=te?te?.createScriptURL(tt):tt,Ie.async=!0,document.head.appendChild(Ie)}(ot,Kr.measurementId),vi&&(tt("consent","default",vi),function Qc(k){vi=k}(void 0)),tt("js",new Date);const ea=null!==(Yn=sn?.config)&&void 0!==Yn?Yn:{};return ea[Ds]="firebase",ea.update=!0,null!=Lr&&(ea[Pr]=Lr),tt("config",Kr.measurementId,ea),Qs&&(tt("set",Qs),function Xs(k){Qs=k}(void 0)),Kr.measurementId}),ka.apply(this,arguments)}class zd{constructor(H){this.app=H}_delete(){return delete Do[this.app.options.appId],Promise.resolve()}}let Do={},nc=[];const Fa={};let Ja,gs,zu="dataLayer",Xc="gtag",Cl=!1;function wa(k,H,te){!function Wu(){const k=[];if((0,re.ru)()&&k.push("This is a browser extension environment."),(0,re.zI)()||k.push("Cookies are not available."),k.length>0){const H=k.map((Ie,tt)=>`(${tt+1}) ${Ie}`).join(" "),te=Ar.create("invalid-analytics-context",{errorInfo:H});Ui.warn(te.message)}}();const Ie=k.options.appId;if(!Ie)throw Ar.create("no-app-id");if(!k.options.apiKey){if(!k.options.measurementId)throw Ar.create("no-api-key");Ui.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${k.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Do[Ie])throw Ar.create("already-exists",{id:Ie});if(!Cl){!function Cu(k){let H=[];Array.isArray(window[k])?H=window[k]:window[k]=H}(zu);const{wrappedGtag:ot,gtagCore:sn}=function Iu(k,H,te,Ie,tt){let ot=function(...sn){window[Ie].push(arguments)};return window[tt]&&"function"==typeof window[tt]&&(ot=window[tt]),window[tt]=function uu(k,H,te,Ie){function ot(){return ot=(0,ee.Z)(function*(sn,...Yn){try{if("event"===sn){const[Sn,ar]=Yn;yield function ss(k,H,te,Ie,tt){return Cs.apply(this,arguments)}(k,H,te,Sn,ar)}else if("config"===sn){const[Sn,ar]=Yn;yield function Jc(k,H,te,Ie,tt,ot){return yo.apply(this,arguments)}(k,H,te,Ie,Sn,ar)}else if("consent"===sn){const[Sn]=Yn;k("consent","update",Sn)}else if("get"===sn){const[Sn,ar,Kr]=Yn;k("get",Sn,ar,Kr)}else if("set"===sn){const[Sn]=Yn;k("set",Sn)}else k(sn,...Yn)}catch(Sn){Ui.error(Sn)}}),ot.apply(this,arguments)}return function tt(sn){return ot.apply(this,arguments)}}(ot,k,H,te),{gtagCore:ot,wrappedGtag:window[tt]}}(Do,nc,Fa,zu,Xc);gs=ot,Ja=sn,Cl=!0}return Do[Ie]=function tc(k,H,te,Ie,tt,ot,sn){return ka.apply(this,arguments)}(k,nc,Fa,H,Ja,zu,te),new zd(k)}function ia(){return S.apply(this,arguments)}function S(){return(S=(0,ee.Z)(function*(){if((0,re.ru)()||!(0,re.zI)()||!(0,re.hl)())return!1;try{return yield(0,re.eu)()}catch{return!1}})).apply(this,arguments)}const Jn="@firebase/analytics";!function uo(){(0,fe._registerComponent)(new Te.wA(Fr,(H,{options:te})=>wa(H.getProvider("app").getImmediate(),H.getProvider("installations-internal").getImmediate(),te),"PUBLIC")),(0,fe._registerComponent)(new Te.wA("analytics-internal",function k(H){try{const te=H.getProvider(Fr).getImmediate();return{logEvent:(Ie,tt,ot)=>function nn(k,H,te,Ie){k=(0,re.m9)(k),function Pa(k,H,te,Ie,tt){return lu.apply(this,arguments)}(gs,Do[k.app.options.appId],H,te,Ie).catch(tt=>Ui.error(tt))}(te,Ie,tt,ot)}}catch(te){throw Ar.create("interop-component-reg-failed",{reason:te})}},"PRIVATE")),(0,fe.registerVersion)(Jn,"0.10.0"),(0,fe.registerVersion)(Jn,"0.10.0","esm2017")}();var cs=Y(5417),Ea=Y(1010);const Au=new class Ji extends Ea.v{}(class sa extends cs.o{constructor(H,te){super(H,te),this.scheduler=H,this.work=te}schedule(H,te=0){return te>0?super.schedule(H,te):(this.delay=te,this.state=H,this.scheduler.flush(this),this)}execute(H,te){return te>0||this.closed?super.execute(H,te):this._execute(H,te)}requestAsyncId(H,te,Ie=0){return null!=Ie&&Ie>0||null==Ie&&this.delay>0?super.requestAsyncId(H,te,Ie):(H.flush(this),0)}});var Ku=Y(6936),vu=Y(9337),Mu=Y(4317),ed=Y(8728);const td=new a.GfV("7.6.1"),ci="__angularfire_symbol__analyticsIsSupportedValue",pl="__angularfire_symbol__analyticsIsSupported",rc="__angularfire_symbol__remoteConfigIsSupportedValue",Jo="__angularfire_symbol__remoteConfigIsSupported",Il="__angularfire_symbol__messagingIsSupportedValue",qu="__angularfire_symbol__messagingIsSupported";function rd(k,H,te){if(H){if(1===H.length)return H[0];const ot=H.filter(sn=>sn.app===te);if(1===ot.length)return ot[0]}return te.container.getProvider(k).getImmediate({optional:!0})}globalThis[pl]||(globalThis[pl]=ia().then(k=>globalThis[ci]=k).catch(()=>globalThis[ci]=!1)),globalThis[qu]||(globalThis[qu]=x().then(k=>globalThis[Il]=k).catch(()=>globalThis[Il]=!1)),globalThis[Jo]||(globalThis[Jo]=ma().then(k=>globalThis[rc]=k).catch(()=>globalThis[rc]=!1));const Qa=(k,H)=>{const te=H?[H]:(0,V.C6)(),Ie=[];return te.forEach(tt=>{tt.container.getProvider(k).instances.forEach(sn=>{Ie.includes(sn)||Ie.push(sn)})}),Ie};function Ll(){}class mc{constructor(H,te=Au){this.zone=H,this.delegate=te}now(){return this.delegate.now()}schedule(H,te,Ie){const tt=this.zone;return this.delegate.schedule(function(sn){tt.runGuarded(()=>{H.apply(this,[sn])})},te,Ie)}}class wd{constructor(H){this.zone=H,this.task=null}call(H,te){const Ie=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ll,{},Ll,Ll)),te.pipe((0,vu.b)({next:Ie,complete:Ie,error:Ie})).subscribe(H).add(Ie)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let kc=(()=>{class k{constructor(te){this.ngZone=te,this.outsideAngular=te.runOutsideAngular(()=>new mc(Zone.current)),this.insideAngular=te.run(()=>new mc(Zone.current,Ku.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return k.\u0275fac=function(te){return new(te||k)(a.LFG(a.R0b))},k.\u0275prov=a.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})();function Xa(){const k=globalThis.\u0275AngularFireScheduler;if(!k)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return k}function xs(k){return Xa(),function Zu(k){return function(te){return(te=te.lift(new wd(k.ngZone))).pipe((0,Mu.R)(k.outsideAngular),(0,ed.Q)(k.insideAngular))}}(Xa())(k)}},2471:(Nn,lt,Y)=>{"use strict";Y.d(lt,{Mf:()=>Te});var a=Y(2560);let Te=(()=>{class je{}return je.\u0275fac=function(et){return new(et||je)},je.\u0275mod=a.oAB({type:je}),je.\u0275inj=a.cJS({imports:[[]]}),je})()},7748:(Nn,lt,Y)=>{"use strict";Y.d(lt,{$s:()=>Le,BH:()=>Je,G6:()=>Ot,L:()=>et,LL:()=>yn,Pz:()=>Se,Sg:()=>Yt,UG:()=>Ye,US:()=>Te,ZB:()=>xe,ZR:()=>hn,aH:()=>ct,b$:()=>Bn,eu:()=>Wt,hl:()=>Ct,jU:()=>Zt,m9:()=>qt,ne:()=>br,pd:()=>Gs,r3:()=>ii,ru:()=>en,tV:()=>De,uI:()=>ft,vZ:()=>wn,w1:()=>qi,xO:()=>Vr,xb:()=>di,z$:()=>Ut,zI:()=>Lt,zd:()=>bi});const fe=function(Ee){const ve=[];let Oe=0;for(let ut=0;ut<Ee.length;ut++){let ze=Ee.charCodeAt(ut);ze<128?ve[Oe++]=ze:ze<2048?(ve[Oe++]=ze>>6|192,ve[Oe++]=63&ze|128):55296==(64512&ze)&&ut+1<Ee.length&&56320==(64512&Ee.charCodeAt(ut+1))?(ze=65536+((1023&ze)<<10)+(1023&Ee.charCodeAt(++ut)),ve[Oe++]=ze>>18|240,ve[Oe++]=ze>>12&63|128,ve[Oe++]=ze>>6&63|128,ve[Oe++]=63&ze|128):(ve[Oe++]=ze>>12|224,ve[Oe++]=ze>>6&63|128,ve[Oe++]=63&ze|128)}return ve},Te={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Ee,ve){if(!Array.isArray(Ee))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Oe=ve?this.byteToCharMapWebSafe_:this.byteToCharMap_,ut=[];for(let ze=0;ze<Ee.length;ze+=3){const on=Ee[ze],ke=ze+1<Ee.length,Me=ke?Ee[ze+1]:0,ge=ze+2<Ee.length,Re=ge?Ee[ze+2]:0;let Vn=(15&Me)<<2|Re>>6,Ir=63&Re;ge||(Ir=64,ke||(Vn=64)),ut.push(Oe[on>>2],Oe[(3&on)<<4|Me>>4],Oe[Vn],Oe[Ir])}return ut.join("")},encodeString(Ee,ve){return this.HAS_NATIVE_SUPPORT&&!ve?btoa(Ee):this.encodeByteArray(fe(Ee),ve)},decodeString(Ee,ve){return this.HAS_NATIVE_SUPPORT&&!ve?atob(Ee):function(Ee){const ve=[];let Oe=0,ut=0;for(;Oe<Ee.length;){const ze=Ee[Oe++];if(ze<128)ve[ut++]=String.fromCharCode(ze);else if(ze>191&&ze<224){const on=Ee[Oe++];ve[ut++]=String.fromCharCode((31&ze)<<6|63&on)}else if(ze>239&&ze<365){const ge=((7&ze)<<18|(63&Ee[Oe++])<<12|(63&Ee[Oe++])<<6|63&Ee[Oe++])-65536;ve[ut++]=String.fromCharCode(55296+(ge>>10)),ve[ut++]=String.fromCharCode(56320+(1023&ge))}else{const on=Ee[Oe++],ke=Ee[Oe++];ve[ut++]=String.fromCharCode((15&ze)<<12|(63&on)<<6|63&ke)}}return ve.join("")}(this.decodeStringToByteArray(Ee,ve))},decodeStringToByteArray(Ee,ve){this.init_();const Oe=ve?this.charToByteMapWebSafe_:this.charToByteMap_,ut=[];for(let ze=0;ze<Ee.length;){const on=Oe[Ee.charAt(ze++)],Me=ze<Ee.length?Oe[Ee.charAt(ze)]:0;++ze;const Re=ze<Ee.length?Oe[Ee.charAt(ze)]:64;++ze;const Xt=ze<Ee.length?Oe[Ee.charAt(ze)]:64;if(++ze,null==on||null==Me||null==Re||null==Xt)throw new je;ut.push(on<<2|Me>>4),64!==Re&&(ut.push(Me<<4&240|Re>>2),64!==Xt&&ut.push(Re<<6&192|Xt))}return ut},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ee=0;Ee<this.ENCODED_VALS.length;Ee++)this.byteToCharMap_[Ee]=this.ENCODED_VALS.charAt(Ee),this.charToByteMap_[this.byteToCharMap_[Ee]]=Ee,this.byteToCharMapWebSafe_[Ee]=this.ENCODED_VALS_WEBSAFE.charAt(Ee),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ee]]=Ee,Ee>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ee)]=Ee,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ee)]=Ee)}}};class je extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const et=function(Ee){return function(Ee){const ve=fe(Ee);return Te.encodeByteArray(ve,!0)}(Ee).replace(/\./g,"")},De=function(Ee){try{return Te.decodeString(Ee,!0)}catch(ve){console.error("base64Decode failed: ",ve)}return null};function xe(Ee,ve){if(!(ve instanceof Object))return ve;switch(ve.constructor){case Date:return new Date(ve.getTime());case Object:void 0===Ee&&(Ee={});break;case Array:Ee=[];break;default:return ve}for(const Oe in ve)!ve.hasOwnProperty(Oe)||!Vt(Oe)||(Ee[Oe]=xe(Ee[Oe],ve[Oe]));return Ee}function Vt(Ee){return"__proto__"!==Ee}const ht=()=>{try{return function st(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Ee=process.env.__FIREBASE_DEFAULTS__;return Ee?JSON.parse(Ee):void 0})()||(()=>{if(typeof document>"u")return;let Ee;try{Ee=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ve=Ee&&De(Ee[1]);return ve&&JSON.parse(ve)})()}catch(Ee){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Ee}`)}},ct=()=>{var Ee;return null===(Ee=ht())||void 0===Ee?void 0:Ee.config},Se=Ee=>{var ve;return null===(ve=ht())||void 0===ve?void 0:ve[`_${Ee}`]};class Je{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ve,Oe)=>{this.resolve=ve,this.reject=Oe})}wrapCallback(ve){return(Oe,ut)=>{Oe?this.reject(Oe):this.resolve(ut),"function"==typeof ve&&(this.promise.catch(()=>{}),1===ve.length?ve(Oe):ve(Oe,ut))}}}function Yt(Ee,ve){if(Ee.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ut=ve||"demo-project",ze=Ee.iat||0,on=Ee.sub||Ee.user_id;if(!on)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ke=Object.assign({iss:`https://securetoken.google.com/${ut}`,aud:ut,iat:ze,exp:ze+3600,auth_time:ze,sub:on,user_id:on,firebase:{sign_in_provider:"custom",identities:{}}},Ee);return[et(JSON.stringify({alg:"none",type:"JWT"})),et(JSON.stringify(ke)),""].join(".")}function Ut(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ft(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ut())}function Ye(){var Ee;const ve=null===(Ee=ht())||void 0===Ee?void 0:Ee.forceEnvironment;if("node"===ve)return!0;if("browser"===ve)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Zt(){return"object"==typeof self&&self.self===self}function en(){const Ee="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ee&&void 0!==Ee.id}function Bn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function qi(){const Ee=Ut();return Ee.indexOf("MSIE ")>=0||Ee.indexOf("Trident/")>=0}function Ot(){return!Ye()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ct(){try{return"object"==typeof indexedDB}catch{return!1}}function Wt(){return new Promise((Ee,ve)=>{try{let Oe=!0;const ut="validate-browser-context-for-indexeddb-analytics-module",ze=self.indexedDB.open(ut);ze.onsuccess=()=>{ze.result.close(),Oe||self.indexedDB.deleteDatabase(ut),Ee(!0)},ze.onupgradeneeded=()=>{Oe=!1},ze.onerror=()=>{var on;ve((null===(on=ze.error)||void 0===on?void 0:on.message)||"")}}catch(Oe){ve(Oe)}})}function Lt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class hn extends Error{constructor(ve,Oe,ut){super(Oe),this.code=ve,this.customData=ut,this.name="FirebaseError",Object.setPrototypeOf(this,hn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yn.prototype.create)}}class yn{constructor(ve,Oe,ut){this.service=ve,this.serviceName=Oe,this.errors=ut}create(ve,...Oe){const ut=Oe[0]||{},ze=`${this.service}/${ve}`,on=this.errors[ve],ke=on?function vn(Ee,ve){return Ee.replace(Ge,(Oe,ut)=>{const ze=ve[ut];return null!=ze?String(ze):`<${ut}?>`})}(on,ut):"Error";return new hn(ze,`${this.serviceName}: ${ke} (${ze}).`,ut)}}const Ge=/\{\$([^}]+)}/g;function ii(Ee,ve){return Object.prototype.hasOwnProperty.call(Ee,ve)}function di(Ee){for(const ve in Ee)if(Object.prototype.hasOwnProperty.call(Ee,ve))return!1;return!0}function wn(Ee,ve){if(Ee===ve)return!0;const Oe=Object.keys(Ee),ut=Object.keys(ve);for(const ze of Oe){if(!ut.includes(ze))return!1;const on=Ee[ze],ke=ve[ze];if(jr(on)&&jr(ke)){if(!wn(on,ke))return!1}else if(on!==ke)return!1}for(const ze of ut)if(!Oe.includes(ze))return!1;return!0}function jr(Ee){return null!==Ee&&"object"==typeof Ee}function Vr(Ee){const ve=[];for(const[Oe,ut]of Object.entries(Ee))Array.isArray(ut)?ut.forEach(ze=>{ve.push(encodeURIComponent(Oe)+"="+encodeURIComponent(ze))}):ve.push(encodeURIComponent(Oe)+"="+encodeURIComponent(ut));return ve.length?"&"+ve.join("&"):""}function bi(Ee){const ve={};return Ee.replace(/^\?/,"").split("&").forEach(ut=>{if(ut){const[ze,on]=ut.split("=");ve[decodeURIComponent(ze)]=decodeURIComponent(on)}}),ve}function Gs(Ee){const ve=Ee.indexOf("?");if(!ve)return"";const Oe=Ee.indexOf("#",ve);return Ee.substring(ve,Oe>0?Oe:void 0)}function br(Ee,ve){const Oe=new In(Ee,ve);return Oe.subscribe.bind(Oe)}class In{constructor(ve,Oe){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Oe,this.task.then(()=>{ve(this)}).catch(ut=>{this.error(ut)})}next(ve){this.forEachObserver(Oe=>{Oe.next(ve)})}error(ve){this.forEachObserver(Oe=>{Oe.error(ve)}),this.close(ve)}complete(){this.forEachObserver(ve=>{ve.complete()}),this.close()}subscribe(ve,Oe,ut){let ze;if(void 0===ve&&void 0===Oe&&void 0===ut)throw new Error("Missing Observer.");ze=function si(Ee,ve){if("object"!=typeof Ee||null===Ee)return!1;for(const Oe of ve)if(Oe in Ee&&"function"==typeof Ee[Oe])return!0;return!1}(ve,["next","error","complete"])?ve:{next:ve,error:Oe,complete:ut},void 0===ze.next&&(ze.next=ei),void 0===ze.error&&(ze.error=ei),void 0===ze.complete&&(ze.complete=ei);const on=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ze.error(this.finalError):ze.complete()}catch{}}),this.observers.push(ze),on}unsubscribeOne(ve){void 0===this.observers||void 0===this.observers[ve]||(delete this.observers[ve],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ve){if(!this.finalized)for(let Oe=0;Oe<this.observers.length;Oe++)this.sendOne(Oe,ve)}sendOne(ve,Oe){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ve])try{Oe(this.observers[ve])}catch(ut){typeof console<"u"&&console.error&&console.error(ut)}})}close(ve){this.finalized||(this.finalized=!0,void 0!==ve&&(this.finalError=ve),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ei(){}const Rr=1e3,oi=2,pi=144e5,At=.5;function Le(Ee,ve=Rr,Oe=oi){const ut=ve*Math.pow(Oe,Ee),ze=Math.round(At*ut*(Math.random()-.5)*2);return Math.min(pi,ut+ze)}function qt(Ee){return Ee&&Ee._delegate?Ee._delegate:Ee}},8784:(Nn,lt,Y)=>{"use strict";Y.d(lt,{lW:()=>Te});const a={_origin:"https://api.emailjs.com"};class fe{constructor(be){this.status=be.status,this.text=be.responseText}}const Te=(De,be,xe,Vt)=>{const st=Vt||a._userID;return((De,be,xe)=>{if(!De)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!be)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!xe)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"})(st,De,be),((De,be,xe={})=>new Promise((Vt,st)=>{const Ft=new XMLHttpRequest;Ft.addEventListener("load",({target:Gt})=>{const at=new fe(Gt);200===at.status||"OK"===at.text?Vt(at):st(at)}),Ft.addEventListener("error",({target:Gt})=>{st(new fe(Gt))}),Ft.open("POST",a._origin+De,!0),Object.keys(xe).forEach(Gt=>{Ft.setRequestHeader(Gt,xe[Gt])}),Ft.send(be)}))("/api/v1.0/email/send",JSON.stringify({lib_version:"3.2.0",user_id:st,service_id:De,template_id:be,template_params:xe}),{"Content-type":"application/json"})}},2938:function(Nn,lt,Y){var a;Nn=Y.nmd(Nn),function(){var V,fe=200,Te="Expected a function",$e="__lodash_hash_undefined__",De="__lodash_placeholder__",be=1,xe=2,Vt=4,st=1,Ft=2,Gt=1,at=2,ht=4,Ce=8,Kt=16,ct=32,Se=64,Je=128,Yt=256,Ut=512,Zt=800,en=16,It=1/0,_t=9007199254740991,Ot=17976931348623157e292,Ct=NaN,Wt=4294967295,Lt=Wt-1,$t=Wt>>>1,hn=[["ary",Je],["bind",Gt],["bindKey",at],["curry",Ce],["curryRight",Kt],["flip",Ut],["partial",ct],["partialRight",Se],["rearg",Yt]],yn="[object Arguments]",vn="[object Array]",Ge="[object AsyncFunction]",yt="[object Boolean]",Ke="[object Date]",pt="[object DOMException]",Tn="[object Error]",zn="[object Function]",jn="[object GeneratorFunction]",pr="[object Map]",ii="[object Number]",rs="[object Null]",di="[object Object]",Jt="[object Promise]",wn="[object Proxy]",jr="[object RegExp]",hi="[object Set]",Vr="[object String]",bi="[object Symbol]",Gs="[object Undefined]",fr="[object WeakMap]",In="[object ArrayBuffer]",bn="[object DataView]",si="[object Float32Array]",ei="[object Float64Array]",Wn="[object Int8Array]",fi="[object Int16Array]",Ii="[object Int32Array]",Pi="[object Uint8Array]",xr="[object Uint8ClampedArray]",fs="[object Uint16Array]",wr="[object Uint32Array]",vs=/\b__p \+= '';/g,Rr=/\b(__p \+=) '' \+/g,oi=/(__e\(.*?\)|\b__t\)) \+\n'';/g,pi=/&(?:amp|lt|gt|quot|#39);/g,At=/[&<>"']/g,Le=RegExp(pi.source),Ue=RegExp(At.source),ln=/<%-([\s\S]+?)%>/g,qt=/<%([\s\S]+?)%>/g,Ee=/<%=([\s\S]+?)%>/g,ve=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Oe=/^\w*$/,ut=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ze=/[\\^$.*+?()[\]{}|]/g,on=RegExp(ze.source),ke=/^\s+/,Me=/\s/,ge=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Re=/\{\n\/\* \[wrapped with (.+)\] \*/,mt=/,? & /,Xt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Vn=/[()=,{}\[\]\/\s]/,Ir=/\\(\\)?/g,gi=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ws=/\w*$/,St=/^[-+]0x[0-9a-f]+$/i,dt=/^0b[01]+$/i,an=/^\[object .+?Constructor\]$/,Kn=/^0o[0-7]+$/i,tr=/^(?:0|[1-9]\d*)$/,gr=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Zn=/($^)/,ai=/['\n\r\u2028\u2029\\]/g,Ur="\\ud800-\\udfff",Wo="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Aa="\\u2700-\\u27bf",as="a-z\\xdf-\\xf6\\xf8-\\xff",$r="A-Z\\xc0-\\xd6\\xd8-\\xde",Yi="\\ufe0e\\ufe0f",Ts="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ks="["+Ur+"]",Is="["+Ts+"]",Er="["+Wo+"]",bo="\\d+",qs="["+Aa+"]",no="["+as+"]",ro="[^"+Ur+Ts+bo+Aa+as+$r+"]",zr="\\ud83c[\\udffb-\\udfff]",io="[^"+Ur+"]",js="(?:\\ud83c[\\udde6-\\uddff]){2}",ko="[\\ud800-\\udbff][\\udc00-\\udfff]",Zi="["+$r+"]",so="(?:"+no+"|"+ro+")",po="(?:"+Zi+"|"+ro+")",Qe="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",We="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",gt="(?:"+Er+"|"+zr+")?",zt="["+Yi+"]?",Tr=zt+gt+"(?:\\u200d(?:"+[io,js,ko].join("|")+")"+zt+gt+")*",qr="(?:"+[qs,js,ko].join("|")+")"+Tr,bs="(?:"+[io+Er+"?",Er,js,ko,Ks].join("|")+")",Fo=RegExp("['\u2019]","g"),mi=RegExp(Er,"g"),fa=RegExp(zr+"(?="+zr+")|"+bs+Tr,"g"),Lo=RegExp([Zi+"?"+no+"+"+Qe+"(?="+[Is,Zi,"$"].join("|")+")",po+"+"+We+"(?="+[Is,Zi+so,"$"].join("|")+")",Zi+"?"+so+"+"+Qe,Zi+"+"+We,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",bo,qr].join("|"),"g"),Bo=RegExp("[\\u200d"+Ur+Wo+Yi+"]"),gu=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Co=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Na=-1,ti={};ti[si]=ti[ei]=ti[Wn]=ti[fi]=ti[Ii]=ti[Pi]=ti[xr]=ti[fs]=ti[wr]=!0,ti[yn]=ti[vn]=ti[In]=ti[yt]=ti[bn]=ti[Ke]=ti[Tn]=ti[zn]=ti[pr]=ti[ii]=ti[di]=ti[jr]=ti[hi]=ti[Vr]=ti[fr]=!1;var $i={};$i[yn]=$i[vn]=$i[In]=$i[bn]=$i[yt]=$i[Ke]=$i[si]=$i[ei]=$i[Wn]=$i[fi]=$i[Ii]=$i[pr]=$i[ii]=$i[di]=$i[jr]=$i[hi]=$i[Vr]=$i[bi]=$i[Pi]=$i[xr]=$i[fs]=$i[wr]=!0,$i[Tn]=$i[zn]=$i[fr]=!1;var Uu={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Hu=parseFloat,Io=parseInt,Ss="object"==typeof global&&global&&global.Object===Object&&global,mu="object"==typeof self&&self&&self.Object===Object&&self,ps=Ss||mu||Function("return this")(),ga=lt&&!lt.nodeType&&lt,Bi=ga&&Nn&&!Nn.nodeType&&Nn,Ma=Bi&&Bi.exports===ga,xi=Ma&&Ss.process,ki=function(){try{return Bi&&Bi.require&&Bi.require("util").types||xi&&xi.binding&&xi.binding("util")}catch{}}(),oo=ki&&ki.isArrayBuffer,ma=ki&&ki.isDate,ja=ki&&ki.isMap,ou=ki&&ki.isRegExp,$a=ki&&ki.isSet,So=ki&&ki.isTypedArray;function $s(qe,Rt,Tt){switch(Tt.length){case 0:return qe.call(Rt);case 1:return qe.call(Rt,Tt[0]);case 2:return qe.call(Rt,Tt[0],Tt[1]);case 3:return qe.call(Rt,Tt[0],Tt[1],Tt[2])}return qe.apply(Rt,Tt)}function wo(qe,Rt,Tt,Pn){for(var yr=-1,Yr=null==qe?0:qe.length;++yr<Yr;){var ui=qe[yr];Rt(Pn,ui,Tt(ui),qe)}return Pn}function go(qe,Rt){for(var Tt=-1,Pn=null==qe?0:qe.length;++Tt<Pn&&!1!==Rt(qe[Tt],Tt,qe););return qe}function za(qe,Rt){for(var Tt=null==qe?0:qe.length;Tt--&&!1!==Rt(qe[Tt],Tt,qe););return qe}function Ls(qe,Rt){for(var Tt=-1,Pn=null==qe?0:qe.length;++Tt<Pn;)if(!Rt(qe[Tt],Tt,qe))return!1;return!0}function us(qe,Rt){for(var Tt=-1,Pn=null==qe?0:qe.length,yr=0,Yr=[];++Tt<Pn;){var ui=qe[Tt];Rt(ui,Tt,qe)&&(Yr[yr++]=ui)}return Yr}function ws(qe,Rt){return!(null==qe||!qe.length)&&Os(qe,Rt,0)>-1}function Ai(qe,Rt,Tt){for(var Pn=-1,yr=null==qe?0:qe.length;++Pn<yr;)if(Tt(Rt,qe[Pn]))return!0;return!1}function Ei(qe,Rt){for(var Tt=-1,Pn=null==qe?0:qe.length,yr=Array(Pn);++Tt<Pn;)yr[Tt]=Rt(qe[Tt],Tt,qe);return yr}function is(qe,Rt){for(var Tt=-1,Pn=Rt.length,yr=qe.length;++Tt<Pn;)qe[yr+Tt]=Rt[Tt];return qe}function As(qe,Rt,Tt,Pn){var yr=-1,Yr=null==qe?0:qe.length;for(Pn&&Yr&&(Tt=qe[++yr]);++yr<Yr;)Tt=Rt(Tt,qe[yr],yr,qe);return Tt}function Wa(qe,Rt,Tt,Pn){var yr=null==qe?0:qe.length;for(Pn&&yr&&(Tt=qe[--yr]);yr--;)Tt=Rt(Tt,qe[yr],yr,qe);return Tt}function Oa(qe,Rt){for(var Tt=-1,Pn=null==qe?0:qe.length;++Tt<Pn;)if(Rt(qe[Tt],Tt,qe))return!0;return!1}var mo=ao("length");function Ko(qe,Rt,Tt){var Pn;return Tt(qe,function(yr,Yr,ui){if(Rt(yr,Yr,ui))return Pn=Yr,!1}),Pn}function Vo(qe,Rt,Tt,Pn){for(var yr=qe.length,Yr=Tt+(Pn?1:-1);Pn?Yr--:++Yr<yr;)if(Rt(qe[Yr],Yr,qe))return Yr;return-1}function Os(qe,Rt,Tt){return Rt==Rt?function Be(qe,Rt,Tt){for(var Pn=Tt-1,yr=qe.length;++Pn<yr;)if(qe[Pn]===Rt)return Pn;return-1}(qe,Rt,Tt):Vo(qe,ya,Tt)}function _a(qe,Rt,Tt,Pn){for(var yr=Tt-1,Yr=qe.length;++yr<Yr;)if(Pn(qe[yr],Rt))return yr;return-1}function ya(qe){return qe!=qe}function _r(qe,Rt){var Tt=null==qe?0:qe.length;return Tt?le(qe,Rt)/Tt:Ct}function ao(qe){return function(Rt){return null==Rt?V:Rt[qe]}}function K(qe){return function(Rt){return null==qe?V:qe[Rt]}}function z(qe,Rt,Tt,Pn,yr){return yr(qe,function(Yr,ui,lr){Tt=Pn?(Pn=!1,Yr):Rt(Tt,Yr,ui,lr)}),Tt}function le(qe,Rt){for(var Tt,Pn=-1,yr=qe.length;++Pn<yr;){var Yr=Rt(qe[Pn]);Yr!==V&&(Tt=Tt===V?Yr:Tt+Yr)}return Tt}function Pt(qe,Rt){for(var Tt=-1,Pn=Array(qe);++Tt<qe;)Pn[Tt]=Rt(Tt);return Pn}function Es(qe){return qe&&qe.slice(0,Hn(qe)+1).replace(ke,"")}function xt(qe){return function(Rt){return qe(Rt)}}function Hr(qe,Rt){return Ei(Rt,function(Tt){return qe[Tt]})}function _o(qe,Rt){return qe.has(Rt)}function Ka(qe,Rt){for(var Tt=-1,Pn=qe.length;++Tt<Pn&&Os(Rt,qe[Tt],0)>-1;);return Tt}function ls(qe,Rt){for(var Tt=qe.length;Tt--&&Os(Rt,qe[Tt],0)>-1;);return Tt}var va=K({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),Eo=K({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function ra(qe){return"\\"+Uu[qe]}function hl(qe){return Bo.test(qe)}function I(qe){var Rt=-1,Tt=Array(qe.size);return qe.forEach(function(Pn,yr){Tt[++Rt]=[yr,Pn]}),Tt}function M(qe,Rt){return function(Tt){return qe(Rt(Tt))}}function $(qe,Rt){for(var Tt=-1,Pn=qe.length,yr=0,Yr=[];++Tt<Pn;){var ui=qe[Tt];(ui===Rt||ui===De)&&(qe[Tt]=De,Yr[yr++]=Tt)}return Yr}function ne(qe){var Rt=-1,Tt=Array(qe.size);return qe.forEach(function(Pn){Tt[++Rt]=Pn}),Tt}function wt(qe){return hl(qe)?function Wr(qe){for(var Rt=fa.lastIndex=0;fa.test(qe);)++Rt;return Rt}(qe):mo(qe)}function Ht(qe){return hl(qe)?function kr(qe){return qe.match(fa)||[]}(qe):function Ys(qe){return qe.split("")}(qe)}function Hn(qe){for(var Rt=qe.length;Rt--&&Me.test(qe.charAt(Rt)););return Rt}var qn=K({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),ni=function qe(Rt){var c,Tt=(Rt=null==Rt?ps:ni.defaults(ps.Object(),Rt,ni.pick(ps,Co))).Array,Pn=Rt.Date,yr=Rt.Error,Yr=Rt.Function,ui=Rt.Math,lr=Rt.Object,Bs=Rt.RegExp,Vi=Rt.String,Rs=Rt.TypeError,_u=Tt.prototype,ba=lr.prototype,Fi=Rt["__core-js_shared__"],sr=Yr.prototype.toString,On=ba.hasOwnProperty,hr=0,li=(c=/[^.]+$/.exec(Fi&&Fi.keys&&Fi.keys.IE_PROTO||""))?"Symbol(src)_1."+c:"",x=ba.toString,J=sr.call(lr),B=ps._,ue=Bs("^"+sr.call(On).replace(ze,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),we=Ma?Rt.Buffer:V,Et=Rt.Symbol,jt=Rt.Uint8Array,kn=we?we.allocUnsafe:V,_i=M(lr.getPrototypeOf,lr),Br=lr.create,Fr=ba.propertyIsEnumerable,Pr=_u.splice,Ds=Et?Et.isConcatSpreadable:V,Ni=Et?Et.iterator:V,Zr=Et?Et.toStringTag:V,Uo=function(){try{var c=vl(lr,"defineProperty");return c({},"",{}),c}catch{}}(),Ui=Rt.clearTimeout!==ps.clearTimeout&&Rt.clearTimeout,qo=Pn&&Pn.now!==ps.Date.now&&Pn.now,Ar=Rt.setTimeout!==ps.setTimeout&&Rt.setTimeout,yi=ui.ceil,Zs=ui.floor,Yo=lr.getOwnPropertySymbols,ju=we?we.isBuffer:V,Cu=Rt.isFinite,Jc=_u.join,yo=M(lr.keys,lr),ss=ui.max,Cs=ui.min,uu=Pn.now,Iu=Rt.parseInt,gn=ui.random,Js=_u.reverse,Ao=vl(Rt,"DataView"),qa=vl(Rt,"Map"),tn=vl(Rt,"Promise"),cr=vl(Rt,"Set"),yu=vl(Rt,"WeakMap"),Fn=vl(lr,"create"),Nt=yu&&new yu,rn={},No=Ne(Ao),$u=Ne(qa),fl=Ne(tn),Tl=Ne(cr),kl=Ne(yu),Qs=Et?Et.prototype:V,Pa=Qs?Qs.valueOf:V,lu=Qs?Qs.toString:V;function he(c){if(Ia(c)&&!Gi(c)&&!(c instanceof Un)){if(c instanceof Ho)return c;if(On.call(c,"__wrapped__"))return _n(c)}return new Ho(c)}var cu=function(){function c(){}return function(g){if(!$o(g))return{};if(Br)return Br(g);c.prototype=g;var T=new c;return c.prototype=V,T}}();function Ya(){}function Ho(c,g){this.__wrapped__=c,this.__actions__=[],this.__chain__=!!g,this.__index__=0,this.__values__=V}function Un(c){this.__wrapped__=c,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Wt,this.__views__=[]}function nr(c){var g=-1,T=null==c?0:c.length;for(this.clear();++g<T;){var G=c[g];this.set(G[0],G[1])}}function Za(c){var g=-1,T=null==c?0:c.length;for(this.clear();++g<T;){var G=c[g];this.set(G[0],G[1])}}function Fa(c){var g=-1,T=null==c?0:c.length;for(this.clear();++g<T;){var G=c[g];this.set(G[0],G[1])}}function Zo(c){var g=-1,T=null==c?0:c.length;for(this.__data__=new Fa;++g<T;)this.add(c[g])}function nt(c){var g=this.__data__=new Za(c);this.size=g.size}function F(c,g){var T=Gi(c),G=!T&&Hh(c),ie=!T&&!G&&lh(c),_e=!T&&!G&&!ie&&Wc(c),Fe=T||G||ie||_e,Xe=Fe?Pt(c.length,Vi):[],vt=Xe.length;for(var fn in c)(g||On.call(c,fn))&&(!Fe||!("length"==fn||ie&&("offset"==fn||"parent"==fn)||_e&&("buffer"==fn||"byteLength"==fn||"byteOffset"==fn)||co(fn,vt)))&&Xe.push(fn);return Xe}function q(c){var g=c.length;return g?c[Th(0,g-1)]:V}function ae(c,g){return A(Ou(c),Ea(g,0,c.length))}function pe(c){return A(Ou(c))}function rt(c,g,T){(T!==V&&!zc(c[g],T)||T===V&&!(g in c))&&cs(c,g,T)}function nn(c,g,T){var G=c[g];(!On.call(c,g)||!zc(G,T)||T===V&&!(g in c))&&cs(c,g,T)}function An(c,g){for(var T=c.length;T--;)if(zc(c[T][0],g))return T;return-1}function Jn(c,g,T,G){return Mu(c,function(ie,_e,Fe){g(G,ie,T(ie),Fe)}),G}function Di(c,g){return c&&Gl(g,Lu(g),c)}function cs(c,g,T){"__proto__"==g&&Uo?Uo(c,g,{configurable:!0,enumerable:!0,value:T,writable:!0}):c[g]=T}function sa(c,g){for(var T=-1,G=g.length,ie=Tt(G),_e=null==c;++T<G;)ie[T]=_e?V:pc(c,g[T]);return ie}function Ea(c,g,T){return c==c&&(T!==V&&(c=c<=T?c:T),g!==V&&(c=c>=g?c:g)),c}function Ji(c,g,T,G,ie,_e){var Fe,Xe=g&be,vt=g&xe,fn=g&Vt;if(T&&(Fe=ie?T(c,G,ie,_e):T(c)),Fe!==V)return Fe;if(!$o(c))return c;var dn=Gi(c);if(dn){if(Fe=function Kl(c){var g=c.length,T=new c.constructor(g);return g&&"string"==typeof c[0]&&On.call(c,"index")&&(T.index=c.index,T.input=c.input),T}(c),!Xe)return Ou(c,Fe)}else{var Cn=Us(c),rr=Cn==zn||Cn==jn;if(lh(c))return Xu(c,Xe);if(Cn==di||Cn==yn||rr&&!ie){if(Fe=vt||rr?{}:Od(c),!Xe)return vt?function Wf(c,g){return Gl(c,Uc(c),g)}(c,function uo(c,g){return c&&Gl(g,Xl(g),c)}(Fe,c)):function Zd(c,g){return Gl(c,uc(c),g)}(c,Di(Fe,c))}else{if(!$i[Cn])return ie?c:{};Fe=function Tc(c,g,T){var G=c.constructor;switch(g){case In:return Ul(c);case yt:case Ke:return new G(+c);case bn:return function Yd(c,g){var T=g?Ul(c.buffer):c.buffer;return new c.constructor(T,c.byteOffset,c.byteLength)}(c,T);case si:case ei:case Wn:case fi:case Ii:case Pi:case xr:case fs:case wr:return Sh(c,T);case pr:return new G;case ii:case Vr:return new G(c);case jr:return function Cd(c){var g=new c.constructor(c.source,Ws.exec(c));return g.lastIndex=c.lastIndex,g}(c);case hi:return new G;case bi:return function Hl(c){return Pa?lr(Pa.call(c)):{}}(c)}}(c,Cn,Xe)}}_e||(_e=new nt);var Nr=_e.get(c);if(Nr)return Nr;_e.set(c,Fe),md(c)?c.forEach(function(Gr){Fe.add(Ji(Gr,g,T,Gr,c,_e))}):Ud(c)&&c.forEach(function(Gr,_s){Fe.set(_s,Ji(Gr,g,T,_s,c,_e))});var ts=dn?V:(fn?vt?od:tu:vt?Xl:Lu)(c);return go(ts||c,function(Gr,_s){ts&&(Gr=c[_s=Gr]),nn(Fe,_s,Ji(Gr,g,T,_s,c,_e))}),Fe}function Nu(c,g,T){var G=T.length;if(null==c)return!G;for(c=lr(c);G--;){var ie=T[G],Fe=c[ie];if(Fe===V&&!(ie in c)||!(0,g[ie])(Fe))return!1}return!0}function Ku(c,g,T){if("function"!=typeof c)throw new Rs(Te);return ld(function(){c.apply(V,T)},g)}function vu(c,g,T,G){var ie=-1,_e=ws,Fe=!0,Xe=c.length,vt=[],fn=g.length;if(!Xe)return vt;T&&(g=Ei(g,xt(T))),G?(_e=Ai,Fe=!1):g.length>=fe&&(_e=_o,Fe=!1,g=new Zo(g));e:for(;++ie<Xe;){var dn=c[ie],Cn=null==T?dn:T(dn);if(dn=G||0!==dn?dn:0,Fe&&Cn==Cn){for(var rr=fn;rr--;)if(g[rr]===Cn)continue e;vt.push(dn)}else _e(g,Cn,G)||vt.push(dn)}return vt}he.templateSettings={escape:ln,evaluate:qt,interpolate:Ee,variable:"",imports:{_:he}},(he.prototype=Ya.prototype).constructor=he,(Ho.prototype=cu(Ya.prototype)).constructor=Ho,(Un.prototype=cu(Ya.prototype)).constructor=Un,nr.prototype.clear=function Go(){this.__data__=Fn?Fn(null):{},this.size=0},nr.prototype.delete=function vi(c){var g=this.has(c)&&delete this.__data__[c];return this.size-=g?1:0,g},nr.prototype.get=function Qc(c){var g=this.__data__;if(Fn){var T=g[c];return T===$e?V:T}return On.call(g,c)?g[c]:V},nr.prototype.has=function Xs(c){var g=this.__data__;return Fn?g[c]!==V:On.call(g,c)},nr.prototype.set=function mn(c,g){var T=this.__data__;return this.size+=this.has(c)?0:1,T[c]=Fn&&g===V?$e:g,this},Za.prototype.clear=function tc(){this.__data__=[],this.size=0},Za.prototype.delete=function ka(c){var g=this.__data__,T=An(g,c);return!(T<0||(T==g.length-1?g.pop():Pr.call(g,T,1),--this.size,0))},Za.prototype.get=function zd(c){var g=this.__data__,T=An(g,c);return T<0?V:g[T][1]},Za.prototype.has=function Do(c){return An(this.__data__,c)>-1},Za.prototype.set=function nc(c,g){var T=this.__data__,G=An(T,c);return G<0?(++this.size,T.push([c,g])):T[G][1]=g,this},Fa.prototype.clear=function zu(){this.size=0,this.__data__={hash:new nr,map:new(qa||Za),string:new nr}},Fa.prototype.delete=function Xc(c){var g=Wl(this,c).delete(c);return this.size-=g?1:0,g},Fa.prototype.get=function Ja(c){return Wl(this,c).get(c)},Fa.prototype.has=function gs(c){return Wl(this,c).has(c)},Fa.prototype.set=function Cl(c,g){var T=Wl(this,c),G=T.size;return T.set(c,g),this.size+=T.size==G?0:1,this},Zo.prototype.add=Zo.prototype.push=function Wu(c){return this.__data__.set(c,$e),this},Zo.prototype.has=function wa(c){return this.__data__.has(c)},nt.prototype.clear=function Su(){this.__data__=new Za,this.size=0},nt.prototype.delete=function ia(c){var g=this.__data__,T=g.delete(c);return this.size=g.size,T},nt.prototype.get=function S(c){return this.__data__.get(c)},nt.prototype.has=function O(c){return this.__data__.has(c)},nt.prototype.set=function E(c,g){var T=this.__data__;if(T instanceof Za){var G=T.__data__;if(!qa||G.length<fe-1)return G.push([c,g]),this.size=++T.size,this;T=this.__data__=new Fa(G)}return T.set(c,g),this.size=T.size,this};var Mu=Id(Qo),ed=Id(nd,!0);function td(c,g){var T=!0;return Mu(c,function(G,ie,_e){return T=!!g(G,ie,_e)}),T}function ci(c,g,T){for(var G=-1,ie=c.length;++G<ie;){var _e=c[G],Fe=g(_e);if(null!=Fe&&(Xe===V?Fe==Fe&&!sl(Fe):T(Fe,Xe)))var Xe=Fe,vt=_e}return vt}function rc(c,g){var T=[];return Mu(c,function(G,ie,_e){g(G,ie,_e)&&T.push(G)}),T}function Jo(c,g,T,G,ie){var _e=-1,Fe=c.length;for(T||(T=Hc),ie||(ie=[]);++_e<Fe;){var Xe=c[_e];g>0&&T(Xe)?g>1?Jo(Xe,g-1,T,G,ie):is(ie,Xe):G||(ie[ie.length]=Xe)}return ie}var Il=Lc(),qu=Lc(!0);function Qo(c,g){return c&&Il(c,g,Lu)}function nd(c,g){return c&&qu(c,g,Lu)}function ic(c,g){return us(g,function(T){return fc(c[T])})}function Yu(c,g){for(var T=0,G=(g=Wi(g,c)).length;null!=c&&T<G;)c=c[oe(g[T++])];return T&&T==G?c:V}function rd(c,g,T){var G=g(c);return Gi(c)?G:is(G,T(c))}function Qa(c){return null==c?c===V?Gs:rs:Zr&&Zr in lr(c)?function Oh(c){var g=On.call(c,Zr),T=c[Zr];try{c[Zr]=V;var G=!0}catch{}var ie=x.call(c);return G&&(g?c[Zr]=T:delete c[Zr]),ie}(c):function lc(c){return x.call(c)}(c)}function Ll(c,g){return c>g}function mc(c,g){return null!=c&&On.call(c,g)}function wd(c,g){return null!=c&&g in lr(c)}function Xa(c,g,T){for(var G=T?Ai:ws,ie=c[0].length,_e=c.length,Fe=_e,Xe=Tt(_e),vt=1/0,fn=[];Fe--;){var dn=c[Fe];Fe&&g&&(dn=Ei(dn,xt(g))),vt=Cs(dn.length,vt),Xe[Fe]=!T&&(g||ie>=120&&dn.length>=120)?new Zo(Fe&&dn):V}dn=c[0];var Cn=-1,rr=Xe[0];e:for(;++Cn<ie&&fn.length<vt;){var Nr=dn[Cn],Jr=g?g(Nr):Nr;if(Nr=T||0!==Nr?Nr:0,!(rr?_o(rr,Jr):G(fn,Jr,T))){for(Fe=_e;--Fe;){var ts=Xe[Fe];if(!(ts?_o(ts,Jr):G(c[Fe],Jr,T)))continue e}rr&&rr.push(Jr),fn.push(Nr)}}return fn}function bu(c,g,T){var G=null==(c=Ic(c,g=Wi(g,c)))?c:c[oe(dc(g))];return null==G?V:$s(G,c,T)}function Sl(c){return Ia(c)&&Qa(c)==yn}function Zu(c,g,T,G,ie){return c===g||(null==c||null==g||!Ia(c)&&!Ia(g)?c!=c&&g!=g:function Xo(c,g,T,G,ie,_e){var Fe=Gi(c),Xe=Gi(g),vt=Fe?vn:Us(c),fn=Xe?vn:Us(g),dn=(vt=vt==yn?di:vt)==di,Cn=(fn=fn==yn?di:fn)==di,rr=vt==fn;if(rr&&lh(c)){if(!lh(g))return!1;Fe=!0,dn=!1}if(rr&&!dn)return _e||(_e=new nt),Fe||Wc(c)?Tu(c,g,T,G,ie,_e):function sf(c,g,T,G,ie,_e,Fe){switch(T){case bn:if(c.byteLength!=g.byteLength||c.byteOffset!=g.byteOffset)return!1;c=c.buffer,g=g.buffer;case In:return!(c.byteLength!=g.byteLength||!_e(new jt(c),new jt(g)));case yt:case Ke:case ii:return zc(+c,+g);case Tn:return c.name==g.name&&c.message==g.message;case jr:case Vr:return c==g+"";case pr:var Xe=I;case hi:if(Xe||(Xe=ne),c.size!=g.size&&!(G&st))return!1;var fn=Fe.get(c);if(fn)return fn==g;G|=Ft,Fe.set(c,g);var dn=Tu(Xe(c),Xe(g),G,ie,_e,Fe);return Fe.delete(c),dn;case bi:if(Pa)return Pa.call(c)==Pa.call(g)}return!1}(c,g,vt,T,G,ie,_e);if(!(T&st)){var Nr=dn&&On.call(c,"__wrapped__"),Jr=Cn&&On.call(g,"__wrapped__");if(Nr||Jr){var ts=Nr?c.value():c,Gr=Jr?g.value():g;return _e||(_e=new nt),ie(ts,Gr,T,G,_e)}}return!!rr&&(_e||(_e=new nt),function zl(c,g,T,G,ie,_e){var Fe=T&st,Xe=tu(c),vt=Xe.length;if(vt!=tu(g).length&&!Fe)return!1;for(var Cn=vt;Cn--;){var rr=Xe[Cn];if(!(Fe?rr in g:On.call(g,rr)))return!1}var Nr=_e.get(c),Jr=_e.get(g);if(Nr&&Jr)return Nr==g&&Jr==c;var ts=!0;_e.set(c,g),_e.set(g,c);for(var Gr=Fe;++Cn<vt;){var _s=c[rr=Xe[Cn]],ys=g[rr];if(G)var ul=Fe?G(ys,_s,rr,g,c,_e):G(_s,ys,rr,c,g,_e);if(!(ul===V?_s===ys||ie(_s,ys,T,G,_e):ul)){ts=!1;break}Gr||(Gr="constructor"==rr)}if(ts&&!Gr){var Po=c.constructor,ec=g.constructor;Po!=ec&&"constructor"in c&&"constructor"in g&&!("function"==typeof Po&&Po instanceof Po&&"function"==typeof ec&&ec instanceof ec)&&(ts=!1)}return _e.delete(c),_e.delete(g),ts}(c,g,T,G,ie,_e))}(c,g,T,G,Zu,ie))}function k(c,g,T,G){var ie=T.length,_e=ie,Fe=!G;if(null==c)return!_e;for(c=lr(c);ie--;){var Xe=T[ie];if(Fe&&Xe[2]?Xe[1]!==c[Xe[0]]:!(Xe[0]in c))return!1}for(;++ie<_e;){var vt=(Xe=T[ie])[0],fn=c[vt],dn=Xe[1];if(Fe&&Xe[2]){if(fn===V&&!(vt in c))return!1}else{var Cn=new nt;if(G)var rr=G(fn,dn,vt,c,g,Cn);if(!(rr===V?Zu(dn,fn,st|Ft,G,Cn):rr))return!1}}return!0}function H(c){return!(!$o(c)||function To(c){return!!li&&li in c}(c))&&(fc(c)?ue:an).test(Ne(c))}function ot(c){return"function"==typeof c?c:null==c?zo:"object"==typeof c?Gi(c)?Lr(c[0],c[1]):Kr(c):pp(c)}function sn(c){if(!ql(c))return yo(c);var g=[];for(var T in lr(c))On.call(c,T)&&"constructor"!=T&&g.push(T);return g}function Sn(c,g){return c<g}function ar(c,g){var T=-1,G=to(c)?Tt(c.length):[];return Mu(c,function(ie,_e,Fe){G[++T]=g(ie,_e,Fe)}),G}function Kr(c){var g=Pu(c);return 1==g.length&&g[0][2]?uf(g[0][0],g[0][1]):function(T){return T===c||k(T,c,g)}}function Lr(c,g){return Cc(c)&&ad(g)?uf(oe(c),g):function(T){var G=pc(T,c);return G===V&&G===g?Ug(T,c):Zu(g,G,st|Ft)}}function ea(c,g,T,G,ie){c!==g&&Il(g,function(_e,Fe){if(ie||(ie=new nt),$o(_e))!function Da(c,g,T,G,ie,_e,Fe){var Xe=th(c,T),vt=th(g,T),fn=Fe.get(vt);if(fn)rt(c,T,fn);else{var dn=_e?_e(Xe,vt,T+"",c,g,Fe):V,Cn=dn===V;if(Cn){var rr=Gi(vt),Nr=!rr&&lh(vt),Jr=!rr&&!Nr&&Wc(vt);dn=vt,rr||Nr||Jr?Gi(Xe)?dn=Xe:Ha(Xe)?dn=Ou(Xe):Nr?(Cn=!1,dn=Xu(vt,!0)):Jr?(Cn=!1,dn=Sh(vt,!0)):dn=[]:Gh(vt)||Hh(vt)?(dn=Xe,Hh(Xe)?dn=ap(Xe):(!$o(Xe)||fc(Xe))&&(dn=Od(vt))):Cn=!1}Cn&&(Fe.set(vt,dn),ie(dn,vt,G,_e,Fe),Fe.delete(vt)),rt(c,T,dn)}}(c,g,Fe,T,ea,G,ie);else{var Xe=G?G(th(c,Fe),_e,Fe+"",c,g,ie):V;Xe===V&&(Xe=_e),rt(c,Fe,Xe)}},Xl)}function Mo(c,g){var T=c.length;if(T)return co(g+=g<0?T:0,T)?c[g]:V}function gl(c,g,T){g=g.length?Ei(g,function(_e){return Gi(_e)?function(Fe){return Yu(Fe,1===_e.length?_e[0]:_e)}:_e}):[zo];var G=-1;return g=Ei(g,xt(xn())),function L(qe,Rt){var Tt=qe.length;for(qe.sort(Rt);Tt--;)qe[Tt]=qe[Tt].value;return qe}(ar(c,function(_e,Fe,Xe){return{criteria:Ei(g,function(fn){return fn(_e)}),index:++G,value:_e}}),function(_e,Fe){return function Ip(c,g,T){for(var G=-1,ie=c.criteria,_e=g.criteria,Fe=ie.length,Xe=T.length;++G<Fe;){var vt=rf(ie[G],_e[G]);if(vt)return G>=Xe?vt:vt*("desc"==T[G]?-1:1)}return c.index-g.index}(_e,Fe,T)})}function aa(c,g,T){for(var G=-1,ie=g.length,_e={};++G<ie;){var Fe=g[G],Xe=Yu(c,Fe);T(Xe,Fe)&&Bl(_e,Wi(Fe,c),Xe)}return _e}function Al(c,g,T,G){var ie=G?_a:Os,_e=-1,Fe=g.length,Xe=c;for(c===g&&(g=Ou(g)),T&&(Xe=Ei(c,xt(T)));++_e<Fe;)for(var vt=0,fn=g[_e],dn=T?T(fn):fn;(vt=ie(Xe,dn,vt,G))>-1;)Xe!==c&&Pr.call(Xe,vt,1),Pr.call(c,vt,1);return c}function _c(c,g){for(var T=c?g.length:0,G=T-1;T--;){var ie=g[T];if(T==G||ie!==_e){var _e=ie;co(ie)?Pr.call(c,ie,1):zs(c,ie)}}return c}function Th(c,g){return c+Zs(gn()*(g-c+1))}function Dd(c,g){var T="";if(!c||g<1||g>_t)return T;do{g%2&&(T+=c),(g=Zs(g/2))&&(c+=c)}while(g);return T}function Mi(c,g){return D(nu(c,g,zo),c+"")}function yc(c){return q(Rc(c))}function wu(c,g){var T=Rc(c);return A(T,Ea(g,0,T.length))}function Bl(c,g,T,G){if(!$o(c))return c;for(var ie=-1,_e=(g=Wi(g,c)).length,Fe=_e-1,Xe=c;null!=Xe&&++ie<_e;){var vt=oe(g[ie]),fn=T;if("__proto__"===vt||"constructor"===vt||"prototype"===vt)return c;if(ie!=Fe){var dn=Xe[vt];(fn=G?G(dn,vt,Xe):V)===V&&(fn=$o(dn)?dn:co(g[ie+1])?[]:{})}nn(Xe,vt,fn),Xe=Xe[vt]}return c}var Ch=Nt?function(c,g){return Nt.set(c,g),c}:zo,Ih=Uo?function(c,g){return Uo(c,"toString",{configurable:!0,enumerable:!1,value:qh(g),writable:!0})}:zo;function La(c){return A(Rc(c))}function jo(c,g,T){var G=-1,ie=c.length;g<0&&(g=-g>ie?0:ie+g),(T=T>ie?ie:T)<0&&(T+=ie),ie=g>T?0:T-g>>>0,g>>>=0;for(var _e=Tt(ie);++G<ie;)_e[G]=c[G+g];return _e}function nf(c,g){var T;return Mu(c,function(G,ie,_e){return!(T=g(G,ie,_e))}),!!T}function Eu(c,g,T){var G=0,ie=null==c?G:c.length;if("number"==typeof g&&g==g&&ie<=$t){for(;G<ie;){var _e=G+ie>>>1,Fe=c[_e];null!==Fe&&!sl(Fe)&&(T?Fe<=g:Fe<g)?G=_e+1:ie=_e}return ie}return lo(c,g,zo,T)}function lo(c,g,T,G){var ie=0,_e=null==c?0:c.length;if(0===_e)return 0;for(var Fe=(g=T(g))!=g,Xe=null===g,vt=sl(g),fn=g===V;ie<_e;){var dn=Zs((ie+_e)/2),Cn=T(c[dn]),rr=Cn!==V,Nr=null===Cn,Jr=Cn==Cn,ts=sl(Cn);if(Fe)var Gr=G||Jr;else Gr=fn?Jr&&(G||rr):Xe?Jr&&rr&&(G||!Nr):vt?Jr&&rr&&!Nr&&(G||!ts):!Nr&&!ts&&(G?Cn<=g:Cn<g);Gr?ie=dn+1:_e=dn}return Cs(_e,Lt)}function id(c,g){for(var T=-1,G=c.length,ie=0,_e=[];++T<G;){var Fe=c[T],Xe=g?g(Fe):Fe;if(!T||!zc(Xe,vt)){var vt=Xe;_e[ie++]=0===Fe?0:Fe}}return _e}function Kd(c){return"number"==typeof c?c:sl(c)?Ct:+c}function ms(c){if("string"==typeof c)return c;if(Gi(c))return Ei(c,ms)+"";if(sl(c))return lu?lu.call(c):"";var g=c+"";return"0"==g&&1/c==-It?"-0":g}function Nl(c,g,T){var G=-1,ie=ws,_e=c.length,Fe=!0,Xe=[],vt=Xe;if(T)Fe=!1,ie=Ai;else if(_e>=fe){var fn=g?null:Ec(c);if(fn)return ne(fn);Fe=!1,ie=_o,vt=new Zo}else vt=g?[]:Xe;e:for(;++G<_e;){var dn=c[G],Cn=g?g(dn):dn;if(dn=T||0!==dn?dn:0,Fe&&Cn==Cn){for(var rr=vt.length;rr--;)if(vt[rr]===Cn)continue e;g&&vt.push(Cn),Xe.push(dn)}else ie(vt,Cn,T)||(vt!==Xe&&vt.push(Cn),Xe.push(dn))}return Xe}function zs(c,g){return null==(c=Ic(c,g=Wi(g,c)))||delete c[oe(dc(g))]}function Ju(c,g,T,G){return Bl(c,g,T(Yu(c,g)),G)}function qd(c,g,T,G){for(var ie=c.length,_e=G?ie:-1;(G?_e--:++_e<ie)&&g(c[_e],_e,c););return T?jo(c,G?0:_e,G?_e+1:ie):jo(c,G?_e+1:0,G?ie:_e)}function Vl(c,g){var T=c;return T instanceof Un&&(T=T.value()),As(g,function(G,ie){return ie.func.apply(ie.thisArg,is([G],ie.args))},T)}function Qu(c,g,T){var G=c.length;if(G<2)return G?Nl(c[0]):[];for(var ie=-1,_e=Tt(G);++ie<G;)for(var Fe=c[ie],Xe=-1;++Xe<G;)Xe!=ie&&(_e[ie]=vu(_e[ie]||Fe,c[Xe],g,T));return Nl(Jo(_e,1),g,T)}function Td(c,g,T){for(var G=-1,ie=c.length,_e=g.length,Fe={};++G<ie;)T(Fe,c[G],G<_e?g[G]:V);return Fe}function vc(c){return Ha(c)?c:[]}function Qi(c){return"function"==typeof c?c:zo}function Wi(c,g){return Gi(c)?c:Cc(c,g)?[c]:Z(Hs(c))}var sc=Mi;function ua(c,g,T){var G=c.length;return T=T===V?G:T,!g&&T>=G?c:jo(c,g,T)}var _l=Ui||function(c){return ps.clearTimeout(c)};function Xu(c,g){if(g)return c.slice();var T=c.length,G=kn?kn(T):new c.constructor(T);return c.copy(G),G}function Ul(c){var g=new c.constructor(c.byteLength);return new jt(g).set(new jt(c)),g}function Sh(c,g){var T=g?Ul(c.buffer):c.buffer;return new c.constructor(T,c.byteOffset,c.length)}function rf(c,g){if(c!==g){var T=c!==V,G=null===c,ie=c==c,_e=sl(c),Fe=g!==V,Xe=null===g,vt=g==g,fn=sl(g);if(!Xe&&!fn&&!_e&&c>g||_e&&Fe&&vt&&!Xe&&!fn||G&&Fe&&vt||!T&&vt||!ie)return 1;if(!G&&!_e&&!fn&&c<g||fn&&T&&ie&&!G&&!_e||Xe&&T&&ie||!Fe&&ie||!vt)return-1}return 0}function zf(c,g,T,G){for(var ie=-1,_e=c.length,Fe=T.length,Xe=-1,vt=g.length,fn=ss(_e-Fe,0),dn=Tt(vt+fn),Cn=!G;++Xe<vt;)dn[Xe]=g[Xe];for(;++ie<Fe;)(Cn||ie<_e)&&(dn[T[ie]]=c[ie]);for(;fn--;)dn[Xe++]=c[ie++];return dn}function Fc(c,g,T,G){for(var ie=-1,_e=c.length,Fe=-1,Xe=T.length,vt=-1,fn=g.length,dn=ss(_e-Xe,0),Cn=Tt(dn+fn),rr=!G;++ie<dn;)Cn[ie]=c[ie];for(var Nr=ie;++vt<fn;)Cn[Nr+vt]=g[vt];for(;++Fe<Xe;)(rr||ie<_e)&&(Cn[Nr+T[Fe]]=c[ie++]);return Cn}function Ou(c,g){var T=-1,G=c.length;for(g||(g=Tt(G));++T<G;)g[T]=c[T];return g}function Gl(c,g,T,G){var ie=!T;T||(T={});for(var _e=-1,Fe=g.length;++_e<Fe;){var Xe=g[_e],vt=G?G(T[Xe],c[Xe],Xe,T,c):V;vt===V&&(vt=c[Xe]),ie?cs(T,Xe,vt):nn(T,Xe,vt)}return T}function oc(c,g){return function(T,G){var ie=Gi(T)?wo:Jn,_e=g?g():{};return ie(T,c,xn(G,2),_e)}}function Ml(c){return Mi(function(g,T){var G=-1,ie=T.length,_e=ie>1?T[ie-1]:V,Fe=ie>2?T[2]:V;for(_e=c.length>3&&"function"==typeof _e?(ie--,_e):V,Fe&&Ro(T[0],T[1],Fe)&&(_e=ie<3?V:_e,ie=1),g=lr(g);++G<ie;){var Xe=T[G];Xe&&c(g,Xe,G,_e)}return g})}function Id(c,g){return function(T,G){if(null==T)return T;if(!to(T))return c(T,G);for(var ie=T.length,_e=g?ie:-1,Fe=lr(T);(g?_e--:++_e<ie)&&!1!==G(Fe[_e],_e,Fe););return T}}function Lc(c){return function(g,T,G){for(var ie=-1,_e=lr(g),Fe=G(g),Xe=Fe.length;Xe--;){var vt=Fe[c?Xe:++ie];if(!1===T(_e[vt],vt,_e))break}return g}}function bc(c){return function(g){var T=hl(g=Hs(g))?Ht(g):V,G=T?T[0]:g.charAt(0),ie=T?ua(T,1).join(""):g.slice(1);return G[c]()+ie}}function ac(c){return function(g){return As(Zp(Rm(g).replace(Fo,"")),c,"")}}function el(c){return function(){var g=arguments;switch(g.length){case 0:return new c;case 1:return new c(g[0]);case 2:return new c(g[0],g[1]);case 3:return new c(g[0],g[1],g[2]);case 4:return new c(g[0],g[1],g[2],g[3]);case 5:return new c(g[0],g[1],g[2],g[3],g[4]);case 6:return new c(g[0],g[1],g[2],g[3],g[4],g[5]);case 7:return new c(g[0],g[1],g[2],g[3],g[4],g[5],g[6])}var T=cu(c.prototype),G=c.apply(T,g);return $o(G)?G:T}}function sd(c){return function(g,T,G){var ie=lr(g);if(!to(g)){var _e=xn(T,3);g=Lu(g),T=function(Xe){return _e(ie[Xe],Xe,ie)}}var Fe=c(g,T,G);return Fe>-1?ie[_e?g[Fe]:Fe]:V}}function Sd(c){return Rl(function(g){var T=g.length,G=T,ie=Ho.prototype.thru;for(c&&g.reverse();G--;){var _e=g[G];if("function"!=typeof _e)throw new Rs(Te);if(ie&&!Fe&&"wrapper"==Qd(_e))var Fe=new Ho([],!0)}for(G=Fe?G:T;++G<T;){var Xe=Qd(_e=g[G]),vt="wrapper"==Xe?tl(_e):V;Fe=vt&&eh(vt[0])&&vt[1]==(Je|Ce|ct|Yt)&&!vt[4].length&&1==vt[9]?Fe[Qd(vt[0])].apply(Fe,vt[3]):1==_e.length&&eh(_e)?Fe[Xe]():Fe.thru(_e)}return function(){var fn=arguments,dn=fn[0];if(Fe&&1==fn.length&&Gi(dn))return Fe.plant(dn).value();for(var Cn=0,rr=T?g[Cn].apply(this,fn):dn;++Cn<T;)rr=g[Cn].call(this,rr);return rr}})}function Bc(c,g,T,G,ie,_e,Fe,Xe,vt,fn){var dn=g&Je,Cn=g&Gt,rr=g&at,Nr=g&(Ce|Kt),Jr=g&Ut,ts=rr?V:el(c);return function Gr(){for(var _s=arguments.length,ys=Tt(_s),ul=_s;ul--;)ys[ul]=arguments[ul];if(Nr)var Po=Vc(Gr),ec=function Ra(qe,Rt){for(var Tt=qe.length,Pn=0;Tt--;)qe[Tt]===Rt&&++Pn;return Pn}(ys,Po);if(G&&(ys=zf(ys,G,ie,Nr)),_e&&(ys=Fc(ys,_e,Fe,Nr)),_s-=ec,Nr&&_s<fn){var ca=$(ys,Po);return Nh(c,g,Bc,Gr.placeholder,T,ys,ca,Xe,vt,fn-_s)}var gc=Cn?T:this,Pl=rr?gc[c]:c;return _s=ys.length,Xe?ys=function lf(c,g){for(var T=c.length,G=Cs(g.length,T),ie=Ou(c);G--;){var _e=g[G];c[G]=co(_e,T)?ie[_e]:V}return c}(ys,Xe):Jr&&_s>1&&ys.reverse(),dn&&vt<_s&&(ys.length=vt),this&&this!==ps&&this instanceof Gr&&(Pl=ts||el(Pl)),Pl.apply(gc,ys)}}function wc(c,g){return function(T,G){return function oa(c,g,T,G){return Qo(c,function(ie,_e,Fe){g(G,T(ie),_e,Fe)}),G}(T,c,g(G),{})}}function yl(c,g){return function(T,G){var ie;if(T===V&&G===V)return g;if(T!==V&&(ie=T),G!==V){if(ie===V)return G;"string"==typeof T||"string"==typeof G?(T=ms(T),G=ms(G)):(T=Kd(T),G=Kd(G)),ie=c(T,G)}return ie}}function jl(c){return Rl(function(g){return g=Ei(g,xt(xn())),Mi(function(T){var G=this;return c(g,function(ie){return $s(ie,G,T)})})})}function Oo(c,g){var T=(g=g===V?" ":ms(g)).length;if(T<2)return T?Dd(g,c):g;var G=Dd(g,yi(c/wt(g)));return hl(g)?ua(Ht(G),0,c).join(""):G.slice(0,c)}function Ol(c){return function(g,T,G){return G&&"number"!=typeof G&&Ro(g,T,G)&&(T=G=V),g=Kc(g),T===V?(T=g,g=0):T=Kc(T),function Ed(c,g,T,G){for(var ie=-1,_e=ss(yi((g-c)/(T||1)),0),Fe=Tt(_e);_e--;)Fe[G?_e:++ie]=c,c+=T;return Fe}(g,T,G=G===V?g<T?1:-1:Kc(G),c)}}function eu(c){return function(g,T){return"string"==typeof g&&"string"==typeof T||(g=Ql(g),T=Ql(T)),c(g,T)}}function Nh(c,g,T,G,ie,_e,Fe,Xe,vt,fn){var dn=g&Ce;g|=dn?ct:Se,(g&=~(dn?Se:ct))&ht||(g&=~(Gt|at));var ts=[c,g,ie,dn?_e:V,dn?Fe:V,dn?V:_e,dn?V:Fe,Xe,vt,fn],Gr=T.apply(V,ts);return eh(c)&&cc(Gr,ts),Gr.placeholder=G,m(Gr,c,g)}function $l(c){var g=ui[c];return function(T,G){if(T=Ql(T),(G=null==G?0:Cs(zi(G),292))&&Cu(T)){var ie=(Hs(T)+"e").split("e");return+((ie=(Hs(g(ie[0]+"e"+(+ie[1]+G)))+"e").split("e"))[0]+"e"+(+ie[1]-G))}return g(T)}}var Ec=cr&&1/ne(new cr([,-0]))[1]==It?function(c){return new cr(c)}:yd;function Nd(c){return function(g){var T=Us(g);return T==pr?I(g):T==hi?function me(qe){var Rt=-1,Tt=Array(qe.size);return qe.forEach(function(Pn){Tt[++Rt]=[Pn,Pn]}),Tt}(g):function pn(qe,Rt){return Ei(Rt,function(Tt){return[Tt,qe[Tt]]})}(g,c(g))}}function Ru(c,g,T,G,ie,_e,Fe,Xe){var vt=g&at;if(!vt&&"function"!=typeof c)throw new Rs(Te);var fn=G?G.length:0;if(fn||(g&=~(ct|Se),G=ie=V),Fe=Fe===V?Fe:ss(zi(Fe),0),Xe=Xe===V?Xe:zi(Xe),fn-=ie?ie.length:0,g&Se){var dn=G,Cn=ie;G=ie=V}var rr=vt?V:tl(c),Nr=[c,g,T,G,ie,dn,Cn,_e,Fe,Xe];if(rr&&function ud(c,g){var T=c[1],G=g[1],ie=T|G;if(!(ie<(Gt|at|Je))&&!(G==Je&&T==Ce||G==Je&&T==Yt&&c[7].length<=g[8]||G==(Je|Yt)&&g[7].length<=g[8]&&T==Ce))return c;G&Gt&&(c[2]=g[2],ie|=T&Gt?0:ht);var Xe=g[3];if(Xe){var vt=c[3];c[3]=vt?zf(vt,Xe,g[4]):Xe,c[4]=vt?$(c[3],De):g[4]}(Xe=g[5])&&(c[5]=(vt=c[5])?Fc(vt,Xe,g[6]):Xe,c[6]=vt?$(c[5],De):g[6]),(Xe=g[7])&&(c[7]=Xe),G&Je&&(c[8]=null==c[8]?g[8]:Cs(c[8],g[8])),null==c[9]&&(c[9]=g[9]),c[0]=g[0],c[1]=ie}(Nr,rr),c=Nr[0],g=Nr[1],T=Nr[2],G=Nr[3],ie=Nr[4],!(Xe=Nr[9]=Nr[9]===V?vt?0:c.length:ss(Nr[9]-fn,0))&&g&(Ce|Kt)&&(g&=~(Ce|Kt)),g&&g!=Gt)Jr=g==Ce||g==Kt?function Ah(c,g,T){var G=el(c);return function ie(){for(var _e=arguments.length,Fe=Tt(_e),Xe=_e,vt=Vc(ie);Xe--;)Fe[Xe]=arguments[Xe];var fn=_e<3&&Fe[0]!==vt&&Fe[_e-1]!==vt?[]:$(Fe,vt);return(_e-=fn.length)<T?Nh(c,g,Bc,ie.placeholder,V,Fe,fn,V,V,T-_e):$s(this&&this!==ps&&this instanceof ie?G:c,this,Fe)}}(c,g,Xe):g!=ct&&g!=(Gt|ct)||ie.length?Bc.apply(V,Nr):function Ad(c,g,T,G){var ie=g&Gt,_e=el(c);return function Fe(){for(var Xe=-1,vt=arguments.length,fn=-1,dn=G.length,Cn=Tt(dn+vt),rr=this&&this!==ps&&this instanceof Fe?_e:c;++fn<dn;)Cn[fn]=G[fn];for(;vt--;)Cn[fn++]=arguments[++Xe];return $s(rr,ie?T:this,Cn)}}(c,g,T,G);else var Jr=function Jd(c,g,T){var G=g&Gt,ie=el(c);return function _e(){return(this&&this!==ps&&this instanceof _e?ie:c).apply(G?T:this,arguments)}}(c,g,T);return m((rr?Ch:cc)(Jr,Nr),c,g)}function Mh(c,g,T,G){return c===V||zc(c,ba[T])&&!On.call(G,T)?g:c}function Du(c,g,T,G,ie,_e){return $o(c)&&$o(g)&&(_e.set(g,c),ea(c,g,V,Du,_e),_e.delete(g)),c}function Kf(c){return Gh(c)?V:c}function Tu(c,g,T,G,ie,_e){var Fe=T&st,Xe=c.length,vt=g.length;if(Xe!=vt&&!(Fe&&vt>Xe))return!1;var fn=_e.get(c),dn=_e.get(g);if(fn&&dn)return fn==g&&dn==c;var Cn=-1,rr=!0,Nr=T&Ft?new Zo:V;for(_e.set(c,g),_e.set(g,c);++Cn<Xe;){var Jr=c[Cn],ts=g[Cn];if(G)var Gr=Fe?G(ts,Jr,Cn,g,c,_e):G(Jr,ts,Cn,c,g,_e);if(Gr!==V){if(Gr)continue;rr=!1;break}if(Nr){if(!Oa(g,function(_s,ys){if(!_o(Nr,ys)&&(Jr===_s||ie(Jr,_s,T,G,_e)))return Nr.push(ys)})){rr=!1;break}}else if(Jr!==ts&&!ie(Jr,ts,T,G,_e)){rr=!1;break}}return _e.delete(c),_e.delete(g),rr}function Rl(c){return D(nu(c,V,nh),c+"")}function tu(c){return rd(c,Lu,uc)}function od(c){return rd(c,Xl,Uc)}var tl=Nt?function(c){return Nt.get(c)}:yd;function Qd(c){for(var g=c.name+"",T=rn[g],G=On.call(rn,g)?T.length:0;G--;){var ie=T[G],_e=ie.func;if(null==_e||_e==c)return ie.name}return g}function Vc(c){return(On.call(he,"placeholder")?he:c).placeholder}function xn(){var c=he.iteratee||Nf;return c=c===Nf?ot:c,arguments.length?c(arguments[0],arguments[1]):c}function Wl(c,g){var T=c.__data__;return function af(c){var g=typeof c;return"string"==g||"number"==g||"symbol"==g||"boolean"==g?"__proto__"!==c:null===c}(g)?T["string"==typeof g?"string":"hash"]:T.map}function Pu(c){for(var g=Lu(c),T=g.length;T--;){var G=g[T],ie=c[G];g[T]=[G,ie,ad(ie)]}return g}function vl(c,g){var T=function dl(qe,Rt){return null==qe?V:qe[Rt]}(c,g);return H(T)?T:V}var uc=Yo?function(c){return null==c?[]:(c=lr(c),us(Yo(c),function(g){return Fr.call(c,g)}))}:Xp,Uc=Yo?function(c){for(var g=[];c;)is(g,uc(c)),c=_i(c);return g}:Xp,Us=Qa;function bl(c,g,T){for(var G=-1,ie=(g=Wi(g,c)).length,_e=!1;++G<ie;){var Fe=oe(g[G]);if(!(_e=null!=c&&T(c,Fe)))break;c=c[Fe]}return _e||++G!=ie?_e:!!(ie=null==c?0:c.length)&&gd(ie)&&co(Fe,ie)&&(Gi(c)||Hh(c))}function Od(c){return"function"!=typeof c.constructor||ql(c)?{}:cu(_i(c))}function Hc(c){return Gi(c)||Hh(c)||!!(Ds&&c&&c[Ds])}function co(c,g){var T=typeof c;return!!(g=g??_t)&&("number"==T||"symbol"!=T&&tr.test(c))&&c>-1&&c%1==0&&c<g}function Ro(c,g,T){if(!$o(T))return!1;var G=typeof g;return!!("number"==G?to(T)&&co(g,T.length):"string"==G&&g in T)&&zc(T[g],c)}function Cc(c,g){if(Gi(c))return!1;var T=typeof c;return!("number"!=T&&"symbol"!=T&&"boolean"!=T&&null!=c&&!sl(c))||Oe.test(c)||!ve.test(c)||null!=g&&c in lr(g)}function eh(c){var g=Qd(c),T=he[g];if("function"!=typeof T||!(g in Un.prototype))return!1;if(c===T)return!0;var G=tl(T);return!!G&&c===G[0]}(Ao&&Us(new Ao(new ArrayBuffer(1)))!=bn||qa&&Us(new qa)!=pr||tn&&Us(tn.resolve())!=Jt||cr&&Us(new cr)!=hi||yu&&Us(new yu)!=fr)&&(Us=function(c){var g=Qa(c),T=g==di?c.constructor:V,G=T?Ne(T):"";if(G)switch(G){case No:return bn;case $u:return pr;case fl:return Jt;case Tl:return hi;case kl:return fr}return g});var Ba=Fi?fc:xf;function ql(c){var g=c&&c.constructor;return c===("function"==typeof g&&g.prototype||ba)}function ad(c){return c==c&&!$o(c)}function uf(c,g){return function(T){return null!=T&&T[c]===g&&(g!==V||c in lr(T))}}function nu(c,g,T){return g=ss(g===V?c.length-1:g,0),function(){for(var G=arguments,ie=-1,_e=ss(G.length-g,0),Fe=Tt(_e);++ie<_e;)Fe[ie]=G[g+ie];ie=-1;for(var Xe=Tt(g+1);++ie<g;)Xe[ie]=G[ie];return Xe[g]=T(Fe),$s(c,this,Xe)}}function Ic(c,g){return g.length<2?c:Yu(c,jo(g,0,-1))}function th(c,g){if(("constructor"!==g||"function"!=typeof c[g])&&"__proto__"!=g)return c[g]}var cc=y(Ch),ld=Ar||function(c,g){return ps.setTimeout(c,g)},D=y(Ih);function m(c,g,T){var G=g+"";return D(c,function Xd(c,g){var T=g.length;if(!T)return c;var G=T-1;return g[G]=(T>1?"& ":"")+g[G],g=g.join(T>2?", ":" "),c.replace(ge,"{\n/* [wrapped with "+g+"] */\n")}(G,function bt(c,g){return go(hn,function(T){var G="_."+T[0];g&T[1]&&!ws(c,G)&&c.push(G)}),c.sort()}(function Md(c){var g=c.match(Re);return g?g[1].split(mt):[]}(G),T)))}function y(c){var g=0,T=0;return function(){var G=uu(),ie=en-(G-T);if(T=G,ie>0){if(++g>=Zt)return arguments[0]}else g=0;return c.apply(V,arguments)}}function A(c,g){var T=-1,G=c.length,ie=G-1;for(g=g===V?G:g;++T<g;){var _e=Th(T,ie),Fe=c[_e];c[_e]=c[T],c[T]=Fe}return c.length=g,c}var Z=function nl(c){var g=pd(c,function(G){return 500===T.size&&T.clear(),G}),T=g.cache;return g}(function(c){var g=[];return 46===c.charCodeAt(0)&&g.push(""),c.replace(ut,function(T,G,ie,_e){g.push(ie?_e.replace(Ir,"$1"):G||T)}),g});function oe(c){if("string"==typeof c||sl(c))return c;var g=c+"";return"0"==g&&1/c==-It?"-0":g}function Ne(c){if(null!=c){try{return sr.call(c)}catch{}try{return c+""}catch{}}return""}function _n(c){if(c instanceof Un)return c.clone();var g=new Ho(c.__wrapped__,c.__chain__);return g.__actions__=Ou(c.__actions__),g.__index__=c.__index__,g.__values__=c.__values__,g}var ho=Mi(function(c,g){return Ha(c)?vu(c,Jo(g,1,Ha,!0)):[]}),rl=Mi(function(c,g){var T=dc(g);return Ha(T)&&(T=V),Ha(c)?vu(c,Jo(g,1,Ha,!0),xn(T,2)):[]}),Gc=Mi(function(c,g){var T=dc(g);return Ha(T)&&(T=V),Ha(c)?vu(c,Jo(g,1,Ha,!0),V,T):[]});function Pd(c,g,T){var G=null==c?0:c.length;if(!G)return-1;var ie=null==T?0:zi(T);return ie<0&&(ie=ss(G+ie,0)),Vo(c,xn(g,3),ie)}function xd(c,g,T){var G=null==c?0:c.length;if(!G)return-1;var ie=G-1;return T!==V&&(ie=zi(T),ie=T<0?ss(G+ie,0):Cs(ie,G-1)),Vo(c,xn(g,3),ie,!0)}function nh(c){return null!=c&&c.length?Jo(c,1):[]}function cf(c){return c&&c.length?c[0]:V}var Sp=Mi(function(c){var g=Ei(c,vc);return g.length&&g[0]===c[0]?Xa(g):[]}),Zf=Mi(function(c){var g=dc(c),T=Ei(c,vc);return g===dc(T)?g=V:T.pop(),T.length&&T[0]===c[0]?Xa(T,xn(g,2)):[]}),kd=Mi(function(c){var g=dc(c),T=Ei(c,vc);return(g="function"==typeof g?g:V)&&T.pop(),T.length&&T[0]===c[0]?Xa(T,V,g):[]});function dc(c){var g=null==c?0:c.length;return g?c[g-1]:V}var hf=Mi(Fd);function Fd(c,g){return c&&c.length&&g&&g.length?Al(c,g):c}var _g=Rl(function(c,g){var T=null==c?0:c.length,G=sa(c,g);return _c(c,Ei(g,function(ie){return co(ie,T)?+ie:ie}).sort(rf)),G});function pf(c){return null==c?c:Js.call(c)}var Dt=Mi(function(c){return Nl(Jo(c,1,Ha,!0))}),Bt=Mi(function(c){var g=dc(c);return Ha(g)&&(g=V),Nl(Jo(c,1,Ha,!0),xn(g,2))}),Qn=Mi(function(c){var g=dc(c);return g="function"==typeof g?g:V,Nl(Jo(c,1,Ha,!0),V,g)});function vr(c){if(!c||!c.length)return[];var g=0;return c=us(c,function(T){if(Ha(T))return g=ss(T.length,g),!0}),Pt(g,function(T){return Ei(c,ao(T))})}function Ti(c,g){if(!c||!c.length)return[];var T=vr(c);return null==g?T:Ei(T,function(G){return $s(g,V,G)})}var ds=Mi(function(c,g){return Ha(c)?vu(c,g):[]}),hs=Mi(function(c){return Qu(us(c,Ha))}),fo=Mi(function(c){var g=dc(c);return Ha(g)&&(g=V),Qu(us(c,Ha),xn(g,2))}),ri=Mi(function(c){var g=dc(c);return g="function"==typeof g?g:V,Qu(us(c,Ha),V,g)}),es=Mi(vr),vo=Mi(function(c){var g=c.length,T=g>1?c[g-1]:V;return T="function"==typeof T?(c.pop(),T):V,Ti(c,T)});function la(c){var g=he(c);return g.__chain__=!0,g}function Ua(c,g){return g(c)}var Yl=Rl(function(c){var g=c.length,T=g?c[0]:0,G=this.__wrapped__,ie=function(_e){return sa(_e,c)};return!(g>1||this.__actions__.length)&&G instanceof Un&&co(T)?((G=G.slice(T,+T+(g?1:0))).__actions__.push({func:Ua,args:[ie],thisArg:V}),new Ho(G,this.__chain__).thru(function(_e){return g&&!_e.length&&_e.push(V),_e})):this.thru(ie)}),Ph=oc(function(c,g,T){On.call(c,T)?++c[T]:cs(c,T,1)}),gf=sd(Pd),Nc=sd(xd);function ku(c,g){return(Gi(c)?go:Mu)(c,xn(g,3))}function kh(c,g){return(Gi(c)?za:ed)(c,xn(g,3))}var yg=oc(function(c,g,T){On.call(c,T)?c[T].push(g):cs(c,T,[g])}),Op=Mi(function(c,g,T){var G=-1,ie="function"==typeof g,_e=to(c)?Tt(c.length):[];return Mu(c,function(Fe){_e[++G]=ie?$s(g,Fe,T):bu(Fe,g,T)}),_e}),_f=oc(function(c,g,T){cs(c,T,g)});function Fh(c,g){return(Gi(c)?Ei:ar)(c,xn(g,3))}var vf=oc(function(c,g,T){c[T?0:1].push(g)},function(){return[[],[]]}),oh=Mi(function(c,g){if(null==c)return[];var T=g.length;return T>1&&Ro(c,g[0],g[1])?g=[]:T>2&&Ro(g[0],g[1],g[2])&&(g=[g[0]]),gl(c,Jo(g,1),[])}),ah=qo||function(){return ps.Date.now()};function ru(c,g,T){return g=T?V:g,Ru(c,Je,V,V,V,V,g=c&&null==g?c.length:g)}function vg(c,g){var T;if("function"!=typeof g)throw new Rs(Te);return c=zi(c),function(){return--c>0&&(T=g.apply(this,arguments)),c<=1&&(g=V),T}}var bf=Mi(function(c,g,T){var G=Gt;if(T.length){var ie=$(T,Vc(bf));G|=ct}return Ru(c,G,g,T,ie)}),rp=Mi(function(c,g,T){var G=Gt|at;if(T.length){var ie=$(T,Vc(rp));G|=ct}return Ru(g,G,c,T,ie)});function uh(c,g,T){var G,ie,_e,Fe,Xe,vt,fn=0,dn=!1,Cn=!1,rr=!0;if("function"!=typeof c)throw new Rs(Te);function Nr(ca){var gc=G,Pl=ie;return G=ie=V,fn=ca,Fe=c.apply(Pl,gc)}function Gr(ca){var gc=ca-vt;return vt===V||gc>=g||gc<0||Cn&&ca-fn>=_e}function _s(){var ca=ah();if(Gr(ca))return ys(ca);Xe=ld(_s,function ts(ca){var ig=g-(ca-vt);return Cn?Cs(ig,_e-(ca-fn)):ig}(ca))}function ys(ca){return Xe=V,rr&&G?Nr(ca):(G=ie=V,Fe)}function ec(){var ca=ah(),gc=Gr(ca);if(G=arguments,ie=this,vt=ca,gc){if(Xe===V)return function Jr(ca){return fn=ca,Xe=ld(_s,g),dn?Nr(ca):Fe}(vt);if(Cn)return _l(Xe),Xe=ld(_s,g),Nr(vt)}return Xe===V&&(Xe=ld(_s,g)),Fe}return g=Ql(g)||0,$o(T)&&(dn=!!T.leading,_e=(Cn="maxWait"in T)?ss(Ql(T.maxWait)||0,g):_e,rr="trailing"in T?!!T.trailing:rr),ec.cancel=function ul(){Xe!==V&&_l(Xe),fn=0,G=vt=ie=Xe=V},ec.flush=function Po(){return Xe===V?Fe:ys(ah())},ec}var bg=Mi(function(c,g){return Ku(c,1,g)}),Bh=Mi(function(c,g,T){return Ku(c,Ql(g)||0,T)});function pd(c,g){if("function"!=typeof c||null!=g&&"function"!=typeof g)throw new Rs(Te);var T=function(){var G=arguments,ie=g?g.apply(this,G):G[0],_e=T.cache;if(_e.has(ie))return _e.get(ie);var Fe=c.apply(this,G);return T.cache=_e.set(ie,Fe)||_e,Fe};return T.cache=new(pd.Cache||Fa),T}function ip(c){if("function"!=typeof c)throw new Rs(Te);return function(){var g=arguments;switch(g.length){case 0:return!c.call(this);case 1:return!c.call(this,g[0]);case 2:return!c.call(this,g[0],g[1]);case 3:return!c.call(this,g[0],g[1],g[2])}return!c.apply(this,g)}}pd.Cache=Fa;var Em=sc(function(c,g){var T=(g=1==g.length&&Gi(g[0])?Ei(g[0],xt(xn())):Ei(Jo(g,1),xt(xn()))).length;return Mi(function(G){for(var ie=-1,_e=Cs(G.length,T);++ie<_e;)G[ie]=g[ie].call(this,G[ie]);return $s(c,this,G)})}),wg=Mi(function(c,g){var T=$(g,Vc(wg));return Ru(c,ct,V,g,T)}),Dm=Mi(function(c,g){var T=$(g,Vc(Dm));return Ru(c,Se,V,g,T)}),Tm=Rl(function(c,g){return Ru(c,Yt,V,V,V,g)});function zc(c,g){return c===g||c!=c&&g!=g}var m_=eu(Ll),Uh=eu(function(c,g){return c>=g}),Hh=Sl(function(){return arguments}())?Sl:function(c){return Ia(c)&&On.call(c,"callee")&&!Fr.call(c,"callee")},Gi=Tt.isArray,Ef=oo?xt(oo):function Wd(c){return Ia(c)&&Qa(c)==In};function to(c){return null!=c&&gd(c.length)&&!fc(c)}function Ha(c){return Ia(c)&&to(c)}var lh=ju||xf,y_=ma?xt(ma):function xs(c){return Ia(c)&&Qa(c)==Ke};function Fp(c){if(!Ia(c))return!1;var g=Qa(c);return g==Tn||g==pt||"string"==typeof c.message&&"string"==typeof c.name&&!Gh(c)}function fc(c){if(!$o(c))return!1;var g=Qa(c);return g==zn||g==jn||g==Ge||g==wn}function Sg(c){return"number"==typeof c&&c==zi(c)}function gd(c){return"number"==typeof c&&c>-1&&c%1==0&&c<=_t}function $o(c){var g=typeof c;return null!=c&&("object"==g||"function"==g)}function Ia(c){return null!=c&&"object"==typeof c}var Ud=ja?xt(ja):function Vs(c){return Ia(c)&&Us(c)==pr};function ch(c){return"number"==typeof c||Ia(c)&&Qa(c)==ii}function Gh(c){if(!Ia(c)||Qa(c)!=di)return!1;var g=_i(c);if(null===g)return!0;var T=On.call(g,"constructor")&&g.constructor;return"function"==typeof T&&T instanceof T&&sr.call(T)==J}var dh=ou?xt(ou):function te(c){return Ia(c)&&Qa(c)==jr},md=$a?xt($a):function Ie(c){return Ia(c)&&Us(c)==hi};function _d(c){return"string"==typeof c||!Gi(c)&&Ia(c)&&Qa(c)==Vr}function sl(c){return"symbol"==typeof c||Ia(c)&&Qa(c)==bi}var Wc=So?xt(So):function tt(c){return Ia(c)&&gd(c.length)&&!!ti[Qa(c)]},w_=eu(Sn),Pg=eu(function(c,g){return c<=g});function xg(c){if(!c)return[];if(to(c))return _d(c)?Ht(c):Ou(c);if(Ni&&c[Ni])return function se(qe){for(var Rt,Tt=[];!(Rt=qe.next()).done;)Tt.push(Rt.value);return Tt}(c[Ni]());var g=Us(c);return(g==pr?I:g==hi?ne:Rc)(c)}function Kc(c){return c?(c=Ql(c))===It||c===-It?(c<0?-1:1)*Ot:c==c?c:0:0===c?c:0}function zi(c){var g=Kc(c),T=g%1;return g==g?T?g-T:g:0}function Up(c){return c?Ea(zi(c),0,Wt):0}function Ql(c){if("number"==typeof c)return c;if(sl(c))return Ct;if($o(c)){var g="function"==typeof c.valueOf?c.valueOf():c;c=$o(g)?g+"":g}if("string"!=typeof c)return 0===c?c:+c;c=Es(c);var T=dt.test(c);return T||Kn.test(c)?Io(c.slice(2),T?2:8):St.test(c)?Ct:+c}function ap(c){return Gl(c,Xl(c))}function Hs(c){return null==c?"":ms(c)}var kg=Ml(function(c,g){if(ql(g)||to(g))Gl(g,Lu(g),c);else for(var T in g)On.call(g,T)&&nn(c,T,g[T])}),Fg=Ml(function(c,g){Gl(g,Xl(g),c)}),hh=Ml(function(c,g,T,G){Gl(g,Xl(g),c,G)}),Lg=Ml(function(c,g,T,G){Gl(g,Lu(g),c,G)}),E_=Rl(sa),Hp=Mi(function(c,g){c=lr(c);var T=-1,G=g.length,ie=G>2?g[2]:V;for(ie&&Ro(g[0],g[1],ie)&&(G=1);++T<G;)for(var _e=g[T],Fe=Xl(_e),Xe=-1,vt=Fe.length;++Xe<vt;){var fn=Fe[Xe],dn=c[fn];(dn===V||zc(dn,ba[fn])&&!On.call(c,fn))&&(c[fn]=_e[fn])}return c}),Gp=Mi(function(c){return c.push(V,Du),$s($h,V,c)});function pc(c,g,T){var G=null==c?V:Yu(c,g);return G===V?T:G}function Ug(c,g){return null!=c&&bl(c,g,wd)}var I_=wc(function(c,g,T){null!=g&&"function"!=typeof g.toString&&(g=x.call(g)),c[g]=T},qh(zo)),Nm=wc(function(c,g,T){null!=g&&"function"!=typeof g.toString&&(g=x.call(g)),On.call(c,g)?c[g].push(T):c[g]=[T]},xn),Hg=Mi(bu);function Lu(c){return to(c)?F(c):sn(c)}function Xl(c){return to(c)?F(c,!0):function Yn(c){if(!$o(c))return function Rh(c){var g=[];if(null!=c)for(var T in lr(c))g.push(T);return g}(c);var g=ql(c),T=[];for(var G in c)"constructor"==G&&(g||!On.call(c,G))||T.push(G);return T}(c)}var Df=Ml(function(c,g,T){ea(c,g,T)}),$h=Ml(function(c,g,T,G){ea(c,g,T,G)}),zh=Rl(function(c,g){var T={};if(null==c)return T;var G=!1;g=Ei(g,function(_e){return _e=Wi(_e,c),G||(G=_e.length>1),_e}),Gl(c,od(c),T),G&&(T=Ji(T,be|xe|Vt,Kf));for(var ie=g.length;ie--;)zs(T,g[ie]);return T}),Mm=Rl(function(c,g){return null==c?{}:function ml(c,g){return aa(c,g,function(T,G){return Ug(c,G)})}(c,g)});function lp(c,g){if(null==c)return{};var T=Ei(od(c),function(G){return[G]});return g=xn(g),aa(c,T,function(G,ie){return g(G,ie[0])})}var zp=Nd(Lu),jg=Nd(Xl);function Rc(c){return null==c?[]:Hr(c,Lu(c))}var zg=ac(function(c,g,T){return g=g.toLowerCase(),c+(T?If(g):g)});function If(c){return gh(Hs(c).toLowerCase())}function Rm(c){return(c=Hs(c))&&c.replace(gr,va).replace(mi,"")}var Wg=ac(function(c,g,T){return c+(T?"-":"")+g.toLowerCase()}),N_=ac(function(c,g,T){return c+(T?" ":"")+g.toLowerCase()}),Kg=bc("toLowerCase"),Yg=ac(function(c,g,T){return c+(T?"_":"")+g.toLowerCase()}),Sf=ac(function(c,g,T){return c+(T?" ":"")+gh(g)}),Fm=ac(function(c,g,T){return c+(T?" ":"")+g.toUpperCase()}),gh=bc("toUpperCase");function Zp(c,g,T){return c=Hs(c),(g=T?V:g)===V?function Gu(qe){return gu.test(qe)}(c)?function Cr(qe){return qe.match(Lo)||[]}(c):function au(qe){return qe.match(Xt)||[]}(c):c.match(g)||[]}var Lm=Mi(function(c,g){try{return $s(c,V,g)}catch(T){return Fp(T)?T:new yr(T)}}),Xg=Rl(function(c,g){return go(g,function(T){T=oe(T),cs(c,T,bf(c[T],c))}),c});function qh(c){return function(){return c}}var Yh=Sd(),fp=Sd(!0);function zo(c){return c}function Nf(c){return ot("function"==typeof c?c:Ji(c,be))}var Of=Mi(function(c,g){return function(T){return bu(T,c,g)}}),Rf=Mi(function(c,g){return function(T){return bu(c,T,g)}});function mh(c,g,T){var G=Lu(g),ie=ic(g,G);null==T&&(!$o(g)||!ie.length&&G.length)&&(T=g,g=c,c=this,ie=ic(g,Lu(g)));var _e=!($o(T)&&"chain"in T&&!T.chain),Fe=fc(c);return go(ie,function(Xe){var vt=g[Xe];c[Xe]=vt,Fe&&(c.prototype[Xe]=function(){var fn=this.__chain__;if(_e||fn){var dn=c(this.__wrapped__);return(dn.__actions__=Ou(this.__actions__)).push({func:vt,args:arguments,thisArg:c}),dn.__chain__=fn,dn}return vt.apply(c,is([this.value()],arguments))})}),c}function yd(){}var Pf=jl(Ei),Jp=jl(Ls),Bm=jl(Oa);function pp(c){return Cc(c)?ao(oe(c)):function Ta(c){return function(g){return Yu(g,c)}}(c)}var Qp=Ol(),nm=Ol(!0);function Xp(){return[]}function xf(){return!1}var gp=yl(function(c,g){return c+g},0),mp=$l("ceil"),kf=yl(function(c,g){return c/g},1),_p=$l("floor"),ng=yl(function(c,g){return c*g},1),om=$l("round"),Hm=yl(function(c,g){return c-g},0);return he.after=function np(c,g){if("function"!=typeof g)throw new Rs(Te);return c=zi(c),function(){if(--c<1)return g.apply(this,arguments)}},he.ary=ru,he.assign=kg,he.assignIn=Fg,he.assignInWith=hh,he.assignWith=Lg,he.at=E_,he.before=vg,he.bind=bf,he.bindAll=Xg,he.bindKey=rp,he.castArray=function Cm(){if(!arguments.length)return[];var c=arguments[0];return Gi(c)?c:[c]},he.chain=la,he.chunk=function Gn(c,g,T){g=(T?Ro(c,g,T):g===V)?1:ss(zi(g),0);var G=null==c?0:c.length;if(!G||g<1)return[];for(var ie=0,_e=0,Fe=Tt(yi(G/g));ie<G;)Fe[_e++]=jo(c,ie,ie+=g);return Fe},he.compact=function or(c){for(var g=-1,T=null==c?0:c.length,G=0,ie=[];++g<T;){var _e=c[g];_e&&(ie[G++]=_e)}return ie},he.concat=function ur(){var c=arguments.length;if(!c)return[];for(var g=Tt(c-1),T=arguments[0],G=c;G--;)g[G-1]=arguments[G];return is(Gi(T)?Ou(T):[T],Jo(g,1))},he.cond=function em(c){var g=null==c?0:c.length,T=xn();return c=g?Ei(c,function(G){if("function"!=typeof G[1])throw new Rs(Te);return[T(G[0]),G[1]]}):[],Mi(function(G){for(var ie=-1;++ie<g;){var _e=c[ie];if($s(_e[0],this,G))return $s(_e[1],this,G)}})},he.conforms=function Pc(c){return function Au(c){var g=Lu(c);return function(T){return Nu(T,c,g)}}(Ji(c,be))},he.constant=qh,he.countBy=Ph,he.create=function Sm(c,g){var T=cu(c);return null==g?T:Di(T,g)},he.curry=function Oi(c,g,T){var G=Ru(c,Ce,V,V,V,V,V,g=T?V:g);return G.placeholder=Oi.placeholder,G},he.curryRight=function fd(c,g,T){var G=Ru(c,Kt,V,V,V,V,V,g=T?V:g);return G.placeholder=fd.placeholder,G},he.debounce=uh,he.defaults=Hp,he.defaultsDeep=Gp,he.defer=bg,he.delay=Bh,he.difference=ho,he.differenceBy=rl,he.differenceWith=Gc,he.drop=function Rd(c,g,T){var G=null==c?0:c.length;return G?jo(c,(g=T||g===V?1:zi(g))<0?0:g,G):[]},he.dropRight=function eo(c,g,T){var G=null==c?0:c.length;return G?jo(c,0,(g=G-(g=T||g===V?1:zi(g)))<0?0:g):[]},he.dropRightWhile=function jc(c,g){return c&&c.length?qd(c,xn(g,3),!0,!0):[]},he.dropWhile=function cd(c,g){return c&&c.length?qd(c,xn(g,3),!0):[]},he.fill=function Sc(c,g,T,G){var ie=null==c?0:c.length;return ie?(T&&"number"!=typeof T&&Ro(c,g,T)&&(T=0,G=ie),function pl(c,g,T,G){var ie=c.length;for((T=zi(T))<0&&(T=-T>ie?0:ie+T),(G=G===V||G>ie?ie:zi(G))<0&&(G+=ie),G=T>G?0:Up(G);T<G;)c[T++]=g;return c}(c,g,T,G)):[]},he.filter=function xh(c,g){return(Gi(c)?us:rc)(c,xn(g,3))},he.flatMap=function wl(c,g){return Jo(Fh(c,g),1)},he.flatMapDeep=function Jl(c,g){return Jo(Fh(c,g),It)},he.flatMapDepth=function Mc(c,g,T){return T=T===V?1:zi(T),Jo(Fh(c,g),T)},he.flatten=nh,he.flattenDeep=function qf(c){return null!=c&&c.length?Jo(c,It):[]},he.flattenDepth=function Yf(c,g){return null!=c&&c.length?Jo(c,g=g===V?1:zi(g)):[]},he.flip=function p_(c){return Ru(c,Ut)},he.flow=Yh,he.flowRight=fp,he.fromPairs=function rh(c){for(var g=-1,T=null==c?0:c.length,G={};++g<T;){var ie=c[g];G[ie[0]]=ie[1]}return G},he.functions=function up(c){return null==c?[]:ic(c,Lu(c))},he.functionsIn=function Bg(c){return null==c?[]:ic(c,Xl(c))},he.groupBy=yg,he.initial=function df(c){return null!=c&&c.length?jo(c,0,-1):[]},he.intersection=Sp,he.intersectionBy=Zf,he.intersectionWith=kd,he.invert=I_,he.invertBy=Nm,he.invokeMap=Op,he.iteratee=Nf,he.keyBy=_f,he.keys=Lu,he.keysIn=Xl,he.map=Fh,he.mapKeys=function jh(c,g){var T={};return g=xn(g,3),Qo(c,function(G,ie,_e){cs(T,g(G,ie,_e),G)}),T},he.mapValues=function Gg(c,g){var T={};return g=xn(g,3),Qo(c,function(G,ie,_e){cs(T,ie,g(G,ie,_e))}),T},he.matches=function Zh(c){return Kr(Ji(c,be))},he.matchesProperty=function Mf(c,g){return Lr(c,Ji(g,be))},he.memoize=pd,he.merge=Df,he.mergeWith=$h,he.method=Of,he.methodOf=Rf,he.mixin=mh,he.negate=ip,he.nthArg=function yh(c){return c=zi(c),Mi(function(g){return Mo(g,c)})},he.omit=zh,he.omitBy=function fh(c,g){return lp(c,ip(xn(g)))},he.once=function Vd(c){return vg(2,c)},he.orderBy=function yf(c,g,T,G){return null==c?[]:(Gi(g)||(g=null==g?[]:[g]),Gi(T=G?V:T)||(T=null==T?[]:[T]),gl(c,g,T))},he.over=Pf,he.overArgs=Em,he.overEvery=Jp,he.overSome=Bm,he.partial=wg,he.partialRight=Dm,he.partition=vf,he.pick=Mm,he.pickBy=lp,he.property=pp,he.propertyOf=function tm(c){return function(g){return null==c?V:Yu(c,g)}},he.pull=hf,he.pullAll=Fd,he.pullAllBy=function dd(c,g,T){return c&&c.length&&g&&g.length?Al(c,g,xn(T,2)):c},he.pullAllWith=function ff(c,g,T){return c&&c.length&&g&&g.length?Al(c,g,V,T):c},he.pullAt=_g,he.range=Qp,he.rangeRight=nm,he.rearg=Tm,he.reject=function ep(c,g){return(Gi(c)?us:rc)(c,ip(xn(g,3)))},he.remove=function ih(c,g){var T=[];if(!c||!c.length)return T;var G=-1,ie=[],_e=c.length;for(g=xn(g,3);++G<_e;){var Fe=c[G];g(Fe,G,c)&&(T.push(Fe),ie.push(G))}return _c(c,ie),T},he.rest=function Eg(c,g){if("function"!=typeof c)throw new Rs(Te);return Mi(c,g=g===V?g:zi(g))},he.reverse=pf,he.sampleSize=function El(c,g,T){return g=(T?Ro(c,g,T):g===V)?1:zi(g),(Gi(c)?ae:wu)(c,g)},he.set=function $p(c,g,T){return null==c?c:Bl(c,g,T)},he.setWith=function Hd(c,g,T,G){return G="function"==typeof G?G:V,null==c?c:Bl(c,g,T,G)},he.shuffle=function tp(c){return(Gi(c)?pe:La)(c)},he.slice=function Np(c,g,T){var G=null==c?0:c.length;return G?(T&&"number"!=typeof T&&Ro(c,g,T)?(g=0,T=G):(g=null==g?0:zi(g),T=T===V?G:zi(T)),jo(c,g,T)):[]},he.sortBy=oh,he.sortedUniq=function u(c){return c&&c.length?id(c):[]},he.sortedUniqBy=function _(c,g){return c&&c.length?id(c,xn(g,2)):[]},he.split=function Zg(c,g,T){return T&&"number"!=typeof T&&Ro(c,g,T)&&(g=T=V),(T=T===V?Wt:T>>>0)?(c=Hs(c))&&("string"==typeof g||null!=g&&!dh(g))&&!(g=ms(g))&&hl(c)?ua(Ht(c),0,T):c.split(g,T):[]},he.spread=function Vh(c,g){if("function"!=typeof c)throw new Rs(Te);return g=null==g?0:ss(zi(g),0),Mi(function(T){var G=T[g],ie=ua(T,0,g);return G&&is(ie,G),$s(c,this,ie)})},he.tail=function N(c){var g=null==c?0:c.length;return g?jo(c,1,g):[]},he.take=function j(c,g,T){return c&&c.length?jo(c,0,(g=T||g===V?1:zi(g))<0?0:g):[]},he.takeRight=function ye(c,g,T){var G=null==c?0:c.length;return G?jo(c,(g=G-(g=T||g===V?1:zi(g)))<0?0:g,G):[]},he.takeRightWhile=function Ve(c,g){return c&&c.length?qd(c,xn(g,3),!1,!0):[]},he.takeWhile=function Ze(c,g){return c&&c.length?qd(c,xn(g,3)):[]},he.tap=function Ca(c,g){return g(c),c},he.throttle=function Pp(c,g,T){var G=!0,ie=!0;if("function"!=typeof c)throw new Rs(Te);return $o(T)&&(G="leading"in T?!!T.leading:G,ie="trailing"in T?!!T.trailing:ie),uh(c,g,{leading:G,maxWait:g,trailing:ie})},he.thru=Ua,he.toArray=xg,he.toPairs=zp,he.toPairsIn=jg,he.toPath=function P_(c){return Gi(c)?Ei(c,oe):sl(c)?[c]:Ou(Z(Hs(c)))},he.toPlainObject=ap,he.transform=function cp(c,g,T){var G=Gi(c),ie=G||lh(c)||Wc(c);if(g=xn(g,4),null==T){var _e=c&&c.constructor;T=ie?G?new _e:[]:$o(c)&&fc(_e)?cu(_i(c)):{}}return(ie?go:Qo)(c,function(Fe,Xe,vt){return g(T,Fe,Xe,vt)}),T},he.unary=function xp(c){return ru(c,1)},he.union=Dt,he.unionBy=Bt,he.unionWith=Qn,he.uniq=function Rn(c){return c&&c.length?Nl(c):[]},he.uniqBy=function Xn(c,g){return c&&c.length?Nl(c,xn(g,2)):[]},he.uniqWith=function Xi(c,g){return g="function"==typeof g?g:V,c&&c.length?Nl(c,V,g):[]},he.unset=function Gd(c,g){return null==c||zs(c,g)},he.unzip=vr,he.unzipWith=Ti,he.update=function Tf(c,g,T){return null==c?c:Ju(c,g,Qi(T))},he.updateWith=function Wp(c,g,T,G){return G="function"==typeof G?G:V,null==c?c:Ju(c,g,Qi(T),G)},he.values=Rc,he.valuesIn=function Kp(c){return null==c?[]:Hr(c,Xl(c))},he.without=ds,he.words=Zp,he.wrap=function Dg(c,g){return wg(Qi(g),c)},he.xor=hs,he.xorBy=fo,he.xorWith=ri,he.zip=es,he.zipObject=function Hi(c,g){return Td(c||[],g||[],nn)},he.zipObjectDeep=function Ns(c,g){return Td(c||[],g||[],Bl)},he.zipWith=vo,he.entries=zp,he.entriesIn=jg,he.extend=Fg,he.extendWith=hh,mh(he,he),he.add=gp,he.attempt=Lm,he.camelCase=zg,he.capitalize=If,he.ceil=mp,he.clamp=function qp(c,g,T){return T===V&&(T=g,g=V),T!==V&&(T=(T=Ql(T))==T?T:0),g!==V&&(g=(g=Ql(g))==g?g:0),Ea(Ql(c),g,T)},he.clone=function vy(c){return Ji(c,Vt)},he.cloneDeep=function wf(c){return Ji(c,be|Vt)},he.cloneDeepWith=function sp(c,g){return Ji(c,be|Vt,g="function"==typeof g?g:V)},he.cloneWith=function g_(c,g){return Ji(c,Vt,g="function"==typeof g?g:V)},he.conformsTo=function Tg(c,g){return null==g||Nu(c,g,Lu(g))},he.deburr=Rm,he.defaultTo=function al(c,g){return null==c||c!=c?g:c},he.divide=kf,he.endsWith=function S_(c,g,T){c=Hs(c),g=ms(g);var G=c.length,ie=T=T===V?G:Ea(zi(T),0,G);return(T-=g.length)>=0&&c.slice(T,ie)==g},he.eq=zc,he.escape=function Pm(c){return(c=Hs(c))&&Ue.test(c)?c.replace(At,Eo):c},he.escapeRegExp=function A_(c){return(c=Hs(c))&&on.test(c)?c.replace(ze,"\\$&"):c},he.every=function Xf(c,g,T){var G=Gi(c)?Ls:td;return T&&Ro(c,g,T)&&(g=V),G(c,xn(g,3))},he.find=gf,he.findIndex=Pd,he.findKey=function D_(c,g){return Ko(c,xn(g,3),Qo)},he.findLast=Nc,he.findLastIndex=xd,he.findLastKey=function T_(c,g){return Ko(c,xn(g,3),nd)},he.floor=_p,he.forEach=ku,he.forEachRight=kh,he.forIn=function Fu(c,g){return null==c?c:Il(c,xn(g,3),Xl)},he.forInRight=function C_(c,g){return null==c?c:qu(c,xn(g,3),Xl)},he.forOwn=function Am(c,g){return c&&Qo(c,xn(g,3))},he.forOwnRight=function jp(c,g){return c&&nd(c,xn(g,3))},he.get=pc,he.gt=m_,he.gte=Uh,he.has=function Vg(c,g){return null!=c&&bl(c,g,mc)},he.hasIn=Ug,he.head=cf,he.identity=zo,he.includes=function mf(c,g,T,G){c=to(c)?c:Rc(c),T=T&&!G?zi(T):0;var ie=c.length;return T<0&&(T=ss(ie+T,0)),_d(c)?T<=ie&&c.indexOf(g,T)>-1:!!ie&&Os(c,g,T)>-1},he.indexOf=function wm(c,g,T){var G=null==c?0:c.length;if(!G)return-1;var ie=null==T?0:zi(T);return ie<0&&(ie=ss(G+ie,0)),Os(c,g,ie)},he.inRange=function $g(c,g,T){return g=Kc(g),T===V?(T=g,g=0):T=Kc(T),function kc(c,g,T){return c>=Cs(g,T)&&c<ss(g,T)}(c=Ql(c),g,T)},he.invoke=Hg,he.isArguments=Hh,he.isArray=Gi,he.isArrayBuffer=Ef,he.isArrayLike=to,he.isArrayLikeObject=Ha,he.isBoolean=function __(c){return!0===c||!1===c||Ia(c)&&Qa(c)==yt},he.isBuffer=lh,he.isDate=y_,he.isElement=function Cg(c){return Ia(c)&&1===c.nodeType&&!Gh(c)},he.isEmpty=function v_(c){if(null==c)return!0;if(to(c)&&(Gi(c)||"string"==typeof c||"function"==typeof c.splice||lh(c)||Wc(c)||Hh(c)))return!c.length;var g=Us(c);if(g==pr||g==hi)return!c.size;if(ql(c))return!sn(c).length;for(var T in c)if(On.call(c,T))return!1;return!0},he.isEqual=function op(c,g){return Zu(c,g)},he.isEqualWith=function kp(c,g,T){var G=(T="function"==typeof T?T:V)?T(c,g):V;return G===V?Zu(c,g,V,T):!!G},he.isError=Fp,he.isFinite=function Ig(c){return"number"==typeof c&&Cu(c)},he.isFunction=fc,he.isInteger=Sg,he.isLength=gd,he.isMap=Ud,he.isMatch=function Ag(c,g){return c===g||k(c,g,Pu(g))},he.isMatchWith=function b_(c,g,T){return T="function"==typeof T?T:V,k(c,g,Pu(g),T)},he.isNaN=function Ng(c){return ch(c)&&c!=+c},he.isNative=function Im(c){if(Ba(c))throw new yr("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return H(c)},he.isNil=function Lp(c){return null==c},he.isNull=function Mg(c){return null===c},he.isNumber=ch,he.isObject=$o,he.isObjectLike=Ia,he.isPlainObject=Gh,he.isRegExp=dh,he.isSafeInteger=function Og(c){return Sg(c)&&c>=-_t&&c<=_t},he.isSet=md,he.isString=_d,he.isSymbol=sl,he.isTypedArray=Wc,he.isUndefined=function Bp(c){return c===V},he.isWeakMap=function Rg(c){return Ia(c)&&Us(c)==fr},he.isWeakSet=function Vp(c){return Ia(c)&&"[object WeakSet]"==Qa(c)},he.join=function Ap(c,g){return null==c?"":Jc.call(c,g)},he.kebabCase=Wg,he.last=dc,he.lastIndexOf=function Va(c,g,T){var G=null==c?0:c.length;if(!G)return-1;var ie=G;return T!==V&&(ie=(ie=zi(T))<0?ss(G+ie,0):Cs(ie,G-1)),g==g?function He(qe,Rt,Tt){for(var Pn=Tt+1;Pn--;)if(qe[Pn]===Rt)return Pn;return Pn}(c,g,ie):Vo(c,ya,ie,!0)},he.lowerCase=N_,he.lowerFirst=Kg,he.lt=w_,he.lte=Pg,he.max=function Ff(c){return c&&c.length?ci(c,zo,Ll):V},he.maxBy=function im(c,g){return c&&c.length?ci(c,xn(g,2),Ll):V},he.mean=function sm(c){return _r(c,zo)},he.meanBy=function xc(c,g){return _r(c,xn(g,2))},he.min=function Lf(c){return c&&c.length?ci(c,zo,Sn):V},he.minBy=function Um(c,g){return c&&c.length?ci(c,xn(g,2),Sn):V},he.stubArray=Xp,he.stubFalse=xf,he.stubObject=function Vm(){return{}},he.stubString=function rm(){return""},he.stubTrue=function R_(){return!0},he.multiply=ng,he.nth=function Jf(c,g){return c&&c.length?Mo(c,zi(g)):V},he.noConflict=function _h(){return ps._===this&&(ps._=B),this},he.noop=yd,he.now=ah,he.pad=function M_(c,g,T){c=Hs(c);var G=(g=zi(g))?wt(c):0;if(!g||G>=g)return c;var ie=(g-G)/2;return Oo(Zs(ie),T)+c+Oo(yi(ie),T)},he.padEnd=function qg(c,g,T){c=Hs(c);var G=(g=zi(g))?wt(c):0;return g&&G<g?c+Oo(g-G,T):c},he.padStart=function xm(c,g,T){c=Hs(c);var G=(g=zi(g))?wt(c):0;return g&&G<g?Oo(g-G,T)+c:c},he.parseInt=function dp(c,g,T){return T||null==g?g=0:g&&(g=+g),Iu(Hs(c).replace(ke,""),g||0)},he.random=function Cf(c,g,T){if(T&&"boolean"!=typeof T&&Ro(c,g,T)&&(g=T=V),T===V&&("boolean"==typeof g?(T=g,g=V):"boolean"==typeof c&&(T=c,c=V)),c===V&&g===V?(c=0,g=1):(c=Kc(c),g===V?(g=c,c=0):g=Kc(g)),c>g){var G=c;c=g,g=G}if(T||c%1||g%1){var ie=gn();return Cs(c+ie*(g-c+Hu("1e-"+((ie+"").length-1))),g)}return Th(c,g)},he.reduce=function Lh(c,g,T){var G=Gi(c)?As:z,ie=arguments.length<3;return G(c,xn(g,4),T,ie,Mu)},he.reduceRight=function Rp(c,g,T){var G=Gi(c)?Wa:z,ie=arguments.length<3;return G(c,xn(g,4),T,ie,ed)},he.repeat=function km(c,g,T){return g=(T?Ro(c,g,T):g===V)?1:zi(g),Dd(Hs(c),g)},he.replace=function hp(){var c=arguments,g=Hs(c[0]);return c.length<3?g:g.replace(c[1],c[2])},he.result=function Om(c,g,T){var G=-1,ie=(g=Wi(g,c)).length;for(ie||(ie=1,c=V);++G<ie;){var _e=null==c?V:c[oe(g[G])];_e===V&&(G=ie,_e=T),c=fc(_e)?_e.call(c):_e}return c},he.round=om,he.runInContext=qe,he.sample=function Oc(c){return(Gi(c)?q:yc)(c)},he.size=function Bd(c){if(null==c)return 0;if(to(c))return _d(c)?wt(c):c.length;var g=Us(c);return g==pr||g==hi?c.size:sn(c).length},he.snakeCase=Yg,he.some=function sh(c,g,T){var G=Gi(c)?Oa:nf;return T&&Ro(c,g,T)&&(g=V),G(c,xn(g,3))},he.sortedIndex=function Ld(c,g){return Eu(c,g)},he.sortedIndexBy=function Mp(c,g,T){return lo(c,g,xn(T,2))},he.sortedIndexOf=function Qf(c,g){var T=null==c?0:c.length;if(T){var G=Eu(c,g);if(G<T&&zc(c[G],g))return G}return-1},he.sortedLastIndex=function hd(c,g){return Eu(c,g,!0)},he.sortedLastIndexBy=function h(c,g,T){return lo(c,g,xn(T,2),!0)},he.sortedLastIndexOf=function w(c,g){if(null!=c&&c.length){var G=Eu(c,g,!0)-1;if(zc(c[G],g))return G}return-1},he.startCase=Sf,he.startsWith=function ph(c,g,T){return c=Hs(c),T=null==T?0:Ea(zi(T),0,c.length),g=ms(g),c.slice(T,T+g.length)==g},he.subtract=Hm,he.sum=function rg(c){return c&&c.length?le(c,zo):0},he.sumBy=function am(c,g){return c&&c.length?le(c,xn(g,2)):0},he.template=function Jg(c,g,T){var G=he.templateSettings;T&&Ro(c,g,T)&&(g=V),c=Hs(c),g=hh({},g,G,Mh);var Xe,vt,ie=hh({},g.imports,G.imports,Mh),_e=Lu(ie),Fe=Hr(ie,_e),fn=0,dn=g.interpolate||Zn,Cn="__p += '",rr=Bs((g.escape||Zn).source+"|"+dn.source+"|"+(dn===Ee?gi:Zn).source+"|"+(g.evaluate||Zn).source+"|$","g"),Nr="//# sourceURL="+(On.call(g,"sourceURL")?(g.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Na+"]")+"\n";c.replace(rr,function(Gr,_s,ys,ul,Po,ec){return ys||(ys=ul),Cn+=c.slice(fn,ec).replace(ai,ra),_s&&(Xe=!0,Cn+="' +\n__e("+_s+") +\n'"),Po&&(vt=!0,Cn+="';\n"+Po+";\n__p += '"),ys&&(Cn+="' +\n((__t = ("+ys+")) == null ? '' : __t) +\n'"),fn=ec+Gr.length,Gr}),Cn+="';\n";var Jr=On.call(g,"variable")&&g.variable;if(Jr){if(Vn.test(Jr))throw new yr("Invalid `variable` option passed into `_.template`")}else Cn="with (obj) {\n"+Cn+"\n}\n";Cn=(vt?Cn.replace(vs,""):Cn).replace(Rr,"$1").replace(oi,"$1;"),Cn="function("+(Jr||"obj")+") {\n"+(Jr?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(Xe?", __e = _.escape":"")+(vt?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+Cn+"return __p\n}";var ts=Lm(function(){return Yr(_e,Nr+"return "+Cn).apply(V,Fe)});if(ts.source=Cn,Fp(ts))throw ts;return ts},he.times=function eg(c,g){if((c=zi(c))<1||c>_t)return[];var T=Wt,G=Cs(c,Wt);g=xn(g),c-=Wt;for(var ie=Pt(G,g);++T<c;)g(T);return ie},he.toFinite=Kc,he.toInteger=zi,he.toLength=Up,he.toLower=function Af(c){return Hs(c).toLowerCase()},he.toNumber=Ql,he.toSafeInteger=function ol(c){return c?Ea(zi(c),-_t,_t):0===c?c:0},he.toString=Hs,he.toUpper=function Wh(c){return Hs(c).toUpperCase()},he.trim=function Qg(c,g,T){if((c=Hs(c))&&(T||g===V))return Es(c);if(!c||!(g=ms(g)))return c;var G=Ht(c),ie=Ht(g);return ua(G,Ka(G,ie),ls(G,ie)+1).join("")},he.trimEnd=function Kh(c,g,T){if((c=Hs(c))&&(T||g===V))return c.slice(0,Hn(c)+1);if(!c||!(g=ms(g)))return c;var G=Ht(c);return ua(G,0,ls(G,Ht(g))+1).join("")},he.trimStart=function O_(c,g,T){if((c=Hs(c))&&(T||g===V))return c.replace(ke,"");if(!c||!(g=ms(g)))return c;var G=Ht(c);return ua(G,Ka(G,Ht(g))).join("")},he.truncate=function by(c,g){var T=30,G="...";if($o(g)){var ie="separator"in g?g.separator:ie;T="length"in g?zi(g.length):T,G="omission"in g?ms(g.omission):G}var _e=(c=Hs(c)).length;if(hl(c)){var Fe=Ht(c);_e=Fe.length}if(T>=_e)return c;var Xe=T-wt(G);if(Xe<1)return G;var vt=Fe?ua(Fe,0,Xe).join(""):c.slice(0,Xe);if(ie===V)return vt+G;if(Fe&&(Xe+=vt.length-Xe),dh(ie)){if(c.slice(Xe).search(ie)){var fn,dn=vt;for(ie.global||(ie=Bs(ie.source,Hs(Ws.exec(ie))+"g")),ie.lastIndex=0;fn=ie.exec(dn);)var Cn=fn.index;vt=vt.slice(0,Cn===V?Xe:Cn)}}else if(c.indexOf(ms(ie),Xe)!=Xe){var rr=vt.lastIndexOf(ie);rr>-1&&(vt=vt.slice(0,rr))}return vt+G},he.unescape=function Yp(c){return(c=Hs(c))&&Le.test(c)?c.replace(pi,qn):c},he.uniqueId=function tg(c){var g=++hr;return Hs(c)+g},he.upperCase=Fm,he.upperFirst=gh,he.each=ku,he.eachRight=kh,he.first=cf,mh(he,function(){var c={};return Qo(he,function(g,T){On.call(he.prototype,T)||(c[T]=g)}),c}(),{chain:!1}),he.VERSION="4.17.21",go(["bind","bindKey","curry","curryRight","partial","partialRight"],function(c){he[c].placeholder=he}),go(["drop","take"],function(c,g){Un.prototype[c]=function(T){T=T===V?1:ss(zi(T),0);var G=this.__filtered__&&!g?new Un(this):this.clone();return G.__filtered__?G.__takeCount__=Cs(T,G.__takeCount__):G.__views__.push({size:Cs(T,Wt),type:c+(G.__dir__<0?"Right":"")}),G},Un.prototype[c+"Right"]=function(T){return this.reverse()[c](T).reverse()}}),go(["filter","map","takeWhile"],function(c,g){var T=g+1,G=1==T||3==T;Un.prototype[c]=function(ie){var _e=this.clone();return _e.__iteratees__.push({iteratee:xn(ie,3),type:T}),_e.__filtered__=_e.__filtered__||G,_e}}),go(["head","last"],function(c,g){var T="take"+(g?"Right":"");Un.prototype[c]=function(){return this[T](1).value()[0]}}),go(["initial","tail"],function(c,g){var T="drop"+(g?"":"Right");Un.prototype[c]=function(){return this.__filtered__?new Un(this):this[T](1)}}),Un.prototype.compact=function(){return this.filter(zo)},Un.prototype.find=function(c){return this.filter(c).head()},Un.prototype.findLast=function(c){return this.reverse().find(c)},Un.prototype.invokeMap=Mi(function(c,g){return"function"==typeof c?new Un(this):this.map(function(T){return bu(T,c,g)})}),Un.prototype.reject=function(c){return this.filter(ip(xn(c)))},Un.prototype.slice=function(c,g){c=zi(c);var T=this;return T.__filtered__&&(c>0||g<0)?new Un(T):(c<0?T=T.takeRight(-c):c&&(T=T.drop(c)),g!==V&&(T=(g=zi(g))<0?T.dropRight(-g):T.take(g-c)),T)},Un.prototype.takeRightWhile=function(c){return this.reverse().takeWhile(c).reverse()},Un.prototype.toArray=function(){return this.take(Wt)},Qo(Un.prototype,function(c,g){var T=/^(?:filter|find|map|reject)|While$/.test(g),G=/^(?:head|last)$/.test(g),ie=he[G?"take"+("last"==g?"Right":""):g],_e=G||/^find/.test(g);ie&&(he.prototype[g]=function(){var Fe=this.__wrapped__,Xe=G?[1]:arguments,vt=Fe instanceof Un,fn=Xe[0],dn=vt||Gi(Fe),Cn=function(_s){var ys=ie.apply(he,is([_s],Xe));return G&&rr?ys[0]:ys};dn&&T&&"function"==typeof fn&&1!=fn.length&&(vt=dn=!1);var rr=this.__chain__,Jr=_e&&!rr,ts=vt&&!this.__actions__.length;if(!_e&&dn){Fe=ts?Fe:new Un(this);var Gr=c.apply(Fe,Xe);return Gr.__actions__.push({func:Ua,args:[Cn],thisArg:V}),new Ho(Gr,rr)}return Jr&&ts?c.apply(this,Xe):(Gr=this.thru(Cn),Jr?G?Gr.value()[0]:Gr.value():Gr)})}),go(["pop","push","shift","sort","splice","unshift"],function(c){var g=_u[c],T=/^(?:push|sort|unshift)$/.test(c)?"tap":"thru",G=/^(?:pop|shift)$/.test(c);he.prototype[c]=function(){var ie=arguments;if(G&&!this.__chain__){var _e=this.value();return g.apply(Gi(_e)?_e:[],ie)}return this[T](function(Fe){return g.apply(Gi(Fe)?Fe:[],ie)})}}),Qo(Un.prototype,function(c,g){var T=he[g];if(T){var G=T.name+"";On.call(rn,G)||(rn[G]=[]),rn[G].push({name:g,func:T})}}),rn[Bc(V,at).name]=[{name:"wrapper",func:V}],Un.prototype.clone=function xa(){var c=new Un(this.__wrapped__);return c.__actions__=Ou(this.__actions__),c.__dir__=this.__dir__,c.__filtered__=this.__filtered__,c.__iteratees__=Ou(this.__iteratees__),c.__takeCount__=this.__takeCount__,c.__views__=Ou(this.__views__),c},Un.prototype.reverse=function Fl(){if(this.__filtered__){var c=new Un(this);c.__dir__=-1,c.__filtered__=!0}else(c=this.clone()).__dir__*=-1;return c},Un.prototype.value=function os(){var c=this.__wrapped__.value(),g=this.__dir__,T=Gi(c),G=g<0,ie=T?c.length:0,_e=function Dc(c,g,T){for(var G=-1,ie=T.length;++G<ie;){var _e=T[G],Fe=_e.size;switch(_e.type){case"drop":c+=Fe;break;case"dropRight":g-=Fe;break;case"take":g=Cs(g,c+Fe);break;case"takeRight":c=ss(c,g-Fe)}}return{start:c,end:g}}(0,ie,this.__views__),Fe=_e.start,Xe=_e.end,vt=Xe-Fe,fn=G?Xe:Fe-1,dn=this.__iteratees__,Cn=dn.length,rr=0,Nr=Cs(vt,this.__takeCount__);if(!T||!G&&ie==vt&&Nr==vt)return Vl(c,this.__actions__);var Jr=[];e:for(;vt--&&rr<Nr;){for(var ts=-1,Gr=c[fn+=g];++ts<Cn;){var _s=dn[ts],ul=_s.type,Po=(0,_s.iteratee)(Gr);if(2==ul)Gr=Po;else if(!Po){if(1==ul)continue e;break e}}Jr[rr++]=Gr}return Jr},he.prototype.at=Yl,he.prototype.chain=function xu(){return la(this)},he.prototype.commit=function $c(){return new Ho(this.value(),this.__chain__)},he.prototype.next=function Ac(){this.__values__===V&&(this.__values__=xg(this.value()));var c=this.__index__>=this.__values__.length;return{done:c,value:c?V:this.__values__[this.__index__++]}},he.prototype.plant=function il(c){for(var g,T=this;T instanceof Ya;){var G=_n(T);G.__index__=0,G.__values__=V,g?ie.__wrapped__=G:g=G;var ie=G;T=T.__wrapped__}return ie.__wrapped__=c,g},he.prototype.reverse=function Zl(){var c=this.__wrapped__;if(c instanceof Un){var g=c;return this.__actions__.length&&(g=new Un(this)),(g=g.reverse()).__actions__.push({func:Ua,args:[pf],thisArg:V}),new Ho(g,this.__chain__)}return this.thru(pf)},he.prototype.toJSON=he.prototype.valueOf=he.prototype.value=function hc(){return Vl(this.__wrapped__,this.__actions__)},he.prototype.first=he.prototype.head,Ni&&(he.prototype[Ni]=function du(){return this}),he}();ps._=ni,(a=function(){return ni}.call(lt,Y,lt,Nn))!==V&&(Nn.exports=a)}.call(this)},6317:(Nn,lt,Y)=>{"use strict";Y.d(lt,{X:()=>V});var a=Y(253);class V extends a.x{constructor(fe){super(),this._value=fe}get value(){return this.getValue()}_subscribe(fe){const re=super._subscribe(fe);return!re.closed&&fe.next(this._value),re}getValue(){const{hasError:fe,thrownError:re,_value:Te}=this;if(fe)throw re;return this._throwIfClosed(),Te}next(fe){super.next(this._value=fe)}}},833:(Nn,lt,Y)=>{"use strict";Y.d(lt,{y:()=>$e});var a=Y(5463),V=Y(7714),ee=Y(4585),fe=Y(629),re=Y(9057),Te=Y(2971),je=Y(2309);let $e=(()=>{class xe{constructor(st){st&&(this._subscribe=st)}lift(st){const Ft=new xe;return Ft.source=this,Ft.operator=st,Ft}subscribe(st,Ft,Gt){const at=function be(xe){return xe&&xe instanceof a.Lv||function De(xe){return xe&&(0,Te.m)(xe.next)&&(0,Te.m)(xe.error)&&(0,Te.m)(xe.complete)}(xe)&&(0,V.Nn)(xe)}(st)?st:new a.Hp(st,Ft,Gt);return(0,je.x)(()=>{const{operator:ht,source:Ce}=this;at.add(ht?ht.call(at,Ce):Ce?this._subscribe(at):this._trySubscribe(at))}),at}_trySubscribe(st){try{return this._subscribe(st)}catch(Ft){st.error(Ft)}}forEach(st,Ft){return new(Ft=et(Ft))((Gt,at)=>{const ht=new a.Hp({next:Ce=>{try{st(Ce)}catch(Kt){at(Kt),ht.unsubscribe()}},error:at,complete:Gt});this.subscribe(ht)})}_subscribe(st){var Ft;return null===(Ft=this.source)||void 0===Ft?void 0:Ft.subscribe(st)}[ee.L](){return this}pipe(...st){return(0,fe.U)(st)(this)}toPromise(st){return new(st=et(st))((Ft,Gt)=>{let at;this.subscribe(ht=>at=ht,ht=>Gt(ht),()=>Ft(at))})}}return xe.create=Vt=>new xe(Vt),xe})();function et(xe){var Vt;return null!==(Vt=xe??re.v.Promise)&&void 0!==Vt?Vt:Promise}},253:(Nn,lt,Y)=>{"use strict";Y.d(lt,{x:()=>je});var a=Y(833),V=Y(7714);const fe=(0,Y(7543).d)(et=>function(){et(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var re=Y(9663),Te=Y(2309);let je=(()=>{class et extends a.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(be){const xe=new $e(this,this);return xe.operator=be,xe}_throwIfClosed(){if(this.closed)throw new fe}next(be){(0,Te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const xe of this.currentObservers)xe.next(be)}})}error(be){(0,Te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=be;const{observers:xe}=this;for(;xe.length;)xe.shift().error(be)}})}complete(){(0,Te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:be}=this;for(;be.length;)be.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var be;return(null===(be=this.observers)||void 0===be?void 0:be.length)>0}_trySubscribe(be){return this._throwIfClosed(),super._trySubscribe(be)}_subscribe(be){return this._throwIfClosed(),this._checkFinalizedStatuses(be),this._innerSubscribe(be)}_innerSubscribe(be){const{hasError:xe,isStopped:Vt,observers:st}=this;return xe||Vt?V.Lc:(this.currentObservers=null,st.push(be),new V.w0(()=>{this.currentObservers=null,(0,re.P)(st,be)}))}_checkFinalizedStatuses(be){const{hasError:xe,thrownError:Vt,isStopped:st}=this;xe?be.error(Vt):st&&be.complete()}asObservable(){const be=new a.y;return be.source=this,be}}return et.create=(De,be)=>new $e(De,be),et})();class $e extends je{constructor(De,be){super(),this.destination=De,this.source=be}next(De){var be,xe;null===(xe=null===(be=this.destination)||void 0===be?void 0:be.next)||void 0===xe||xe.call(be,De)}error(De){var be,xe;null===(xe=null===(be=this.destination)||void 0===be?void 0:be.error)||void 0===xe||xe.call(be,De)}complete(){var De,be;null===(be=null===(De=this.destination)||void 0===De?void 0:De.complete)||void 0===be||be.call(De)}_subscribe(De){var be,xe;return null!==(xe=null===(be=this.source)||void 0===be?void 0:be.subscribe(De))&&void 0!==xe?xe:V.Lc}}},5463:(Nn,lt,Y)=>{"use strict";Y.d(lt,{Hp:()=>Gt,Lv:()=>xe});var a=Y(2971),V=Y(7714),ee=Y(9057),fe=Y(4709),re=Y(9635);const Te=et("C",void 0,void 0);function et(ct,Se,Je){return{kind:ct,value:Se,error:Je}}var De=Y(3542),be=Y(2309);class xe extends V.w0{constructor(Se){super(),this.isStopped=!1,Se?(this.destination=Se,(0,V.Nn)(Se)&&Se.add(this)):this.destination=Kt}static create(Se,Je,Yt){return new Gt(Se,Je,Yt)}next(Se){this.isStopped?Ce(function $e(ct){return et("N",ct,void 0)}(Se),this):this._next(Se)}error(Se){this.isStopped?Ce(function je(ct){return et("E",void 0,ct)}(Se),this):(this.isStopped=!0,this._error(Se))}complete(){this.isStopped?Ce(Te,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Se){this.destination.next(Se)}_error(Se){try{this.destination.error(Se)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Vt=Function.prototype.bind;function st(ct,Se){return Vt.call(ct,Se)}class Ft{constructor(Se){this.partialObserver=Se}next(Se){const{partialObserver:Je}=this;if(Je.next)try{Je.next(Se)}catch(Yt){at(Yt)}}error(Se){const{partialObserver:Je}=this;if(Je.error)try{Je.error(Se)}catch(Yt){at(Yt)}else at(Se)}complete(){const{partialObserver:Se}=this;if(Se.complete)try{Se.complete()}catch(Je){at(Je)}}}class Gt extends xe{constructor(Se,Je,Yt){let Ut;if(super(),(0,a.m)(Se)||!Se)Ut={next:Se??void 0,error:Je??void 0,complete:Yt??void 0};else{let ft;this&&ee.v.useDeprecatedNextContext?(ft=Object.create(Se),ft.unsubscribe=()=>this.unsubscribe(),Ut={next:Se.next&&st(Se.next,ft),error:Se.error&&st(Se.error,ft),complete:Se.complete&&st(Se.complete,ft)}):Ut=Se}this.destination=new Ft(Ut)}}function at(ct){ee.v.useDeprecatedSynchronousErrorHandling?(0,be.O)(ct):(0,fe.h)(ct)}function Ce(ct,Se){const{onStoppedNotification:Je}=ee.v;Je&&De.z.setTimeout(()=>Je(ct,Se))}const Kt={closed:!0,next:re.Z,error:function ht(ct){throw ct},complete:re.Z}},7714:(Nn,lt,Y)=>{"use strict";Y.d(lt,{Lc:()=>Te,w0:()=>re,Nn:()=>je});var a=Y(2971);const ee=(0,Y(7543).d)(et=>function(be){et(this),this.message=be?`${be.length} errors occurred during unsubscription:\n${be.map((xe,Vt)=>`${Vt+1}) ${xe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=be});var fe=Y(9663);class re{constructor(De){this.initialTeardown=De,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let De;if(!this.closed){this.closed=!0;const{_parentage:be}=this;if(be)if(this._parentage=null,Array.isArray(be))for(const st of be)st.remove(this);else be.remove(this);const{initialTeardown:xe}=this;if((0,a.m)(xe))try{xe()}catch(st){De=st instanceof ee?st.errors:[st]}const{_finalizers:Vt}=this;if(Vt){this._finalizers=null;for(const st of Vt)try{$e(st)}catch(Ft){De=De??[],Ft instanceof ee?De=[...De,...Ft.errors]:De.push(Ft)}}if(De)throw new ee(De)}}add(De){var be;if(De&&De!==this)if(this.closed)$e(De);else{if(De instanceof re){if(De.closed||De._hasParent(this))return;De._addParent(this)}(this._finalizers=null!==(be=this._finalizers)&&void 0!==be?be:[]).push(De)}}_hasParent(De){const{_parentage:be}=this;return be===De||Array.isArray(be)&&be.includes(De)}_addParent(De){const{_parentage:be}=this;this._parentage=Array.isArray(be)?(be.push(De),be):be?[be,De]:De}_removeParent(De){const{_parentage:be}=this;be===De?this._parentage=null:Array.isArray(be)&&(0,fe.P)(be,De)}remove(De){const{_finalizers:be}=this;be&&(0,fe.P)(be,De),De instanceof re&&De._removeParent(this)}}re.EMPTY=(()=>{const et=new re;return et.closed=!0,et})();const Te=re.EMPTY;function je(et){return et instanceof re||et&&"closed"in et&&(0,a.m)(et.remove)&&(0,a.m)(et.add)&&(0,a.m)(et.unsubscribe)}function $e(et){(0,a.m)(et)?et():et.unsubscribe()}},9057:(Nn,lt,Y)=>{"use strict";Y.d(lt,{v:()=>a});const a={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6562:(Nn,lt,Y)=>{"use strict";Y.d(lt,{a:()=>De});var a=Y(833),V=Y(5756),ee=Y(3609),fe=Y(9173),re=Y(8385),Te=Y(420),je=Y(1054),$e=Y(3945),et=Y(1817);function De(...Vt){const st=(0,Te.yG)(Vt),Ft=(0,Te.jO)(Vt),{args:Gt,keys:at}=(0,V.D)(Vt);if(0===Gt.length)return(0,ee.D)([],st);const ht=new a.y(function be(Vt,st,Ft=fe.y){return Gt=>{xe(st,()=>{const{length:at}=Vt,ht=new Array(at);let Ce=at,Kt=at;for(let ct=0;ct<at;ct++)xe(st,()=>{const Se=(0,ee.D)(Vt[ct],st);let Je=!1;Se.subscribe((0,$e.x)(Gt,Yt=>{ht[ct]=Yt,Je||(Je=!0,Kt--),Kt||Gt.next(Ft(ht.slice()))},()=>{--Ce||Gt.complete()}))},Gt)},Gt)}}(Gt,st,at?Ce=>(0,je.n)(at,Ce):fe.y));return Ft?ht.pipe((0,re.Z)(Ft)):ht}function xe(Vt,st,Ft){Vt?(0,et.f)(Ft,Vt,st):st()}},9319:(Nn,lt,Y)=>{"use strict";Y.d(lt,{z:()=>re});var a=Y(1308),ee=Y(420),fe=Y(3609);function re(...Te){return function V(){return(0,a.J)(1)}()((0,fe.D)(Te,(0,ee.yG)(Te)))}},591:(Nn,lt,Y)=>{"use strict";Y.d(lt,{E:()=>V});const V=new(Y(833).y)(re=>re.complete())},1640:(Nn,lt,Y)=>{"use strict";Y.d(lt,{D:()=>$e});var a=Y(833),V=Y(5756),ee=Y(4987),fe=Y(420),re=Y(3945),Te=Y(8385),je=Y(1054);function $e(...et){const De=(0,fe.jO)(et),{args:be,keys:xe}=(0,V.D)(et),Vt=new a.y(st=>{const{length:Ft}=be;if(!Ft)return void st.complete();const Gt=new Array(Ft);let at=Ft,ht=Ft;for(let Ce=0;Ce<Ft;Ce++){let Kt=!1;(0,ee.Xf)(be[Ce]).subscribe((0,re.x)(st,ct=>{Kt||(Kt=!0,ht--),Gt[Ce]=ct},()=>at--,void 0,()=>{(!at||!Kt)&&(ht||st.next(xe?(0,je.n)(xe,Gt):Gt),st.complete())}))}});return De?Vt.pipe((0,Te.Z)(De)):Vt}},3609:(Nn,lt,Y)=>{"use strict";Y.d(lt,{D:()=>Se});var a=Y(4987),V=Y(8728),ee=Y(4317),Te=Y(833),$e=Y(7321),et=Y(2971),De=Y(1817);function xe(Je,Yt){if(!Je)throw new Error("Iterable cannot be null");return new Te.y(Ut=>{(0,De.f)(Ut,Yt,()=>{const ft=Je[Symbol.asyncIterator]();(0,De.f)(Ut,Yt,()=>{ft.next().then(Ye=>{Ye.done?Ut.complete():Ut.next(Ye.value)})},0,!0)})})}var Vt=Y(1331),st=Y(9548),Ft=Y(9806),Gt=Y(3433),at=Y(470),ht=Y(7785),Ce=Y(181);function Se(Je,Yt){return Yt?function ct(Je,Yt){if(null!=Je){if((0,Vt.c)(Je))return function fe(Je,Yt){return(0,a.Xf)(Je).pipe((0,ee.R)(Yt),(0,V.Q)(Yt))}(Je,Yt);if((0,Ft.z)(Je))return function je(Je,Yt){return new Te.y(Ut=>{let ft=0;return Yt.schedule(function(){ft===Je.length?Ut.complete():(Ut.next(Je[ft++]),Ut.closed||this.schedule())})})}(Je,Yt);if((0,st.t)(Je))return function re(Je,Yt){return(0,a.Xf)(Je).pipe((0,ee.R)(Yt),(0,V.Q)(Yt))}(Je,Yt);if((0,at.D)(Je))return xe(Je,Yt);if((0,Gt.T)(Je))return function be(Je,Yt){return new Te.y(Ut=>{let ft;return(0,De.f)(Ut,Yt,()=>{ft=Je[$e.h](),(0,De.f)(Ut,Yt,()=>{let Ye,Zt;try{({value:Ye,done:Zt}=ft.next())}catch(en){return void Ut.error(en)}Zt?Ut.complete():Ut.next(Ye)},0,!0)}),()=>(0,et.m)(ft?.return)&&ft.return()})}(Je,Yt);if((0,Ce.L)(Je))return function Kt(Je,Yt){return xe((0,Ce.Q)(Je),Yt)}(Je,Yt)}throw(0,ht.z)(Je)}(Je,Yt):(0,a.Xf)(Je)}},4987:(Nn,lt,Y)=>{"use strict";Y.d(lt,{Xf:()=>Vt});var a=Y(2321),V=Y(9806),ee=Y(9548),fe=Y(833),re=Y(1331),Te=Y(470),je=Y(7785),$e=Y(3433),et=Y(181),De=Y(2971),be=Y(4709),xe=Y(4585);function Vt(ct){if(ct instanceof fe.y)return ct;if(null!=ct){if((0,re.c)(ct))return function st(ct){return new fe.y(Se=>{const Je=ct[xe.L]();if((0,De.m)(Je.subscribe))return Je.subscribe(Se);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ct);if((0,V.z)(ct))return function Ft(ct){return new fe.y(Se=>{for(let Je=0;Je<ct.length&&!Se.closed;Je++)Se.next(ct[Je]);Se.complete()})}(ct);if((0,ee.t)(ct))return function Gt(ct){return new fe.y(Se=>{ct.then(Je=>{Se.closed||(Se.next(Je),Se.complete())},Je=>Se.error(Je)).then(null,be.h)})}(ct);if((0,Te.D)(ct))return ht(ct);if((0,$e.T)(ct))return function at(ct){return new fe.y(Se=>{for(const Je of ct)if(Se.next(Je),Se.closed)return;Se.complete()})}(ct);if((0,et.L)(ct))return function Ce(ct){return ht((0,et.Q)(ct))}(ct)}throw(0,je.z)(ct)}function ht(ct){return new fe.y(Se=>{(function Kt(ct,Se){var Je,Yt,Ut,ft;return(0,a.mG)(this,void 0,void 0,function*(){try{for(Je=(0,a.KL)(ct);!(Yt=yield Je.next()).done;)if(Se.next(Yt.value),Se.closed)return}catch(Ye){Ut={error:Ye}}finally{try{Yt&&!Yt.done&&(ft=Je.return)&&(yield ft.call(Je))}finally{if(Ut)throw Ut.error}}Se.complete()})})(ct,Se).catch(Je=>Se.error(Je))})}},6646:(Nn,lt,Y)=>{"use strict";Y.d(lt,{T:()=>Te});var a=Y(1308),V=Y(4987),ee=Y(591),fe=Y(420),re=Y(3609);function Te(...je){const $e=(0,fe.yG)(je),et=(0,fe._6)(je,1/0),De=je;return De.length?1===De.length?(0,V.Xf)(De[0]):(0,a.J)(et)((0,re.D)(De,$e)):ee.E}},745:(Nn,lt,Y)=>{"use strict";Y.d(lt,{of:()=>ee});var a=Y(420),V=Y(3609);function ee(...fe){const re=(0,a.yG)(fe);return(0,V.D)(fe,re)}},3945:(Nn,lt,Y)=>{"use strict";Y.d(lt,{x:()=>V});var a=Y(5463);function V(fe,re,Te,je,$e){return new ee(fe,re,Te,je,$e)}class ee extends a.Lv{constructor(re,Te,je,$e,et,De){super(re),this.onFinalize=et,this.shouldUnsubscribe=De,this._next=Te?function(be){try{Te(be)}catch(xe){re.error(xe)}}:super._next,this._error=$e?function(be){try{$e(be)}catch(xe){re.error(xe)}finally{this.unsubscribe()}}:super._error,this._complete=je?function(){try{je()}catch(be){re.error(be)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var re;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Te}=this;super.unsubscribe(),!Te&&(null===(re=this.onFinalize)||void 0===re||re.call(this))}}}},3853:(Nn,lt,Y)=>{"use strict";Y.d(lt,{b:()=>ee});var a=Y(9525),V=Y(2971);function ee(fe,re){return(0,V.m)(re)?(0,a.z)(fe,re,1):(0,a.z)(fe,1)}},4744:(Nn,lt,Y)=>{"use strict";Y.d(lt,{d:()=>ee});var a=Y(1944),V=Y(3945);function ee(fe){return(0,a.e)((re,Te)=>{let je=!1;re.subscribe((0,V.x)(Te,$e=>{je=!0,Te.next($e)},()=>{je||Te.next(fe),Te.complete()}))})}},8977:(Nn,lt,Y)=>{"use strict";Y.d(lt,{x:()=>fe});var a=Y(9173),V=Y(1944),ee=Y(3945);function fe(Te,je=a.y){return Te=Te??re,(0,V.e)(($e,et)=>{let De,be=!0;$e.subscribe((0,ee.x)(et,xe=>{const Vt=je(xe);(be||!Te(De,Vt))&&(be=!1,De=Vt,et.next(xe))}))})}function re(Te,je){return Te===je}},116:(Nn,lt,Y)=>{"use strict";Y.d(lt,{h:()=>ee});var a=Y(1944),V=Y(3945);function ee(fe,re){return(0,a.e)((Te,je)=>{let $e=0;Te.subscribe((0,V.x)(je,et=>fe.call(re,et,$e++)&&je.next(et)))})}},2313:(Nn,lt,Y)=>{"use strict";Y.d(lt,{x:()=>V});var a=Y(1944);function V(ee){return(0,a.e)((fe,re)=>{try{fe.subscribe(re)}finally{re.add(ee)}})}},155:(Nn,lt,Y)=>{"use strict";Y.d(lt,{P:()=>je});var a=Y(4423),V=Y(116),ee=Y(9295),fe=Y(4744),re=Y(7354),Te=Y(9173);function je($e,et){const De=arguments.length>=2;return be=>be.pipe($e?(0,V.h)((xe,Vt)=>$e(xe,Vt,be)):Te.y,(0,ee.q)(1),De?(0,fe.d)(et):(0,re.T)(()=>new a.K))}},635:(Nn,lt,Y)=>{"use strict";Y.d(lt,{U:()=>ee});var a=Y(1944),V=Y(3945);function ee(fe,re){return(0,a.e)((Te,je)=>{let $e=0;Te.subscribe((0,V.x)(je,et=>{je.next(fe.call(re,et,$e++))}))})}},73:(Nn,lt,Y)=>{"use strict";Y.d(lt,{h:()=>V});var a=Y(635);function V(ee){return(0,a.U)(()=>ee)}},1308:(Nn,lt,Y)=>{"use strict";Y.d(lt,{J:()=>ee});var a=Y(9525),V=Y(9173);function ee(fe=1/0){return(0,a.z)(V.y,fe)}},9525:(Nn,lt,Y)=>{"use strict";Y.d(lt,{z:()=>$e});var a=Y(635),V=Y(4987),ee=Y(1944),fe=Y(1817),re=Y(3945),je=Y(2971);function $e(et,De,be=1/0){return(0,je.m)(De)?$e((xe,Vt)=>(0,a.U)((st,Ft)=>De(xe,st,Vt,Ft))((0,V.Xf)(et(xe,Vt))),be):("number"==typeof De&&(be=De),(0,ee.e)((xe,Vt)=>function Te(et,De,be,xe,Vt,st,Ft,Gt){const at=[];let ht=0,Ce=0,Kt=!1;const ct=()=>{Kt&&!at.length&&!ht&&De.complete()},Se=Yt=>ht<xe?Je(Yt):at.push(Yt),Je=Yt=>{st&&De.next(Yt),ht++;let Ut=!1;(0,V.Xf)(be(Yt,Ce++)).subscribe((0,re.x)(De,ft=>{Vt?.(ft),st?Se(ft):De.next(ft)},()=>{Ut=!0},void 0,()=>{if(Ut)try{for(ht--;at.length&&ht<xe;){const ft=at.shift();Ft?(0,fe.f)(De,Ft,()=>Je(ft)):Je(ft)}ct()}catch(ft){De.error(ft)}}))};return et.subscribe((0,re.x)(De,Se,()=>{Kt=!0,ct()})),()=>{Gt?.()}}(xe,Vt,et,be)))}},8728:(Nn,lt,Y)=>{"use strict";Y.d(lt,{Q:()=>fe});var a=Y(1817),V=Y(1944),ee=Y(3945);function fe(re,Te=0){return(0,V.e)((je,$e)=>{je.subscribe((0,ee.x)($e,et=>(0,a.f)($e,re,()=>$e.next(et),Te),()=>(0,a.f)($e,re,()=>$e.complete(),Te),et=>(0,a.f)($e,re,()=>$e.error(et),Te)))})}},4351:(Nn,lt,Y)=>{"use strict";Y.d(lt,{R:()=>fe});var a=Y(1944),V=Y(3945);function fe(re,Te){return(0,a.e)(function ee(re,Te,je,$e,et){return(De,be)=>{let xe=je,Vt=Te,st=0;De.subscribe((0,V.x)(be,Ft=>{const Gt=st++;Vt=xe?re(Vt,Ft,Gt):(xe=!0,Ft),$e&&be.next(Vt)},et&&(()=>{xe&&be.next(Vt),be.complete()})))}}(re,Te,arguments.length>=2,!0))}},1203:(Nn,lt,Y)=>{"use strict";Y.d(lt,{B:()=>re});var a=Y(4987),V=Y(253),ee=Y(5463),fe=Y(1944);function re(je={}){const{connector:$e=(()=>new V.x),resetOnError:et=!0,resetOnComplete:De=!0,resetOnRefCountZero:be=!0}=je;return xe=>{let Vt,st,Ft,Gt=0,at=!1,ht=!1;const Ce=()=>{st?.unsubscribe(),st=void 0},Kt=()=>{Ce(),Vt=Ft=void 0,at=ht=!1},ct=()=>{const Se=Vt;Kt(),Se?.unsubscribe()};return(0,fe.e)((Se,Je)=>{Gt++,!ht&&!at&&Ce();const Yt=Ft=Ft??$e();Je.add(()=>{Gt--,0===Gt&&!ht&&!at&&(st=Te(ct,be))}),Yt.subscribe(Je),!Vt&&Gt>0&&(Vt=new ee.Hp({next:Ut=>Yt.next(Ut),error:Ut=>{ht=!0,Ce(),st=Te(Kt,et,Ut),Yt.error(Ut)},complete:()=>{at=!0,Ce(),st=Te(Kt,De),Yt.complete()}}),(0,a.Xf)(Se).subscribe(Vt))})(xe)}}function Te(je,$e,...et){if(!0===$e)return void je();if(!1===$e)return;const De=new ee.Hp({next:()=>{De.unsubscribe(),je()}});return(0,a.Xf)($e(...et)).subscribe(De)}},4874:(Nn,lt,Y)=>{"use strict";Y.d(lt,{O:()=>fe});var a=Y(9319),V=Y(420),ee=Y(1944);function fe(...re){const Te=(0,V.yG)(re);return(0,ee.e)((je,$e)=>{(Te?(0,a.z)(re,je,Te):(0,a.z)(re,je)).subscribe($e)})}},4317:(Nn,lt,Y)=>{"use strict";Y.d(lt,{R:()=>V});var a=Y(1944);function V(ee,fe=0){return(0,a.e)((re,Te)=>{Te.add(ee.schedule(()=>re.subscribe(Te),fe))})}},2673:(Nn,lt,Y)=>{"use strict";Y.d(lt,{w:()=>fe});var a=Y(4987),V=Y(1944),ee=Y(3945);function fe(re,Te){return(0,V.e)((je,$e)=>{let et=null,De=0,be=!1;const xe=()=>be&&!et&&$e.complete();je.subscribe((0,ee.x)($e,Vt=>{et?.unsubscribe();let st=0;const Ft=De++;(0,a.Xf)(re(Vt,Ft)).subscribe(et=(0,ee.x)($e,Gt=>$e.next(Te?Te(Vt,Gt,Ft,st++):Gt),()=>{et=null,xe()}))},()=>{be=!0,xe()}))})}},9295:(Nn,lt,Y)=>{"use strict";Y.d(lt,{q:()=>fe});var a=Y(591),V=Y(1944),ee=Y(3945);function fe(re){return re<=0?()=>a.E:(0,V.e)((Te,je)=>{let $e=0;Te.subscribe((0,ee.x)(je,et=>{++$e<=re&&(je.next(et),re<=$e&&je.complete())}))})}},9337:(Nn,lt,Y)=>{"use strict";Y.d(lt,{b:()=>re});var a=Y(2971),V=Y(1944),ee=Y(3945),fe=Y(9173);function re(Te,je,$e){const et=(0,a.m)(Te)||je||$e?{next:Te,error:je,complete:$e}:Te;return et?(0,V.e)((De,be)=>{var xe;null===(xe=et.subscribe)||void 0===xe||xe.call(et);let Vt=!0;De.subscribe((0,ee.x)(be,st=>{var Ft;null===(Ft=et.next)||void 0===Ft||Ft.call(et,st),be.next(st)},()=>{var st;Vt=!1,null===(st=et.complete)||void 0===st||st.call(et),be.complete()},st=>{var Ft;Vt=!1,null===(Ft=et.error)||void 0===Ft||Ft.call(et,st),be.error(st)},()=>{var st,Ft;Vt&&(null===(st=et.unsubscribe)||void 0===st||st.call(et)),null===(Ft=et.finalize)||void 0===Ft||Ft.call(et)}))}):fe.y}},7354:(Nn,lt,Y)=>{"use strict";Y.d(lt,{T:()=>fe});var a=Y(4423),V=Y(1944),ee=Y(3945);function fe(Te=re){return(0,V.e)((je,$e)=>{let et=!1;je.subscribe((0,ee.x)($e,De=>{et=!0,$e.next(De)},()=>et?$e.complete():$e.error(Te())))})}function re(){return new a.K}},5417:(Nn,lt,Y)=>{"use strict";Y.d(lt,{o:()=>re});var a=Y(7714);class V extends a.w0{constructor(je,$e){super()}schedule(je,$e=0){return this}}const ee={setInterval(Te,je,...$e){const{delegate:et}=ee;return et?.setInterval?et.setInterval(Te,je,...$e):setInterval(Te,je,...$e)},clearInterval(Te){const{delegate:je}=ee;return(je?.clearInterval||clearInterval)(Te)},delegate:void 0};var fe=Y(9663);class re extends V{constructor(je,$e){super(je,$e),this.scheduler=je,this.work=$e,this.pending=!1}schedule(je,$e=0){var et;if(this.closed)return this;this.state=je;const De=this.id,be=this.scheduler;return null!=De&&(this.id=this.recycleAsyncId(be,De,$e)),this.pending=!0,this.delay=$e,this.id=null!==(et=this.id)&&void 0!==et?et:this.requestAsyncId(be,this.id,$e),this}requestAsyncId(je,$e,et=0){return ee.setInterval(je.flush.bind(je,this),et)}recycleAsyncId(je,$e,et=0){if(null!=et&&this.delay===et&&!1===this.pending)return $e;null!=$e&&ee.clearInterval($e)}execute(je,$e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const et=this._execute(je,$e);if(et)return et;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(je,$e){let De,et=!1;try{this.work(je)}catch(be){et=!0,De=be||new Error("Scheduled action threw falsy error")}if(et)return this.unsubscribe(),De}unsubscribe(){if(!this.closed){const{id:je,scheduler:$e}=this,{actions:et}=$e;this.work=this.state=this.scheduler=null,this.pending=!1,(0,fe.P)(et,this),null!=je&&(this.id=this.recycleAsyncId($e,je,null)),this.delay=null,super.unsubscribe()}}}},1010:(Nn,lt,Y)=>{"use strict";Y.d(lt,{v:()=>ee});var a=Y(7654);class V{constructor(re,Te=V.now){this.schedulerActionCtor=re,this.now=Te}schedule(re,Te=0,je){return new this.schedulerActionCtor(this,re).schedule(je,Te)}}V.now=a.l.now;class ee extends V{constructor(re,Te=V.now){super(re,Te),this.actions=[],this._active=!1}flush(re){const{actions:Te}=this;if(this._active)return void Te.push(re);let je;this._active=!0;do{if(je=re.execute(re.state,re.delay))break}while(re=Te.shift());if(this._active=!1,je){for(;re=Te.shift();)re.unsubscribe();throw je}}}},6936:(Nn,lt,Y)=>{"use strict";Y.d(lt,{P:()=>fe,z:()=>ee});var a=Y(5417);const ee=new(Y(1010).v)(a.o),fe=ee},7654:(Nn,lt,Y)=>{"use strict";Y.d(lt,{l:()=>a});const a={now:()=>(a.delegate||Date).now(),delegate:void 0}},3542:(Nn,lt,Y)=>{"use strict";Y.d(lt,{z:()=>a});const a={setTimeout(V,ee,...fe){const{delegate:re}=a;return re?.setTimeout?re.setTimeout(V,ee,...fe):setTimeout(V,ee,...fe)},clearTimeout(V){const{delegate:ee}=a;return(ee?.clearTimeout||clearTimeout)(V)},delegate:void 0}},7321:(Nn,lt,Y)=>{"use strict";Y.d(lt,{h:()=>V});const V=function a(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4585:(Nn,lt,Y)=>{"use strict";Y.d(lt,{L:()=>a});const a="function"==typeof Symbol&&Symbol.observable||"@@observable"},4423:(Nn,lt,Y)=>{"use strict";Y.d(lt,{K:()=>V});const V=(0,Y(7543).d)(ee=>function(){ee(this),this.name="EmptyError",this.message="no elements in sequence"})},420:(Nn,lt,Y)=>{"use strict";Y.d(lt,{_6:()=>Te,jO:()=>fe,yG:()=>re});var a=Y(2971),V=Y(9867);function ee(je){return je[je.length-1]}function fe(je){return(0,a.m)(ee(je))?je.pop():void 0}function re(je){return(0,V.K)(ee(je))?je.pop():void 0}function Te(je,$e){return"number"==typeof ee(je)?je.pop():$e}},5756:(Nn,lt,Y)=>{"use strict";Y.d(lt,{D:()=>re});const{isArray:a}=Array,{getPrototypeOf:V,prototype:ee,keys:fe}=Object;function re(je){if(1===je.length){const $e=je[0];if(a($e))return{args:$e,keys:null};if(function Te(je){return je&&"object"==typeof je&&V(je)===ee}($e)){const et=fe($e);return{args:et.map(De=>$e[De]),keys:et}}}return{args:je,keys:null}}},9663:(Nn,lt,Y)=>{"use strict";function a(V,ee){if(V){const fe=V.indexOf(ee);0<=fe&&V.splice(fe,1)}}Y.d(lt,{P:()=>a})},7543:(Nn,lt,Y)=>{"use strict";function a(V){const fe=V(re=>{Error.call(re),re.stack=(new Error).stack});return fe.prototype=Object.create(Error.prototype),fe.prototype.constructor=fe,fe}Y.d(lt,{d:()=>a})},1054:(Nn,lt,Y)=>{"use strict";function a(V,ee){return V.reduce((fe,re,Te)=>(fe[re]=ee[Te],fe),{})}Y.d(lt,{n:()=>a})},2309:(Nn,lt,Y)=>{"use strict";Y.d(lt,{O:()=>fe,x:()=>ee});var a=Y(9057);let V=null;function ee(re){if(a.v.useDeprecatedSynchronousErrorHandling){const Te=!V;if(Te&&(V={errorThrown:!1,error:null}),re(),Te){const{errorThrown:je,error:$e}=V;if(V=null,je)throw $e}}else re()}function fe(re){a.v.useDeprecatedSynchronousErrorHandling&&V&&(V.errorThrown=!0,V.error=re)}},1817:(Nn,lt,Y)=>{"use strict";function a(V,ee,fe,re=0,Te=!1){const je=ee.schedule(function(){fe(),Te?V.add(this.schedule(null,re)):this.unsubscribe()},re);if(V.add(je),!Te)return je}Y.d(lt,{f:()=>a})},9173:(Nn,lt,Y)=>{"use strict";function a(V){return V}Y.d(lt,{y:()=>a})},9806:(Nn,lt,Y)=>{"use strict";Y.d(lt,{z:()=>a});const a=V=>V&&"number"==typeof V.length&&"function"!=typeof V},470:(Nn,lt,Y)=>{"use strict";Y.d(lt,{D:()=>V});var a=Y(2971);function V(ee){return Symbol.asyncIterator&&(0,a.m)(ee?.[Symbol.asyncIterator])}},2971:(Nn,lt,Y)=>{"use strict";function a(V){return"function"==typeof V}Y.d(lt,{m:()=>a})},1331:(Nn,lt,Y)=>{"use strict";Y.d(lt,{c:()=>ee});var a=Y(4585),V=Y(2971);function ee(fe){return(0,V.m)(fe[a.L])}},3433:(Nn,lt,Y)=>{"use strict";Y.d(lt,{T:()=>ee});var a=Y(7321),V=Y(2971);function ee(fe){return(0,V.m)(fe?.[a.h])}},9548:(Nn,lt,Y)=>{"use strict";Y.d(lt,{t:()=>V});var a=Y(2971);function V(ee){return(0,a.m)(ee?.then)}},181:(Nn,lt,Y)=>{"use strict";Y.d(lt,{L:()=>fe,Q:()=>ee});var a=Y(2321),V=Y(2971);function ee(re){return(0,a.FC)(this,arguments,function*(){const je=re.getReader();try{for(;;){const{value:$e,done:et}=yield(0,a.qq)(je.read());if(et)return yield(0,a.qq)(void 0);yield yield(0,a.qq)($e)}}finally{je.releaseLock()}})}function fe(re){return(0,V.m)(re?.getReader)}},9867:(Nn,lt,Y)=>{"use strict";Y.d(lt,{K:()=>V});var a=Y(2971);function V(ee){return ee&&(0,a.m)(ee.schedule)}},1944:(Nn,lt,Y)=>{"use strict";Y.d(lt,{A:()=>V,e:()=>ee});var a=Y(2971);function V(fe){return(0,a.m)(fe?.lift)}function ee(fe){return re=>{if(V(re))return re.lift(function(Te){try{return fe(Te,this)}catch(je){this.error(je)}});throw new TypeError("Unable to lift unknown Observable type")}}},8385:(Nn,lt,Y)=>{"use strict";Y.d(lt,{Z:()=>fe});var a=Y(635);const{isArray:V}=Array;function fe(re){return(0,a.U)(Te=>function ee(re,Te){return V(Te)?re(...Te):re(Te)}(re,Te))}},9635:(Nn,lt,Y)=>{"use strict";function a(){}Y.d(lt,{Z:()=>a})},629:(Nn,lt,Y)=>{"use strict";Y.d(lt,{U:()=>ee,z:()=>V});var a=Y(9173);function V(...fe){return ee(fe)}function ee(fe){return 0===fe.length?a.y:1===fe.length?fe[0]:function(Te){return fe.reduce((je,$e)=>$e(je),Te)}}},4709:(Nn,lt,Y)=>{"use strict";Y.d(lt,{h:()=>ee});var a=Y(9057),V=Y(3542);function ee(fe){V.z.setTimeout(()=>{const{onUnhandledError:re}=a.v;if(!re)throw fe;re(fe)})}},7785:(Nn,lt,Y)=>{"use strict";function a(V){return new TypeError(`You provided ${null!==V&&"object"==typeof V?"an invalid object":`'${V}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}Y.d(lt,{z:()=>a})},4851:(Nn,lt,Y)=>{"use strict";Y.d(lt,{LC:()=>V,SB:()=>et,X$:()=>fe,ZE:()=>Ce,ZN:()=>ht,_j:()=>a,eR:()=>be,jt:()=>re,k1:()=>Kt,l3:()=>ee,oB:()=>$e,vP:()=>je});class a{}class V{}const ee="*";function fe(ct,Se){return{type:7,name:ct,definitions:Se,options:{}}}function re(ct,Se=null){return{type:4,styles:Se,timings:ct}}function je(ct,Se=null){return{type:2,steps:ct,options:Se}}function $e(ct){return{type:6,styles:ct,offset:null}}function et(ct,Se,Je){return{type:0,name:ct,styles:Se,options:Je}}function be(ct,Se,Je=null){return{type:1,expr:ct,animation:Se,options:Je}}function at(ct){Promise.resolve().then(ct)}class ht{constructor(Se=0,Je=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Se+Je}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Se=>Se()),this._onDoneFns=[])}onStart(Se){this._originalOnStartFns.push(Se),this._onStartFns.push(Se)}onDone(Se){this._originalOnDoneFns.push(Se),this._onDoneFns.push(Se)}onDestroy(Se){this._onDestroyFns.push(Se)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){at(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Se=>Se()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Se=>Se()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(Se){this._position=this.totalTime?Se*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Se){const Je="start"==Se?this._onStartFns:this._onDoneFns;Je.forEach(Yt=>Yt()),Je.length=0}}class Ce{constructor(Se){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Se;let Je=0,Yt=0,Ut=0;const ft=this.players.length;0==ft?at(()=>this._onFinish()):this.players.forEach(Ye=>{Ye.onDone(()=>{++Je==ft&&this._onFinish()}),Ye.onDestroy(()=>{++Yt==ft&&this._onDestroy()}),Ye.onStart(()=>{++Ut==ft&&this._onStart()})}),this.totalTime=this.players.reduce((Ye,Zt)=>Math.max(Ye,Zt.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Se=>Se()),this._onDoneFns=[])}init(){this.players.forEach(Se=>Se.init())}onStart(Se){this._onStartFns.push(Se)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Se=>Se()),this._onStartFns=[])}onDone(Se){this._onDoneFns.push(Se)}onDestroy(Se){this._onDestroyFns.push(Se)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Se=>Se.play())}pause(){this.players.forEach(Se=>Se.pause())}restart(){this.players.forEach(Se=>Se.restart())}finish(){this._onFinish(),this.players.forEach(Se=>Se.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Se=>Se.destroy()),this._onDestroyFns.forEach(Se=>Se()),this._onDestroyFns=[])}reset(){this.players.forEach(Se=>Se.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Se){const Je=Se*this.totalTime;this.players.forEach(Yt=>{const Ut=Yt.totalTime?Math.min(1,Je/Yt.totalTime):1;Yt.setPosition(Ut)})}getPosition(){const Se=this.players.reduce((Je,Yt)=>null===Je||Yt.totalTime>Je.totalTime?Yt:Je,null);return null!=Se?Se.getPosition():0}beforeDestroy(){this.players.forEach(Se=>{Se.beforeDestroy&&Se.beforeDestroy()})}triggerCallback(Se){const Je="start"==Se?this._onStartFns:this._onDoneFns;Je.forEach(Yt=>Yt()),Je.length=0}}const Kt="!"},4666:(Nn,lt,Y)=>{"use strict";Y.d(lt,{Do:()=>Ce,EM:()=>ja,H9:()=>Vu,HT:()=>fe,JF:()=>wo,K0:()=>Te,Mn:()=>Ot,Mx:()=>Aa,NF:()=>Ma,Nd:()=>Na,O5:()=>Is,Ov:()=>zt,PM:()=>xi,S$:()=>Gt,Tn:()=>en,UT:()=>Ct,V_:()=>et,Ye:()=>Kt,Zx:()=>su,ax:()=>Ts,b0:()=>ht,bD:()=>mu,ez:()=>Ss,ol:()=>_t,p6:()=>si,q:()=>ee,qS:()=>Wo,sg:()=>Ts,tP:()=>Zi,uU:()=>mi,w_:()=>re,x:()=>Zt});var a=Y(2560);let V=null;function ee(){return V}function fe(x){V||(V=x)}class re{}const Te=new a.OlP("DocumentToken");let je=(()=>{class x{historyGo(B){throw new Error("Not implemented")}}return x.\u0275fac=function(B){return new(B||x)},x.\u0275prov=a.Yz7({token:x,factory:function(){return function $e(){return(0,a.LFG)(De)}()},providedIn:"platform"}),x})();const et=new a.OlP("Location Initialized");let De=(()=>{class x extends je{constructor(B){super(),this._doc=B,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ee().getBaseHref(this._doc)}onPopState(B){const ue=ee().getGlobalEventTarget(this._doc,"window");return ue.addEventListener("popstate",B,!1),()=>ue.removeEventListener("popstate",B)}onHashChange(B){const ue=ee().getGlobalEventTarget(this._doc,"window");return ue.addEventListener("hashchange",B,!1),()=>ue.removeEventListener("hashchange",B)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(B){this._location.pathname=B}pushState(B,ue,we){be()?this._history.pushState(B,ue,we):this._location.hash=we}replaceState(B,ue,we){be()?this._history.replaceState(B,ue,we):this._location.hash=we}forward(){this._history.forward()}back(){this._history.back()}historyGo(B=0){this._history.go(B)}getState(){return this._history.state}}return x.\u0275fac=function(B){return new(B||x)(a.LFG(Te))},x.\u0275prov=a.Yz7({token:x,factory:function(){return function xe(){return new De((0,a.LFG)(Te))}()},providedIn:"platform"}),x})();function be(){return!!window.history.pushState}function Vt(x,J){if(0==x.length)return J;if(0==J.length)return x;let B=0;return x.endsWith("/")&&B++,J.startsWith("/")&&B++,2==B?x+J.substring(1):1==B?x+J:x+"/"+J}function st(x){const J=x.match(/#|\?|$/),B=J&&J.index||x.length;return x.slice(0,B-("/"===x[B-1]?1:0))+x.slice(B)}function Ft(x){return x&&"?"!==x[0]?"?"+x:x}let Gt=(()=>{class x{historyGo(B){throw new Error("Not implemented")}}return x.\u0275fac=function(B){return new(B||x)},x.\u0275prov=a.Yz7({token:x,factory:function(){return(0,a.f3M)(ht)},providedIn:"root"}),x})();const at=new a.OlP("appBaseHref");let ht=(()=>{class x extends Gt{constructor(B,ue){super(),this._platformLocation=B,this._removeListenerFns=[],this._baseHref=ue??this._platformLocation.getBaseHrefFromDOM()??(0,a.f3M)(Te).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(B){this._removeListenerFns.push(this._platformLocation.onPopState(B),this._platformLocation.onHashChange(B))}getBaseHref(){return this._baseHref}prepareExternalUrl(B){return Vt(this._baseHref,B)}path(B=!1){const ue=this._platformLocation.pathname+Ft(this._platformLocation.search),we=this._platformLocation.hash;return we&&B?`${ue}${we}`:ue}pushState(B,ue,we,Et){const jt=this.prepareExternalUrl(we+Ft(Et));this._platformLocation.pushState(B,ue,jt)}replaceState(B,ue,we,Et){const jt=this.prepareExternalUrl(we+Ft(Et));this._platformLocation.replaceState(B,ue,jt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(B=0){this._platformLocation.historyGo?.(B)}}return x.\u0275fac=function(B){return new(B||x)(a.LFG(je),a.LFG(at,8))},x.\u0275prov=a.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})(),Ce=(()=>{class x extends Gt{constructor(B,ue){super(),this._platformLocation=B,this._baseHref="",this._removeListenerFns=[],null!=ue&&(this._baseHref=ue)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(B){this._removeListenerFns.push(this._platformLocation.onPopState(B),this._platformLocation.onHashChange(B))}getBaseHref(){return this._baseHref}path(B=!1){let ue=this._platformLocation.hash;return null==ue&&(ue="#"),ue.length>0?ue.substring(1):ue}prepareExternalUrl(B){const ue=Vt(this._baseHref,B);return ue.length>0?"#"+ue:ue}pushState(B,ue,we,Et){let jt=this.prepareExternalUrl(we+Ft(Et));0==jt.length&&(jt=this._platformLocation.pathname),this._platformLocation.pushState(B,ue,jt)}replaceState(B,ue,we,Et){let jt=this.prepareExternalUrl(we+Ft(Et));0==jt.length&&(jt=this._platformLocation.pathname),this._platformLocation.replaceState(B,ue,jt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(B=0){this._platformLocation.historyGo?.(B)}}return x.\u0275fac=function(B){return new(B||x)(a.LFG(je),a.LFG(at,8))},x.\u0275prov=a.Yz7({token:x,factory:x.\u0275fac}),x})(),Kt=(()=>{class x{constructor(B){this._subject=new a.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=B;const ue=this._locationStrategy.getBaseHref();this._basePath=function Yt(x){if(new RegExp("^(https?:)?//").test(x)){const[,B]=x.split(/\/\/[^\/]+/);return B}return x}(st(Je(ue))),this._locationStrategy.onPopState(we=>{this._subject.emit({url:this.path(!0),pop:!0,state:we.state,type:we.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(B=!1){return this.normalize(this._locationStrategy.path(B))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(B,ue=""){return this.path()==this.normalize(B+Ft(ue))}normalize(B){return x.stripTrailingSlash(function Se(x,J){if(!x||!J.startsWith(x))return J;const B=J.substring(x.length);return""===B||["/",";","?","#"].includes(B[0])?B:J}(this._basePath,Je(B)))}prepareExternalUrl(B){return B&&"/"!==B[0]&&(B="/"+B),this._locationStrategy.prepareExternalUrl(B)}go(B,ue="",we=null){this._locationStrategy.pushState(we,"",B,ue),this._notifyUrlChangeListeners(this.prepareExternalUrl(B+Ft(ue)),we)}replaceState(B,ue="",we=null){this._locationStrategy.replaceState(we,"",B,ue),this._notifyUrlChangeListeners(this.prepareExternalUrl(B+Ft(ue)),we)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(B=0){this._locationStrategy.historyGo?.(B)}onUrlChange(B){return this._urlChangeListeners.push(B),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ue=>{this._notifyUrlChangeListeners(ue.url,ue.state)})),()=>{const ue=this._urlChangeListeners.indexOf(B);this._urlChangeListeners.splice(ue,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(B="",ue){this._urlChangeListeners.forEach(we=>we(B,ue))}subscribe(B,ue,we){return this._subject.subscribe({next:B,error:ue,complete:we})}}return x.normalizeQueryParams=Ft,x.joinWithSlash=Vt,x.stripTrailingSlash=st,x.\u0275fac=function(B){return new(B||x)(a.LFG(Gt))},x.\u0275prov=a.Yz7({token:x,factory:function(){return function ct(){return new Kt((0,a.LFG)(Gt))}()},providedIn:"root"}),x})();function Je(x){return x.replace(/\/index.html$/,"")}const Ut={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var ft=(()=>((ft=ft||{})[ft.Decimal=0]="Decimal",ft[ft.Percent=1]="Percent",ft[ft.Currency=2]="Currency",ft[ft.Scientific=3]="Scientific",ft))(),Zt=(()=>((Zt=Zt||{})[Zt.Format=0]="Format",Zt[Zt.Standalone=1]="Standalone",Zt))(),en=(()=>((en=en||{})[en.Narrow=0]="Narrow",en[en.Abbreviated=1]="Abbreviated",en[en.Wide=2]="Wide",en[en.Short=3]="Short",en))(),Bn=(()=>((Bn=Bn||{})[Bn.Short=0]="Short",Bn[Bn.Medium=1]="Medium",Bn[Bn.Long=2]="Long",Bn[Bn.Full=3]="Full",Bn))(),Dn=(()=>((Dn=Dn||{})[Dn.Decimal=0]="Decimal",Dn[Dn.Group=1]="Group",Dn[Dn.List=2]="List",Dn[Dn.PercentSign=3]="PercentSign",Dn[Dn.PlusSign=4]="PlusSign",Dn[Dn.MinusSign=5]="MinusSign",Dn[Dn.Exponential=6]="Exponential",Dn[Dn.SuperscriptingExponent=7]="SuperscriptingExponent",Dn[Dn.PerMille=8]="PerMille",Dn[Dn.Infinity=9]="Infinity",Dn[Dn.NaN=10]="NaN",Dn[Dn.TimeSeparator=11]="TimeSeparator",Dn[Dn.CurrencyDecimal=12]="CurrencyDecimal",Dn[Dn.CurrencyGroup=13]="CurrencyGroup",Dn))();function _t(x,J,B){const ue=(0,a.cg1)(x),Et=Jt([ue[a.wAp.DayPeriodsFormat],ue[a.wAp.DayPeriodsStandalone]],J);return Jt(Et,B)}function Ot(x,J,B){const ue=(0,a.cg1)(x),Et=Jt([ue[a.wAp.DaysFormat],ue[a.wAp.DaysStandalone]],J);return Jt(Et,B)}function Ct(x,J,B){const ue=(0,a.cg1)(x),Et=Jt([ue[a.wAp.MonthsFormat],ue[a.wAp.MonthsStandalone]],J);return Jt(Et,B)}function hn(x,J){return Jt((0,a.cg1)(x)[a.wAp.DateFormat],J)}function yn(x,J){return Jt((0,a.cg1)(x)[a.wAp.TimeFormat],J)}function vn(x,J){return Jt((0,a.cg1)(x)[a.wAp.DateTimeFormat],J)}function Ge(x,J){const B=(0,a.cg1)(x),ue=B[a.wAp.NumberSymbols][J];if(typeof ue>"u"){if(J===Dn.CurrencyDecimal)return B[a.wAp.NumberSymbols][Dn.Decimal];if(J===Dn.CurrencyGroup)return B[a.wAp.NumberSymbols][Dn.Group]}return ue}function yt(x,J){return(0,a.cg1)(x)[a.wAp.NumberFormats][J]}function pr(x){if(!x[a.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${x[a.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Jt(x,J){for(let B=J;B>-1;B--)if(typeof x[B]<"u")return x[B];throw new Error("Locale data API: locale data undefined")}function wn(x){const[J,B]=x.split(":");return{hours:+J,minutes:+B}}const hi=2,bi=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Gs={},fr=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var br=(()=>((br=br||{})[br.Short=0]="Short",br[br.ShortGMT=1]="ShortGMT",br[br.Long=2]="Long",br[br.Extended=3]="Extended",br))(),In=(()=>((In=In||{})[In.FullYear=0]="FullYear",In[In.Month=1]="Month",In[In.Date=2]="Date",In[In.Hours=3]="Hours",In[In.Minutes=4]="Minutes",In[In.Seconds=5]="Seconds",In[In.FractionalSeconds=6]="FractionalSeconds",In[In.Day=7]="Day",In))(),bn=(()=>((bn=bn||{})[bn.DayPeriods=0]="DayPeriods",bn[bn.Days=1]="Days",bn[bn.Months=2]="Months",bn[bn.Eras=3]="Eras",bn))();function si(x,J,B,ue){let we=function ze(x){if(ke(x))return x;if("number"==typeof x&&!isNaN(x))return new Date(x);if("string"==typeof x){if(x=x.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(x)){const[we,Et=1,jt=1]=x.split("-").map(kn=>+kn);return ei(we,Et-1,jt)}const B=parseFloat(x);if(!isNaN(x-B))return new Date(B);let ue;if(ue=x.match(bi))return function on(x){const J=new Date(0);let B=0,ue=0;const we=x[8]?J.setUTCFullYear:J.setFullYear,Et=x[8]?J.setUTCHours:J.setHours;x[9]&&(B=Number(x[9]+x[10]),ue=Number(x[9]+x[11])),we.call(J,Number(x[1]),Number(x[2])-1,Number(x[3]));const jt=Number(x[4]||0)-B,kn=Number(x[5]||0)-ue,_i=Number(x[6]||0),Br=Math.floor(1e3*parseFloat("0."+(x[7]||0)));return Et.call(J,jt,kn,_i,Br),J}(ue)}const J=new Date(x);if(!ke(J))throw new Error(`Unable to convert "${x}" into a date`);return J}(x);J=Wn(B,J)||J;let kn,jt=[];for(;J;){if(kn=fr.exec(J),!kn){jt.push(J);break}{jt=jt.concat(kn.slice(1));const Fr=jt.pop();if(!Fr)break;J=Fr}}let _i=we.getTimezoneOffset();ue&&(_i=ve(ue,_i),we=function ut(x,J,B){const ue=B?-1:1,we=x.getTimezoneOffset();return function Oe(x,J){return(x=new Date(x.getTime())).setMinutes(x.getMinutes()+J),x}(x,ue*(ve(J,we)-we))}(we,ue,!0));let Br="";return jt.forEach(Fr=>{const Pr=function Ee(x){if(qt[x])return qt[x];let J;switch(x){case"G":case"GG":case"GGG":J=wr(bn.Eras,en.Abbreviated);break;case"GGGG":J=wr(bn.Eras,en.Wide);break;case"GGGGG":J=wr(bn.Eras,en.Narrow);break;case"y":J=xr(In.FullYear,1,0,!1,!0);break;case"yy":J=xr(In.FullYear,2,0,!0,!0);break;case"yyy":J=xr(In.FullYear,3,0,!1,!0);break;case"yyyy":J=xr(In.FullYear,4,0,!1,!0);break;case"Y":J=ln(1);break;case"YY":J=ln(2,!0);break;case"YYY":J=ln(3);break;case"YYYY":J=ln(4);break;case"M":case"L":J=xr(In.Month,1,1);break;case"MM":case"LL":J=xr(In.Month,2,1);break;case"MMM":J=wr(bn.Months,en.Abbreviated);break;case"MMMM":J=wr(bn.Months,en.Wide);break;case"MMMMM":J=wr(bn.Months,en.Narrow);break;case"LLL":J=wr(bn.Months,en.Abbreviated,Zt.Standalone);break;case"LLLL":J=wr(bn.Months,en.Wide,Zt.Standalone);break;case"LLLLL":J=wr(bn.Months,en.Narrow,Zt.Standalone);break;case"w":J=Ue(1);break;case"ww":J=Ue(2);break;case"W":J=Ue(1,!0);break;case"d":J=xr(In.Date,1);break;case"dd":J=xr(In.Date,2);break;case"c":case"cc":J=xr(In.Day,1);break;case"ccc":J=wr(bn.Days,en.Abbreviated,Zt.Standalone);break;case"cccc":J=wr(bn.Days,en.Wide,Zt.Standalone);break;case"ccccc":J=wr(bn.Days,en.Narrow,Zt.Standalone);break;case"cccccc":J=wr(bn.Days,en.Short,Zt.Standalone);break;case"E":case"EE":case"EEE":J=wr(bn.Days,en.Abbreviated);break;case"EEEE":J=wr(bn.Days,en.Wide);break;case"EEEEE":J=wr(bn.Days,en.Narrow);break;case"EEEEEE":J=wr(bn.Days,en.Short);break;case"a":case"aa":case"aaa":J=wr(bn.DayPeriods,en.Abbreviated);break;case"aaaa":J=wr(bn.DayPeriods,en.Wide);break;case"aaaaa":J=wr(bn.DayPeriods,en.Narrow);break;case"b":case"bb":case"bbb":J=wr(bn.DayPeriods,en.Abbreviated,Zt.Standalone,!0);break;case"bbbb":J=wr(bn.DayPeriods,en.Wide,Zt.Standalone,!0);break;case"bbbbb":J=wr(bn.DayPeriods,en.Narrow,Zt.Standalone,!0);break;case"B":case"BB":case"BBB":J=wr(bn.DayPeriods,en.Abbreviated,Zt.Format,!0);break;case"BBBB":J=wr(bn.DayPeriods,en.Wide,Zt.Format,!0);break;case"BBBBB":J=wr(bn.DayPeriods,en.Narrow,Zt.Format,!0);break;case"h":J=xr(In.Hours,1,-12);break;case"hh":J=xr(In.Hours,2,-12);break;case"H":J=xr(In.Hours,1);break;case"HH":J=xr(In.Hours,2);break;case"m":J=xr(In.Minutes,1);break;case"mm":J=xr(In.Minutes,2);break;case"s":J=xr(In.Seconds,1);break;case"ss":J=xr(In.Seconds,2);break;case"S":J=xr(In.FractionalSeconds,1);break;case"SS":J=xr(In.FractionalSeconds,2);break;case"SSS":J=xr(In.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":J=Rr(br.Short);break;case"ZZZZZ":J=Rr(br.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":J=Rr(br.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":J=Rr(br.Long);break;default:return null}return qt[x]=J,J}(Fr);Br+=Pr?Pr(we,B,_i):"''"===Fr?"'":Fr.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Br}function ei(x,J,B){const ue=new Date(0);return ue.setFullYear(x,J,B),ue.setHours(0,0,0),ue}function Wn(x,J){const B=function It(x){return(0,a.cg1)(x)[a.wAp.LocaleId]}(x);if(Gs[B]=Gs[B]||{},Gs[B][J])return Gs[B][J];let ue="";switch(J){case"shortDate":ue=hn(x,Bn.Short);break;case"mediumDate":ue=hn(x,Bn.Medium);break;case"longDate":ue=hn(x,Bn.Long);break;case"fullDate":ue=hn(x,Bn.Full);break;case"shortTime":ue=yn(x,Bn.Short);break;case"mediumTime":ue=yn(x,Bn.Medium);break;case"longTime":ue=yn(x,Bn.Long);break;case"fullTime":ue=yn(x,Bn.Full);break;case"short":const we=Wn(x,"shortTime"),Et=Wn(x,"shortDate");ue=fi(vn(x,Bn.Short),[we,Et]);break;case"medium":const jt=Wn(x,"mediumTime"),kn=Wn(x,"mediumDate");ue=fi(vn(x,Bn.Medium),[jt,kn]);break;case"long":const _i=Wn(x,"longTime"),Br=Wn(x,"longDate");ue=fi(vn(x,Bn.Long),[_i,Br]);break;case"full":const Fr=Wn(x,"fullTime"),Pr=Wn(x,"fullDate");ue=fi(vn(x,Bn.Full),[Fr,Pr])}return ue&&(Gs[B][J]=ue),ue}function fi(x,J){return J&&(x=x.replace(/\{([^}]+)}/g,function(B,ue){return null!=J&&ue in J?J[ue]:B})),x}function Ii(x,J,B="-",ue,we){let Et="";(x<0||we&&x<=0)&&(we?x=1-x:(x=-x,Et=B));let jt=String(x);for(;jt.length<J;)jt="0"+jt;return ue&&(jt=jt.slice(jt.length-J)),Et+jt}function xr(x,J,B=0,ue=!1,we=!1){return function(Et,jt){let kn=function fs(x,J){switch(x){case In.FullYear:return J.getFullYear();case In.Month:return J.getMonth();case In.Date:return J.getDate();case In.Hours:return J.getHours();case In.Minutes:return J.getMinutes();case In.Seconds:return J.getSeconds();case In.FractionalSeconds:return J.getMilliseconds();case In.Day:return J.getDay();default:throw new Error(`Unknown DateType value "${x}".`)}}(x,Et);if((B>0||kn>-B)&&(kn+=B),x===In.Hours)0===kn&&-12===B&&(kn=12);else if(x===In.FractionalSeconds)return function Pi(x,J){return Ii(x,3).substring(0,J)}(kn,J);const _i=Ge(jt,Dn.MinusSign);return Ii(kn,J,_i,ue,we)}}function wr(x,J,B=Zt.Format,ue=!1){return function(we,Et){return function vs(x,J,B,ue,we,Et){switch(B){case bn.Months:return Ct(J,we,ue)[x.getMonth()];case bn.Days:return Ot(J,we,ue)[x.getDay()];case bn.DayPeriods:const jt=x.getHours(),kn=x.getMinutes();if(Et){const Br=function ii(x){const J=(0,a.cg1)(x);return pr(J),(J[a.wAp.ExtraData][2]||[]).map(ue=>"string"==typeof ue?wn(ue):[wn(ue[0]),wn(ue[1])])}(J),Fr=function rs(x,J,B){const ue=(0,a.cg1)(x);pr(ue);const Et=Jt([ue[a.wAp.ExtraData][0],ue[a.wAp.ExtraData][1]],J)||[];return Jt(Et,B)||[]}(J,we,ue),Pr=Br.findIndex(Ds=>{if(Array.isArray(Ds)){const[Ni,Zr]=Ds,Uo=jt>=Ni.hours&&kn>=Ni.minutes,Ui=jt<Zr.hours||jt===Zr.hours&&kn<Zr.minutes;if(Ni.hours<Zr.hours){if(Uo&&Ui)return!0}else if(Uo||Ui)return!0}else if(Ds.hours===jt&&Ds.minutes===kn)return!0;return!1});if(-1!==Pr)return Fr[Pr]}return _t(J,we,ue)[jt<12?0:1];case bn.Eras:return function Wt(x,J){return Jt((0,a.cg1)(x)[a.wAp.Eras],J)}(J,ue)[x.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${B}`)}}(we,Et,x,J,B,ue)}}function Rr(x){return function(J,B,ue){const we=-1*ue,Et=Ge(B,Dn.MinusSign),jt=we>0?Math.floor(we/60):Math.ceil(we/60);switch(x){case br.Short:return(we>=0?"+":"")+Ii(jt,2,Et)+Ii(Math.abs(we%60),2,Et);case br.ShortGMT:return"GMT"+(we>=0?"+":"")+Ii(jt,1,Et);case br.Long:return"GMT"+(we>=0?"+":"")+Ii(jt,2,Et)+":"+Ii(Math.abs(we%60),2,Et);case br.Extended:return 0===ue?"Z":(we>=0?"+":"")+Ii(jt,2,Et)+":"+Ii(Math.abs(we%60),2,Et);default:throw new Error(`Unknown zone width "${x}"`)}}}const oi=0,pi=4;function Le(x){return ei(x.getFullYear(),x.getMonth(),x.getDate()+(pi-x.getDay()))}function Ue(x,J=!1){return function(B,ue){let we;if(J){const Et=new Date(B.getFullYear(),B.getMonth(),1).getDay()-1,jt=B.getDate();we=1+Math.floor((jt+Et)/7)}else{const Et=Le(B),jt=function At(x){const J=ei(x,oi,1).getDay();return ei(x,0,1+(J<=pi?pi:pi+7)-J)}(Et.getFullYear()),kn=Et.getTime()-jt.getTime();we=1+Math.round(kn/6048e5)}return Ii(we,x,Ge(ue,Dn.MinusSign))}}function ln(x,J=!1){return function(B,ue){return Ii(Le(B).getFullYear(),x,Ge(ue,Dn.MinusSign),J)}}const qt={};function ve(x,J){x=x.replace(/:/g,"");const B=Date.parse("Jan 01, 1970 00:00:00 "+x)/6e4;return isNaN(B)?J:B}function ke(x){return x instanceof Date&&!isNaN(x.valueOf())}const Me=/^(\d+)?\.((\d+)(-(\d+))?)?$/,ge=22,Re=".",mt="0",Xt=";",Vn=",",Ir="#",gi="\xa4";function St(x,J,B,ue,we,Et,jt=!1){let kn="",_i=!1;if(isFinite(x)){let Br=function Zn(x){let ue,we,Et,jt,kn,J=Math.abs(x)+"",B=0;for((we=J.indexOf(Re))>-1&&(J=J.replace(Re,"")),(Et=J.search(/e/i))>0?(we<0&&(we=Et),we+=+J.slice(Et+1),J=J.substring(0,Et)):we<0&&(we=J.length),Et=0;J.charAt(Et)===mt;Et++);if(Et===(kn=J.length))ue=[0],we=1;else{for(kn--;J.charAt(kn)===mt;)kn--;for(we-=Et,ue=[],jt=0;Et<=kn;Et++,jt++)ue[jt]=Number(J.charAt(Et))}return we>ge&&(ue=ue.splice(0,ge-1),B=we-1,we=1),{digits:ue,exponent:B,integerLen:we}}(x);jt&&(Br=function gr(x){if(0===x.digits[0])return x;const J=x.digits.length-x.integerLen;return x.exponent?x.exponent+=2:(0===J?x.digits.push(0,0):1===J&&x.digits.push(0),x.integerLen+=2),x}(Br));let Fr=J.minInt,Pr=J.minFrac,Ds=J.maxFrac;if(Et){const Ar=Et.match(Me);if(null===Ar)throw new Error(`${Et} is not a valid digit info`);const yi=Ar[1],Zs=Ar[3],Yo=Ar[5];null!=yi&&(Fr=Ur(yi)),null!=Zs&&(Pr=Ur(Zs)),null!=Yo?Ds=Ur(Yo):null!=Zs&&Pr>Ds&&(Ds=Pr)}!function ai(x,J,B){if(J>B)throw new Error(`The minimum number of digits after fraction (${J}) is higher than the maximum (${B}).`);let ue=x.digits,we=ue.length-x.integerLen;const Et=Math.min(Math.max(J,we),B);let jt=Et+x.integerLen,kn=ue[jt];if(jt>0){ue.splice(Math.max(x.integerLen,jt));for(let Pr=jt;Pr<ue.length;Pr++)ue[Pr]=0}else{we=Math.max(0,we),x.integerLen=1,ue.length=Math.max(1,jt=Et+1),ue[0]=0;for(let Pr=1;Pr<jt;Pr++)ue[Pr]=0}if(kn>=5)if(jt-1<0){for(let Pr=0;Pr>jt;Pr--)ue.unshift(0),x.integerLen++;ue.unshift(1),x.integerLen++}else ue[jt-1]++;for(;we<Math.max(0,Et);we++)ue.push(0);let _i=0!==Et;const Br=J+x.integerLen,Fr=ue.reduceRight(function(Pr,Ds,Ni,Zr){return Zr[Ni]=(Ds+=Pr)<10?Ds:Ds-10,_i&&(0===Zr[Ni]&&Ni>=Br?Zr.pop():_i=!1),Ds>=10?1:0},0);Fr&&(ue.unshift(Fr),x.integerLen++)}(Br,Pr,Ds);let Ni=Br.digits,Zr=Br.integerLen;const Uo=Br.exponent;let Ui=[];for(_i=Ni.every(Ar=>!Ar);Zr<Fr;Zr++)Ni.unshift(0);for(;Zr<0;Zr++)Ni.unshift(0);Zr>0?Ui=Ni.splice(Zr,Ni.length):(Ui=Ni,Ni=[0]);const qo=[];for(Ni.length>=J.lgSize&&qo.unshift(Ni.splice(-J.lgSize,Ni.length).join(""));Ni.length>J.gSize;)qo.unshift(Ni.splice(-J.gSize,Ni.length).join(""));Ni.length&&qo.unshift(Ni.join("")),kn=qo.join(Ge(B,ue)),Ui.length&&(kn+=Ge(B,we)+Ui.join("")),Uo&&(kn+=Ge(B,Dn.Exponential)+"+"+Uo)}else kn=Ge(B,Dn.Infinity);return kn=x<0&&!_i?J.negPre+kn+J.negSuf:J.posPre+kn+J.posSuf,kn}function tr(x,J="-"){const B={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},ue=x.split(Xt),we=ue[0],Et=ue[1],jt=-1!==we.indexOf(Re)?we.split(Re):[we.substring(0,we.lastIndexOf(mt)+1),we.substring(we.lastIndexOf(mt)+1)],kn=jt[0],_i=jt[1]||"";B.posPre=kn.substring(0,kn.indexOf(Ir));for(let Fr=0;Fr<_i.length;Fr++){const Pr=_i.charAt(Fr);Pr===mt?B.minFrac=B.maxFrac=Fr+1:Pr===Ir?B.maxFrac=Fr+1:B.posSuf+=Pr}const Br=kn.split(Vn);if(B.gSize=Br[1]?Br[1].length:0,B.lgSize=Br[2]||Br[1]?(Br[2]||Br[1]).length:0,Et){const Fr=we.length-B.posPre.length-B.posSuf.length,Pr=Et.indexOf(Ir);B.negPre=Et.substring(0,Pr).replace(/'/g,""),B.negSuf=Et.slice(Pr+Fr).replace(/'/g,"")}else B.negPre=J+B.posPre,B.negSuf=B.posSuf;return B}function Ur(x){const J=parseInt(x);if(isNaN(J))throw new Error("Invalid integer literal when parsing "+x);return J}function Wo(x,J,B){return(0,a.dwT)(x,J,B)}function Aa(x,J){J=encodeURIComponent(J);for(const B of x.split(";")){const ue=B.indexOf("="),[we,Et]=-1==ue?[B,""]:[B.slice(0,ue),B.slice(ue+1)];if(we.trim()===J)return decodeURIComponent(Et)}return null}class Yi{constructor(J,B,ue,we){this.$implicit=J,this.ngForOf=B,this.index=ue,this.count=we}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ts=(()=>{class x{set ngForOf(B){this._ngForOf=B,this._ngForOfDirty=!0}set ngForTrackBy(B){this._trackByFn=B}get ngForTrackBy(){return this._trackByFn}constructor(B,ue,we){this._viewContainer=B,this._template=ue,this._differs=we,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(B){B&&(this._template=B)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const B=this._ngForOf;!this._differ&&B&&(this._differ=this._differs.find(B).create(this.ngForTrackBy))}if(this._differ){const B=this._differ.diff(this._ngForOf);B&&this._applyChanges(B)}}_applyChanges(B){const ue=this._viewContainer;B.forEachOperation((we,Et,jt)=>{if(null==we.previousIndex)ue.createEmbeddedView(this._template,new Yi(we.item,this._ngForOf,-1,-1),null===jt?void 0:jt);else if(null==jt)ue.remove(null===Et?void 0:Et);else if(null!==Et){const kn=ue.get(Et);ue.move(kn,jt),Xr(kn,we)}});for(let we=0,Et=ue.length;we<Et;we++){const kn=ue.get(we).context;kn.index=we,kn.count=Et,kn.ngForOf=this._ngForOf}B.forEachIdentityChange(we=>{Xr(ue.get(we.currentIndex),we)})}static ngTemplateContextGuard(B,ue){return!0}}return x.\u0275fac=function(B){return new(B||x)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(a.ZZ4))},x.\u0275dir=a.lG2({type:x,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),x})();function Xr(x,J){x.context.$implicit=J.item}let Is=(()=>{class x{constructor(B,ue){this._viewContainer=B,this._context=new Er,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ue}set ngIf(B){this._context.$implicit=this._context.ngIf=B,this._updateView()}set ngIfThen(B){bo("ngIfThen",B),this._thenTemplateRef=B,this._thenViewRef=null,this._updateView()}set ngIfElse(B){bo("ngIfElse",B),this._elseTemplateRef=B,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(B,ue){return!0}}return x.\u0275fac=function(B){return new(B||x)(a.Y36(a.s_b),a.Y36(a.Rgc))},x.\u0275dir=a.lG2({type:x,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),x})();class Er{constructor(){this.$implicit=null,this.ngIf=null}}function bo(x,J){if(J&&!J.createEmbeddedView)throw new Error(`${x} must be a TemplateRef, but received '${(0,a.AaK)(J)}'.`)}let Zi=(()=>{class x{constructor(B){this._viewContainerRef=B,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(B){if(B.ngTemplateOutlet||B.ngTemplateOutletInjector){const ue=this._viewContainerRef;if(this._viewRef&&ue.remove(ue.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:we,ngTemplateOutletContext:Et,ngTemplateOutletInjector:jt}=this;this._viewRef=ue.createEmbeddedView(we,Et,jt?{injector:jt}:void 0)}else this._viewRef=null}else this._viewRef&&B.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return x.\u0275fac=function(B){return new(B||x)(a.Y36(a.s_b))},x.\u0275dir=a.lG2({type:x,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[a.TTD]}),x})();function so(x,J){return new a.vHH(2100,!1)}class po{createSubscription(J,B){return J.subscribe({next:B,error:ue=>{throw ue}})}dispose(J){J.unsubscribe()}}class Qe{createSubscription(J,B){return J.then(B,ue=>{throw ue})}dispose(J){}}const We=new Qe,gt=new po;let zt=(()=>{class x{constructor(B){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=B}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(B){return this._obj?B!==this._obj?(this._dispose(),this.transform(B)):this._latestValue:(B&&this._subscribe(B),this._latestValue)}_subscribe(B){this._obj=B,this._strategy=this._selectStrategy(B),this._subscription=this._strategy.createSubscription(B,ue=>this._updateLatestValue(B,ue))}_selectStrategy(B){if((0,a.QGY)(B))return We;if((0,a.F4k)(B))return gt;throw so()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(B,ue){B===this._obj&&(this._latestValue=ue,this._ref.markForCheck())}}return x.\u0275fac=function(B){return new(B||x)(a.Y36(a.sBO,16))},x.\u0275pipe=a.Yjl({name:"async",type:x,pure:!1,standalone:!0}),x})();const bs=new a.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Fo=new a.OlP("DATE_PIPE_DEFAULT_OPTIONS");let mi=(()=>{class x{constructor(B,ue,we){this.locale=B,this.defaultTimezone=ue,this.defaultOptions=we}transform(B,ue,we,Et){if(null==B||""===B||B!=B)return null;try{return si(B,ue??this.defaultOptions?.dateFormat??"mediumDate",Et||this.locale,we??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(jt){throw so()}}}return x.\u0275fac=function(B){return new(B||x)(a.Y36(a.soG,16),a.Y36(bs,24),a.Y36(Fo,24))},x.\u0275pipe=a.Yjl({name:"date",type:x,pure:!0,standalone:!0}),x})(),Na=(()=>{class x{constructor(B){this.differs=B,this.keyValues=[],this.compareFn=ti}transform(B,ue=ti){if(!B||!(B instanceof Map)&&"object"!=typeof B)return null;this.differ||(this.differ=this.differs.find(B).create());const we=this.differ.diff(B),Et=ue!==this.compareFn;return we&&(this.keyValues=[],we.forEachItem(jt=>{this.keyValues.push(function Co(x,J){return{key:x,value:J}}(jt.key,jt.currentValue))})),(we||Et)&&(this.keyValues.sort(ue),this.compareFn=ue),this.keyValues}}return x.\u0275fac=function(B){return new(B||x)(a.Y36(a.aQg,16))},x.\u0275pipe=a.Yjl({name:"keyvalue",type:x,pure:!1,standalone:!0}),x})();function ti(x,J){const B=x.key,ue=J.key;if(B===ue)return 0;if(void 0===B)return 1;if(void 0===ue)return-1;if(null===B)return 1;if(null===ue)return-1;if("string"==typeof B&&"string"==typeof ue)return B<ue?-1:1;if("number"==typeof B&&"number"==typeof ue)return B-ue;if("boolean"==typeof B&&"boolean"==typeof ue)return B<ue?-1:1;const we=String(B),Et=String(ue);return we==Et?0:we<Et?-1:1}let su=(()=>{class x{constructor(B){this._locale=B}transform(B,ue,we){if(!pa(B))return null;we=we||this._locale;try{return function an(x,J,B){return St(x,tr(yt(J,ft.Percent),Ge(J,Dn.MinusSign)),J,Dn.Group,Dn.Decimal,B,!0).replace(new RegExp("%","g"),Ge(J,Dn.PercentSign))}(Uu(B),we,ue)}catch(Et){throw so()}}}return x.\u0275fac=function(B){return new(B||x)(a.Y36(a.soG,16))},x.\u0275pipe=a.Yjl({name:"percent",type:x,pure:!0,standalone:!0}),x})(),Vu=(()=>{class x{constructor(B,ue="USD"){this._locale=B,this._defaultCurrencyCode=ue}transform(B,ue=this._defaultCurrencyCode,we="symbol",Et,jt){if(!pa(B))return null;jt=jt||this._locale,"boolean"==typeof we&&(we=we?"symbol":"code");let kn=ue||this._defaultCurrencyCode;"code"!==we&&(kn="symbol"===we||"symbol-narrow"===we?function jr(x,J,B="en"){const ue=function zn(x){return(0,a.cg1)(x)[a.wAp.Currencies]}(B)[x]||Ut[x]||[],we=ue[1];return"narrow"===J&&"string"==typeof we?we:ue[0]||x}(kn,"symbol"===we?"wide":"narrow",jt):we);try{return function dt(x,J,B,ue,we){const jt=tr(yt(J,ft.Currency),Ge(J,Dn.MinusSign));return jt.minFrac=function Vr(x){let J;const B=Ut[x];return B&&(J=B[2]),"number"==typeof J?J:hi}(ue),jt.maxFrac=jt.minFrac,St(x,jt,J,Dn.CurrencyGroup,Dn.CurrencyDecimal,we).replace(gi,B).replace(gi,"").trim()}(Uu(B),jt,kn,ue,Et)}catch(_i){throw so()}}}return x.\u0275fac=function(B){return new(B||x)(a.Y36(a.soG,16),a.Y36(a.EJc,16))},x.\u0275pipe=a.Yjl({name:"currency",type:x,pure:!0,standalone:!0}),x})();function pa(x){return!(null==x||""===x||x!=x)}function Uu(x){if("string"==typeof x&&!isNaN(Number(x)-parseFloat(x)))return Number(x);if("number"!=typeof x)throw new Error(`${x} is not a number`);return x}let Ss=(()=>{class x{}return x.\u0275fac=function(B){return new(B||x)},x.\u0275mod=a.oAB({type:x}),x.\u0275inj=a.cJS({}),x})();const mu="browser",ps="server";function Ma(x){return x===mu}function xi(x){return x===ps}let ja=(()=>{class x{}return x.\u0275prov=(0,a.Yz7)({token:x,providedIn:"root",factory:()=>new ou((0,a.LFG)(Te),window)}),x})();class ou{constructor(J,B){this.document=J,this.window=B,this.offset=()=>[0,0]}setOffset(J){this.offset=Array.isArray(J)?()=>J:J}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(J){this.supportsScrolling()&&this.window.scrollTo(J[0],J[1])}scrollToAnchor(J){if(!this.supportsScrolling())return;const B=function So(x,J){const B=x.getElementById(J)||x.getElementsByName(J)[0];if(B)return B;if("function"==typeof x.createTreeWalker&&x.body&&(x.body.createShadowRoot||x.body.attachShadow)){const ue=x.createTreeWalker(x.body,NodeFilter.SHOW_ELEMENT);let we=ue.currentNode;for(;we;){const Et=we.shadowRoot;if(Et){const jt=Et.getElementById(J)||Et.querySelector(`[name="${J}"]`);if(jt)return jt}we=ue.nextNode()}}return null}(this.document,J);B&&(this.scrollToElement(B),B.focus())}setHistoryScrollRestoration(J){if(this.supportScrollRestoration()){const B=this.window.history;B&&B.scrollRestoration&&(B.scrollRestoration=J)}}scrollToElement(J){const B=J.getBoundingClientRect(),ue=B.left+this.window.pageXOffset,we=B.top+this.window.pageYOffset,Et=this.offset();this.window.scrollTo(ue-Et[0],we-Et[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const J=$a(this.window.history)||$a(Object.getPrototypeOf(this.window.history));return!(!J||!J.writable&&!J.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function $a(x){return Object.getOwnPropertyDescriptor(x,"scrollRestoration")}class wo{}},8987:(Nn,lt,Y)=>{"use strict";Y.d(lt,{JF:()=>Rr,LE:()=>ht,TP:()=>Wt,eN:()=>It});var a=Y(4666),V=Y(2560),ee=Y(745),fe=Y(833),re=Y(3853),Te=Y(116),je=Y(635);class $e{}class et{}class De{constructor(Le){this.normalizedNames=new Map,this.lazyUpdate=null,Le?this.lazyInit="string"==typeof Le?()=>{this.headers=new Map,Le.split("\n").forEach(Ue=>{const ln=Ue.indexOf(":");if(ln>0){const qt=Ue.slice(0,ln),Ee=qt.toLowerCase(),ve=Ue.slice(ln+1).trim();this.maybeSetNormalizedName(qt,Ee),this.headers.has(Ee)?this.headers.get(Ee).push(ve):this.headers.set(Ee,[ve])}})}:()=>{this.headers=new Map,Object.entries(Le).forEach(([Ue,ln])=>{let qt;if(qt="string"==typeof ln?[ln]:"number"==typeof ln?[ln.toString()]:ln.map(Ee=>Ee.toString()),qt.length>0){const Ee=Ue.toLowerCase();this.headers.set(Ee,qt),this.maybeSetNormalizedName(Ue,Ee)}})}:this.headers=new Map}has(Le){return this.init(),this.headers.has(Le.toLowerCase())}get(Le){this.init();const Ue=this.headers.get(Le.toLowerCase());return Ue&&Ue.length>0?Ue[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Le){return this.init(),this.headers.get(Le.toLowerCase())||null}append(Le,Ue){return this.clone({name:Le,value:Ue,op:"a"})}set(Le,Ue){return this.clone({name:Le,value:Ue,op:"s"})}delete(Le,Ue){return this.clone({name:Le,value:Ue,op:"d"})}maybeSetNormalizedName(Le,Ue){this.normalizedNames.has(Ue)||this.normalizedNames.set(Ue,Le)}init(){this.lazyInit&&(this.lazyInit instanceof De?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Le=>this.applyUpdate(Le)),this.lazyUpdate=null))}copyFrom(Le){Le.init(),Array.from(Le.headers.keys()).forEach(Ue=>{this.headers.set(Ue,Le.headers.get(Ue)),this.normalizedNames.set(Ue,Le.normalizedNames.get(Ue))})}clone(Le){const Ue=new De;return Ue.lazyInit=this.lazyInit&&this.lazyInit instanceof De?this.lazyInit:this,Ue.lazyUpdate=(this.lazyUpdate||[]).concat([Le]),Ue}applyUpdate(Le){const Ue=Le.name.toLowerCase();switch(Le.op){case"a":case"s":let ln=Le.value;if("string"==typeof ln&&(ln=[ln]),0===ln.length)return;this.maybeSetNormalizedName(Le.name,Ue);const qt=("a"===Le.op?this.headers.get(Ue):void 0)||[];qt.push(...ln),this.headers.set(Ue,qt);break;case"d":const Ee=Le.value;if(Ee){let ve=this.headers.get(Ue);if(!ve)return;ve=ve.filter(Oe=>-1===Ee.indexOf(Oe)),0===ve.length?(this.headers.delete(Ue),this.normalizedNames.delete(Ue)):this.headers.set(Ue,ve)}else this.headers.delete(Ue),this.normalizedNames.delete(Ue)}}forEach(Le){this.init(),Array.from(this.normalizedNames.keys()).forEach(Ue=>Le(this.normalizedNames.get(Ue),this.headers.get(Ue)))}}class xe{encodeKey(Le){return Gt(Le)}encodeValue(Le){return Gt(Le)}decodeKey(Le){return decodeURIComponent(Le)}decodeValue(Le){return decodeURIComponent(Le)}}const st=/%(\d[a-f0-9])/gi,Ft={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Gt(At){return encodeURIComponent(At).replace(st,(Le,Ue)=>Ft[Ue]??Le)}function at(At){return`${At}`}class ht{constructor(Le={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Le.encoder||new xe,Le.fromString){if(Le.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Vt(At,Le){const Ue=new Map;return At.length>0&&At.replace(/^\?/,"").split("&").forEach(qt=>{const Ee=qt.indexOf("="),[ve,Oe]=-1==Ee?[Le.decodeKey(qt),""]:[Le.decodeKey(qt.slice(0,Ee)),Le.decodeValue(qt.slice(Ee+1))],ut=Ue.get(ve)||[];ut.push(Oe),Ue.set(ve,ut)}),Ue}(Le.fromString,this.encoder)}else Le.fromObject?(this.map=new Map,Object.keys(Le.fromObject).forEach(Ue=>{const ln=Le.fromObject[Ue],qt=Array.isArray(ln)?ln.map(at):[at(ln)];this.map.set(Ue,qt)})):this.map=null}has(Le){return this.init(),this.map.has(Le)}get(Le){this.init();const Ue=this.map.get(Le);return Ue?Ue[0]:null}getAll(Le){return this.init(),this.map.get(Le)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Le,Ue){return this.clone({param:Le,value:Ue,op:"a"})}appendAll(Le){const Ue=[];return Object.keys(Le).forEach(ln=>{const qt=Le[ln];Array.isArray(qt)?qt.forEach(Ee=>{Ue.push({param:ln,value:Ee,op:"a"})}):Ue.push({param:ln,value:qt,op:"a"})}),this.clone(Ue)}set(Le,Ue){return this.clone({param:Le,value:Ue,op:"s"})}delete(Le,Ue){return this.clone({param:Le,value:Ue,op:"d"})}toString(){return this.init(),this.keys().map(Le=>{const Ue=this.encoder.encodeKey(Le);return this.map.get(Le).map(ln=>Ue+"="+this.encoder.encodeValue(ln)).join("&")}).filter(Le=>""!==Le).join("&")}clone(Le){const Ue=new ht({encoder:this.encoder});return Ue.cloneFrom=this.cloneFrom||this,Ue.updates=(this.updates||[]).concat(Le),Ue}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Le=>this.map.set(Le,this.cloneFrom.map.get(Le))),this.updates.forEach(Le=>{switch(Le.op){case"a":case"s":const Ue=("a"===Le.op?this.map.get(Le.param):void 0)||[];Ue.push(at(Le.value)),this.map.set(Le.param,Ue);break;case"d":if(void 0===Le.value){this.map.delete(Le.param);break}{let ln=this.map.get(Le.param)||[];const qt=ln.indexOf(at(Le.value));-1!==qt&&ln.splice(qt,1),ln.length>0?this.map.set(Le.param,ln):this.map.delete(Le.param)}}}),this.cloneFrom=this.updates=null)}}class Kt{constructor(){this.map=new Map}set(Le,Ue){return this.map.set(Le,Ue),this}get(Le){return this.map.has(Le)||this.map.set(Le,Le.defaultValue()),this.map.get(Le)}delete(Le){return this.map.delete(Le),this}has(Le){return this.map.has(Le)}keys(){return this.map.keys()}}function Se(At){return typeof ArrayBuffer<"u"&&At instanceof ArrayBuffer}function Je(At){return typeof Blob<"u"&&At instanceof Blob}function Yt(At){return typeof FormData<"u"&&At instanceof FormData}class ft{constructor(Le,Ue,ln,qt){let Ee;if(this.url=Ue,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Le.toUpperCase(),function ct(At){switch(At){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||qt?(this.body=void 0!==ln?ln:null,Ee=qt):Ee=ln,Ee&&(this.reportProgress=!!Ee.reportProgress,this.withCredentials=!!Ee.withCredentials,Ee.responseType&&(this.responseType=Ee.responseType),Ee.headers&&(this.headers=Ee.headers),Ee.context&&(this.context=Ee.context),Ee.params&&(this.params=Ee.params)),this.headers||(this.headers=new De),this.context||(this.context=new Kt),this.params){const ve=this.params.toString();if(0===ve.length)this.urlWithParams=Ue;else{const Oe=Ue.indexOf("?");this.urlWithParams=Ue+(-1===Oe?"?":Oe<Ue.length-1?"&":"")+ve}}else this.params=new ht,this.urlWithParams=Ue}serializeBody(){return null===this.body?null:Se(this.body)||Je(this.body)||Yt(this.body)||function Ut(At){return typeof URLSearchParams<"u"&&At instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ht?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Yt(this.body)?null:Je(this.body)?this.body.type||null:Se(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ht?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Le={}){const Ue=Le.method||this.method,ln=Le.url||this.url,qt=Le.responseType||this.responseType,Ee=void 0!==Le.body?Le.body:this.body,ve=void 0!==Le.withCredentials?Le.withCredentials:this.withCredentials,Oe=void 0!==Le.reportProgress?Le.reportProgress:this.reportProgress;let ut=Le.headers||this.headers,ze=Le.params||this.params;const on=Le.context??this.context;return void 0!==Le.setHeaders&&(ut=Object.keys(Le.setHeaders).reduce((ke,Me)=>ke.set(Me,Le.setHeaders[Me]),ut)),Le.setParams&&(ze=Object.keys(Le.setParams).reduce((ke,Me)=>ke.set(Me,Le.setParams[Me]),ze)),new ft(Ue,ln,Ee,{params:ze,headers:ut,context:on,reportProgress:Oe,responseType:qt,withCredentials:ve})}}var Ye=(()=>((Ye=Ye||{})[Ye.Sent=0]="Sent",Ye[Ye.UploadProgress=1]="UploadProgress",Ye[Ye.ResponseHeader=2]="ResponseHeader",Ye[Ye.DownloadProgress=3]="DownloadProgress",Ye[Ye.Response=4]="Response",Ye[Ye.User=5]="User",Ye))();class Zt{constructor(Le,Ue=200,ln="OK"){this.headers=Le.headers||new De,this.status=void 0!==Le.status?Le.status:Ue,this.statusText=Le.statusText||ln,this.url=Le.url||null,this.ok=this.status>=200&&this.status<300}}class en extends Zt{constructor(Le={}){super(Le),this.type=Ye.ResponseHeader}clone(Le={}){return new en({headers:Le.headers||this.headers,status:void 0!==Le.status?Le.status:this.status,statusText:Le.statusText||this.statusText,url:Le.url||this.url||void 0})}}class Bn extends Zt{constructor(Le={}){super(Le),this.type=Ye.Response,this.body=void 0!==Le.body?Le.body:null}clone(Le={}){return new Bn({body:void 0!==Le.body?Le.body:this.body,headers:Le.headers||this.headers,status:void 0!==Le.status?Le.status:this.status,statusText:Le.statusText||this.statusText,url:Le.url||this.url||void 0})}}class Dn extends Zt{constructor(Le){super(Le,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Le.url||"(unknown url)"}`:`Http failure response for ${Le.url||"(unknown url)"}: ${Le.status} ${Le.statusText}`,this.error=Le.error||null}}function qi(At,Le){return{body:Le,headers:At.headers,context:At.context,observe:At.observe,params:At.params,reportProgress:At.reportProgress,responseType:At.responseType,withCredentials:At.withCredentials}}let It=(()=>{class At{constructor(Ue){this.handler=Ue}request(Ue,ln,qt={}){let Ee;if(Ue instanceof ft)Ee=Ue;else{let ut,ze;ut=qt.headers instanceof De?qt.headers:new De(qt.headers),qt.params&&(ze=qt.params instanceof ht?qt.params:new ht({fromObject:qt.params})),Ee=new ft(Ue,ln,void 0!==qt.body?qt.body:null,{headers:ut,context:qt.context,params:ze,reportProgress:qt.reportProgress,responseType:qt.responseType||"json",withCredentials:qt.withCredentials})}const ve=(0,ee.of)(Ee).pipe((0,re.b)(ut=>this.handler.handle(ut)));if(Ue instanceof ft||"events"===qt.observe)return ve;const Oe=ve.pipe((0,Te.h)(ut=>ut instanceof Bn));switch(qt.observe||"body"){case"body":switch(Ee.responseType){case"arraybuffer":return Oe.pipe((0,je.U)(ut=>{if(null!==ut.body&&!(ut.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return ut.body}));case"blob":return Oe.pipe((0,je.U)(ut=>{if(null!==ut.body&&!(ut.body instanceof Blob))throw new Error("Response is not a Blob.");return ut.body}));case"text":return Oe.pipe((0,je.U)(ut=>{if(null!==ut.body&&"string"!=typeof ut.body)throw new Error("Response is not a string.");return ut.body}));default:return Oe.pipe((0,je.U)(ut=>ut.body))}case"response":return Oe;default:throw new Error(`Unreachable: unhandled observe type ${qt.observe}}`)}}delete(Ue,ln={}){return this.request("DELETE",Ue,ln)}get(Ue,ln={}){return this.request("GET",Ue,ln)}head(Ue,ln={}){return this.request("HEAD",Ue,ln)}jsonp(Ue,ln){return this.request("JSONP",Ue,{params:(new ht).append(ln,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Ue,ln={}){return this.request("OPTIONS",Ue,ln)}patch(Ue,ln,qt={}){return this.request("PATCH",Ue,qi(qt,ln))}post(Ue,ln,qt={}){return this.request("POST",Ue,qi(qt,ln))}put(Ue,ln,qt={}){return this.request("PUT",Ue,qi(qt,ln))}}return At.\u0275fac=function(Ue){return new(Ue||At)(V.LFG($e))},At.\u0275prov=V.Yz7({token:At,factory:At.\u0275fac}),At})();function _t(At,Le){return Le(At)}function Ot(At,Le){return(Ue,ln)=>Le.intercept(Ue,{handle:qt=>At(qt,ln)})}const Wt=new V.OlP("HTTP_INTERCEPTORS"),Lt=new V.OlP("HTTP_INTERCEPTOR_FNS");function $t(){let At=null;return(Le,Ue)=>(null===At&&(At=((0,V.f3M)(Wt,{optional:!0})??[]).reduceRight(Ot,_t)),At(Le,Ue))}let hn=(()=>{class At extends $e{constructor(Ue,ln){super(),this.backend=Ue,this.injector=ln,this.chain=null}handle(Ue){if(null===this.chain){const ln=Array.from(new Set(this.injector.get(Lt)));this.chain=ln.reduceRight((qt,Ee)=>function Ct(At,Le,Ue){return(ln,qt)=>Ue.runInContext(()=>Le(ln,Ee=>At(Ee,qt)))}(qt,Ee,this.injector),_t)}return this.chain(Ue,ln=>this.backend.handle(ln))}}return At.\u0275fac=function(Ue){return new(Ue||At)(V.LFG(et),V.LFG(V.lqb))},At.\u0275prov=V.Yz7({token:At,factory:At.\u0275fac}),At})();const rs=/^\)\]\}',?\n/;let Jt=(()=>{class At{constructor(Ue){this.xhrFactory=Ue}handle(Ue){if("JSONP"===Ue.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new fe.y(ln=>{const qt=this.xhrFactory.build();if(qt.open(Ue.method,Ue.urlWithParams),Ue.withCredentials&&(qt.withCredentials=!0),Ue.headers.forEach((ge,Re)=>qt.setRequestHeader(ge,Re.join(","))),Ue.headers.has("Accept")||qt.setRequestHeader("Accept","application/json, text/plain, */*"),!Ue.headers.has("Content-Type")){const ge=Ue.detectContentTypeHeader();null!==ge&&qt.setRequestHeader("Content-Type",ge)}if(Ue.responseType){const ge=Ue.responseType.toLowerCase();qt.responseType="json"!==ge?ge:"text"}const Ee=Ue.serializeBody();let ve=null;const Oe=()=>{if(null!==ve)return ve;const ge=qt.statusText||"OK",Re=new De(qt.getAllResponseHeaders()),mt=function di(At){return"responseURL"in At&&At.responseURL?At.responseURL:/^X-Request-URL:/m.test(At.getAllResponseHeaders())?At.getResponseHeader("X-Request-URL"):null}(qt)||Ue.url;return ve=new en({headers:Re,status:qt.status,statusText:ge,url:mt}),ve},ut=()=>{let{headers:ge,status:Re,statusText:mt,url:Xt}=Oe(),Vn=null;204!==Re&&(Vn=typeof qt.response>"u"?qt.responseText:qt.response),0===Re&&(Re=Vn?200:0);let Ir=Re>=200&&Re<300;if("json"===Ue.responseType&&"string"==typeof Vn){const gi=Vn;Vn=Vn.replace(rs,"");try{Vn=""!==Vn?JSON.parse(Vn):null}catch(Ws){Vn=gi,Ir&&(Ir=!1,Vn={error:Ws,text:Vn})}}Ir?(ln.next(new Bn({body:Vn,headers:ge,status:Re,statusText:mt,url:Xt||void 0})),ln.complete()):ln.error(new Dn({error:Vn,headers:ge,status:Re,statusText:mt,url:Xt||void 0}))},ze=ge=>{const{url:Re}=Oe(),mt=new Dn({error:ge,status:qt.status||0,statusText:qt.statusText||"Unknown Error",url:Re||void 0});ln.error(mt)};let on=!1;const ke=ge=>{on||(ln.next(Oe()),on=!0);let Re={type:Ye.DownloadProgress,loaded:ge.loaded};ge.lengthComputable&&(Re.total=ge.total),"text"===Ue.responseType&&qt.responseText&&(Re.partialText=qt.responseText),ln.next(Re)},Me=ge=>{let Re={type:Ye.UploadProgress,loaded:ge.loaded};ge.lengthComputable&&(Re.total=ge.total),ln.next(Re)};return qt.addEventListener("load",ut),qt.addEventListener("error",ze),qt.addEventListener("timeout",ze),qt.addEventListener("abort",ze),Ue.reportProgress&&(qt.addEventListener("progress",ke),null!==Ee&&qt.upload&&qt.upload.addEventListener("progress",Me)),qt.send(Ee),ln.next({type:Ye.Sent}),()=>{qt.removeEventListener("error",ze),qt.removeEventListener("abort",ze),qt.removeEventListener("load",ut),qt.removeEventListener("timeout",ze),Ue.reportProgress&&(qt.removeEventListener("progress",ke),null!==Ee&&qt.upload&&qt.upload.removeEventListener("progress",Me)),qt.readyState!==qt.DONE&&qt.abort()}})}}return At.\u0275fac=function(Ue){return new(Ue||At)(V.LFG(a.JF))},At.\u0275prov=V.Yz7({token:At,factory:At.\u0275fac}),At})();const wn=new V.OlP("XSRF_ENABLED"),hi=new V.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),bi=new V.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Gs{}let fr=(()=>{class At{constructor(Ue,ln,qt){this.doc=Ue,this.platform=ln,this.cookieName=qt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Ue=this.doc.cookie||"";return Ue!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,a.Mx)(Ue,this.cookieName),this.lastCookieString=Ue),this.lastToken}}return At.\u0275fac=function(Ue){return new(Ue||At)(V.LFG(a.K0),V.LFG(V.Lbi),V.LFG(hi))},At.\u0275prov=V.Yz7({token:At,factory:At.\u0275fac}),At})();function br(At,Le){const Ue=At.url.toLowerCase();if(!(0,V.f3M)(wn)||"GET"===At.method||"HEAD"===At.method||Ue.startsWith("http://")||Ue.startsWith("https://"))return Le(At);const ln=(0,V.f3M)(Gs).getToken(),qt=(0,V.f3M)(bi);return null!=ln&&!At.headers.has(qt)&&(At=At.clone({headers:At.headers.set(qt,ln)})),Le(At)}var bn=(()=>((bn=bn||{})[bn.Interceptors=0]="Interceptors",bn[bn.LegacyInterceptors=1]="LegacyInterceptors",bn[bn.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",bn[bn.NoXsrfProtection=3]="NoXsrfProtection",bn[bn.JsonpSupport=4]="JsonpSupport",bn[bn.RequestsMadeViaParent=5]="RequestsMadeViaParent",bn))();function si(At,Le){return{\u0275kind:At,\u0275providers:Le}}function ei(...At){const Le=[It,Jt,hn,{provide:$e,useExisting:hn},{provide:et,useExisting:Jt},{provide:Lt,useValue:br,multi:!0},{provide:wn,useValue:!0},{provide:Gs,useClass:fr}];for(const Ue of At)Le.push(...Ue.\u0275providers);return(0,V.MR2)(Le)}const fi=new V.OlP("LEGACY_INTERCEPTOR_FN");let Rr=(()=>{class At{}return At.\u0275fac=function(Ue){return new(Ue||At)},At.\u0275mod=V.oAB({type:At}),At.\u0275inj=V.cJS({providers:[ei(si(bn.LegacyInterceptors,[{provide:fi,useFactory:$t},{provide:Lt,useExisting:fi,multi:!0}]))]}),At})()},1499:(Nn,lt,Y)=>{"use strict";Y.d(lt,{Z:()=>ee});const a=void 0,ee=["pl",[["a","p"],["AM","PM"],a],a,[["n","p","w","\u015b","c","p","s"],["niedz.","pon.","wt.","\u015br.","czw.","pt.","sob."],["niedziela","poniedzia\u0142ek","wtorek","\u015broda","czwartek","pi\u0105tek","sobota"],["nie","pon","wto","\u015bro","czw","pi\u0105","sob"]],[["N","P","W","\u015a","C","P","S"],["niedz.","pon.","wt.","\u015br.","czw.","pt.","sob."],["niedziela","poniedzia\u0142ek","wtorek","\u015broda","czwartek","pi\u0105tek","sobota"],["nie","pon","wto","\u015bro","czw","pi\u0105","sob"]],[["s","l","m","k","m","c","l","s","w","p","l","g"],["sty","lut","mar","kwi","maj","cze","lip","sie","wrz","pa\u017a","lis","gru"],["stycznia","lutego","marca","kwietnia","maja","czerwca","lipca","sierpnia","wrze\u015bnia","pa\u017adziernika","listopada","grudnia"]],[["S","L","M","K","M","C","L","S","W","P","L","G"],["sty","lut","mar","kwi","maj","cze","lip","sie","wrz","pa\u017a","lis","gru"],["stycze\u0144","luty","marzec","kwiecie\u0144","maj","czerwiec","lipiec","sierpie\u0144","wrzesie\u0144","pa\u017adziernik","listopad","grudzie\u0144"]],[["p.n.e.","n.e."],a,["przed nasz\u0105 er\u0105","naszej ery"]],1,[6,0],["d.MM.y","d MMM y","d MMMM y","EEEE, d MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1}, {0}",a,"{1} {0}",a],[",","\xa0",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","#,##0.00\xa0\xa4","#E0"],"PLN","z\u0142","z\u0142oty polski",{AUD:[a,"$"],CAD:[a,"$"],CNY:[a,"\xa5"],GBP:[a,"\xa3"],HKD:[a,"$"],ILS:[a,"\u20aa"],INR:[a,"\u20b9"],JPY:[a,"\xa5"],KRW:[a,"\u20a9"],MXN:[a,"$"],NZD:[a,"$"],PHP:[a,"\u20b1"],PLN:["z\u0142"],RON:[a,"lej"],TWD:[a,"NT$"],USD:[a,"$"],VND:[a,"\u20ab"]},"ltr",function V(fe){const Te=Math.floor(Math.abs(fe)),je=fe.toString().replace(/^[^.]*\.?/,"").length;return 1===Te&&0===je?1:0===je&&Te%10===Math.floor(Te%10)&&Te%10>=2&&Te%10<=4&&!(Te%100>=12&&Te%100<=14)?3:0===je&&1!==Te&&Te%10===Math.floor(Te%10)&&Te%10>=0&&Te%10<=1||0===je&&Te%10===Math.floor(Te%10)&&Te%10>=5&&Te%10<=9||0===je&&Te%100===Math.floor(Te%100)&&Te%100>=12&&Te%100<=14?4:5}]},2560:(Nn,lt,Y)=>{"use strict";Y.d(lt,{$8M:()=>Un,$WT:()=>ji,$Z:()=>Ag,AFp:()=>Hb,ALo:()=>p,AaK:()=>$e,BQk:()=>Lf,CHM:()=>_o,CRH:()=>yb,CZH:()=>Ev,CqO:()=>rg,D6c:()=>OE,DdM:()=>gy,EJc:()=>Kw,EiD:()=>rl,EpF:()=>ng,F$t:()=>Xe,F4k:()=>Hm,FYo:()=>la,FiY:()=>Ku,Gf:()=>mb,GfV:()=>xu,Gpc:()=>be,Gre:()=>ky,Hsn:()=>vt,Ikx:()=>Z_,JOm:()=>Mo,JVY:()=>af,JZr:()=>Gt,KtG:()=>Ka,L6k:()=>eh,LAX:()=>Ba,LFG:()=>Rr,LMc:()=>PE,LSH:()=>Sc,Lbi:()=>jw,Lck:()=>hv,MAs:()=>tg,MGl:()=>dn,MMx:()=>ym,MR2:()=>dc,MT6:()=>Fy,NdJ:()=>am,O4$:()=>Rs,OlP:()=>mn,Oqu:()=>z_,P3R:()=>rh,PXZ:()=>uE,Q6J:()=>gp,QGY:()=>om,QbO:()=>$w,Qsj:()=>Ca,QtT:()=>ay,R0b:()=>Dh,RDi:()=>vl,Rgc:()=>Ri,SBq:()=>Ns,SDv:()=>cv,Sil:()=>Yw,Suo:()=>_b,TTD:()=>ma,TgZ:()=>_p,Tol:()=>H_,Udp:()=>V_,VKq:()=>my,W1O:()=>Eb,WLB:()=>_y,X6Q:()=>fE,XFs:()=>wn,Xpm:()=>Ir,Xts:()=>Sp,Y36:()=>Ud,YKP:()=>hy,YNc:()=>eg,Yjl:()=>gr,Yz7:()=>Ge,Z0I:()=>Tn,ZZ4:()=>q0,_Bn:()=>Yc,_UZ:()=>im,_Vd:()=>ri,_c5:()=>NE,_uU:()=>Wm,aQg:()=>Y0,c2e:()=>zw,cJS:()=>Ke,cg1:()=>Zm,d8E:()=>J_,dDg:()=>iE,dqk:()=>fr,dwT:()=>Gy,eBb:()=>To,eFA:()=>ew,eJc:()=>R0,ekj:()=>U_,eoX:()=>Zb,f3M:()=>pi,g9A:()=>jb,gM2:()=>Pe,h0i:()=>Bu,hGG:()=>ME,hij:()=>Km,iGM:()=>gb,ifc:()=>ut,ip1:()=>Ub,jDz:()=>Gf,kEZ:()=>_v,kL8:()=>ug,kcU:()=>Ps,lG2:()=>tr,lcZ:()=>W,lqb:()=>_,lri:()=>qb,mCW:()=>lc,n5z:()=>he,oAB:()=>dt,oJD:()=>jc,oxw:()=>_e,pB0:()=>ql,pQV:()=>o_,q3G:()=>eo,q4F:()=>$c,qLn:()=>hc,qOj:()=>dp,qZA:()=>Ff,qzn:()=>Ro,rWj:()=>Yb,s9C:()=>fn,sBO:()=>pE,s_b:()=>Eh,soG:()=>Dv,tb:()=>Qb,tp0:()=>Mu,uIk:()=>Nf,vHH:()=>at,vpe:()=>er,wAp:()=>Qr,xi3:()=>Q,xp6:()=>fd,ynx:()=>xc,z2F:()=>Tv,z3N:()=>co,zSh:()=>Qf,zW0:()=>Wh,zs3:()=>Vh});var a=Y(253),V=Y(7714),ee=Y(833),fe=Y(6646),re=Y(1203);function Te(n){for(let i in n)if(n[i]===Te)return i;throw Error("Could not find renamed property on target object.")}function je(n,i){for(const o in i)i.hasOwnProperty(o)&&!n.hasOwnProperty(o)&&(n[o]=i[o])}function $e(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map($e).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const i=n.toString();if(null==i)return""+i;const o=i.indexOf("\n");return-1===o?i:i.substring(0,o)}function et(n,i){return null==n||""===n?null===i?"":i:null==i||""===i?n:n+" "+i}const De=Te({__forward_ref__:Te});function be(n){return n.__forward_ref__=be,n.toString=function(){return $e(this())},n}function xe(n){return Vt(n)?n():n}function Vt(n){return"function"==typeof n&&n.hasOwnProperty(De)&&n.__forward_ref__===be}function st(n){return n&&!!n.\u0275providers}const Gt="https://g.co/ng/security#xss";class at extends Error{constructor(i,o){super(ht(i,o)),this.code=i}}function ht(n,i){return`NG0${Math.abs(n)}${i?": "+i.trim():""}`}function Ce(n){return"string"==typeof n?n:null==n?"":String(n)}function Yt(n,i){throw new at(-201,!1)}function $t(n,i,o,d){throw new Error(`ASSERTION ERROR: ${n}`+(null==d?"":` [Expected=> ${o} ${d} ${i} <=Actual]`))}function Ge(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ke(n){return{providers:n.providers||[],imports:n.imports||[]}}function pt(n){return zn(n,ii)||zn(n,di)}function Tn(n){return null!==pt(n)}function zn(n,i){return n.hasOwnProperty(i)?n[i]:null}function pr(n){return n&&(n.hasOwnProperty(rs)||n.hasOwnProperty(Jt))?n[rs]:null}const ii=Te({\u0275prov:Te}),rs=Te({\u0275inj:Te}),di=Te({ngInjectableDef:Te}),Jt=Te({ngInjectorDef:Te});var wn=(()=>((wn=wn||{})[wn.Default=0]="Default",wn[wn.Host=1]="Host",wn[wn.Self=2]="Self",wn[wn.SkipSelf=4]="SkipSelf",wn[wn.Optional=8]="Optional",wn))();let jr;function Vr(n){const i=jr;return jr=n,i}function bi(n,i,o){const d=pt(n);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:o&wn.Optional?null:void 0!==i?i:void Yt($e(n))}const fr=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),si={},ei="__NG_DI_FLAG__",Wn="ngTempTokenPath",fi="ngTokenPath",Ii=/\n/gm,Pi="\u0275",xr="__source";let fs;function wr(n){const i=fs;return fs=n,i}function vs(n,i=wn.Default){if(void 0===fs)throw new at(-203,!1);return null===fs?bi(n,void 0,i):fs.get(n,i&wn.Optional?null:void 0,i)}function Rr(n,i=wn.Default){return(function hi(){return jr}()||vs)(xe(n),i)}function pi(n,i=wn.Default){return Rr(n,At(i))}function At(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Le(n){const i=[];for(let o=0;o<n.length;o++){const d=xe(n[o]);if(Array.isArray(d)){if(0===d.length)throw new at(900,!1);let f,v=wn.Default;for(let C=0;C<d.length;C++){const P=d[C],U=ln(P);"number"==typeof U?-1===U?f=P.token:v|=U:f=P}i.push(Rr(f,v))}else i.push(Rr(d))}return i}function Ue(n,i){return n[ei]=i,n.prototype[ei]=i,n}function ln(n){return n[ei]}function ve(n){return{toString:n}.toString()}var Oe=(()=>((Oe=Oe||{})[Oe.OnPush=0]="OnPush",Oe[Oe.Default=1]="Default",Oe))(),ut=(()=>{return(n=ut||(ut={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",ut;var n})();const ze={},on=[],ke=Te({\u0275cmp:Te}),Me=Te({\u0275dir:Te}),ge=Te({\u0275pipe:Te}),Re=Te({\u0275mod:Te}),mt=Te({\u0275fac:Te}),Xt=Te({__NG_ELEMENT_ID__:Te});let Vn=0;function Ir(n){return ve(()=>{const i=Ga(n),o={...i,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Oe.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||ut.Emulated,id:"c"+Vn++,styles:n.styles||on,_:null,schemas:n.schemas||null,tView:null};Wo(o);const d=n.dependencies;return o.directiveDefs=Aa(d,!1),o.pipeDefs=Aa(d,!0),o})}function Ws(n){return Zn(n)||ai(n)}function St(n){return null!==n}function dt(n){return ve(()=>({type:n.type,bootstrap:n.bootstrap||on,declarations:n.declarations||on,imports:n.imports||on,exports:n.exports||on,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Kn(n,i){if(null==n)return ze;const o={};for(const d in n)if(n.hasOwnProperty(d)){let f=n[d],v=f;Array.isArray(f)&&(v=f[1],f=f[0]),o[f]=d,i&&(i[f]=v)}return o}function tr(n){return ve(()=>{const i=Ga(n);return Wo(i),i})}function gr(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Zn(n){return n[ke]||null}function ai(n){return n[Me]||null}function Ur(n){return n[ge]||null}function ji(n){const i=Zn(n)||ai(n)||Ur(n);return null!==i&&i.standalone}function Li(n,i){const o=n[Re]||null;if(!o&&!0===i)throw new Error(`Type ${$e(n)} does not have '\u0275mod' property.`);return o}function Ga(n){const i={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:i,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||on,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Kn(n.inputs,i),outputs:Kn(n.outputs)}}function Wo(n){n.features?.forEach(i=>i(n))}function Aa(n,i){if(!n)return null;const o=i?Ur:Ws;return()=>("function"==typeof n?n():n).map(d=>o(d)).filter(St)}const as=0,En=1,Or=2,wi=3,Fs=4,$r=5,Yi=6,Ts=7,Xr=8,Ks=9,Is=10,Er=11,bo=12,qs=13,no=14,ro=15,zr=16,na=17,io=18,js=19,ko=20,Zi=21,Si=22,po=1,Qe=2,We=7,gt=8,zt=9,un=10;function Sr(n){return Array.isArray(n)&&"object"==typeof n[po]}function Tr(n){return Array.isArray(n)&&!0===n[po]}function qr(n){return 0!=(4&n.flags)}function bs(n){return n.componentOffset>-1}function Fo(n){return 1==(1&n.flags)}function mi(n){return!!n.template}function fa(n){return 0!=(256&n[Or])}function ki(n,i){return n.hasOwnProperty(mt)?n[mt]:null}class oo{constructor(i,o,d){this.previousValue=i,this.currentValue=o,this.firstChange=d}isFirstChange(){return this.firstChange}}function ma(){return ja}function ja(n){return n.type.prototype.ngOnChanges&&(n.setInput=$a),ou}function ou(){const n=$s(this),i=n?.current;if(i){const o=n.previous;if(o===ze)n.previous=i;else for(let d in i)o[d]=i[d];n.current=null,this.ngOnChanges(i)}}function $a(n,i,o,d){const f=this.declaredInputs[o],v=$s(n)||function wo(n,i){return n[So]=i}(n,{previous:ze,current:null}),C=v.current||(v.current={}),P=v.previous,U=P[f];C[f]=new oo(U&&U.currentValue,i,P===ze),n[d]=i}ma.ngInherit=!0;const So="__ngSimpleChanges__";function $s(n){return n[So]||null}const Ls=function(n,i,o){},us="svg";function Ai(n){for(;Array.isArray(n);)n=n[as];return n}function is(n,i){return Ai(i[n])}function As(n,i){return Ai(i[n.index])}function Oa(n,i){return n.data[i]}function mo(n,i){return n[i]}function Ys(n,i){const o=i[n];return Sr(o)?o:o[as]}function Ko(n){return 64==(64&n[Or])}function Os(n,i){return null==i?null:n[i]}function _a(n){n[io]=0}function ya(n,i){n[$r]+=i;let o=n,d=n[wi];for(;null!==d&&(1===i&&1===o[$r]||-1===i&&0===o[$r]);)d[$r]+=i,o=d,d=d[wi]}const _r={lFrame:Rt(null),bindingsEnabled:!0};function Pt(){return _r.bindingsEnabled}function xt(){return _r.lFrame.lView}function Hr(){return _r.lFrame.tView}function _o(n){return _r.lFrame.contextLView=n,n[Xr]}function Ka(n){return _r.lFrame.contextLView=null,n}function ls(){let n=Ra();for(;null!==n&&64===n.type;)n=n.parent;return n}function Ra(){return _r.lFrame.currentTNode}function va(){const n=_r.lFrame,i=n.currentTNode;return n.isParent?i:i.parent}function Eo(n,i){const o=_r.lFrame;o.currentTNode=n,o.isParent=i}function ra(){return _r.lFrame.isParent}function dl(){_r.lFrame.isParent=!1}function I(){const n=_r.lFrame;let i=n.bindingRootIndex;return-1===i&&(i=n.bindingRootIndex=n.tView.bindingStartIndex),i}function M(){return _r.lFrame.bindingIndex}function ne(){return _r.lFrame.bindingIndex++}function me(n){const i=_r.lFrame,o=i.bindingIndex;return i.bindingIndex=i.bindingIndex+n,o}function He(n){_r.lFrame.inI18n=n}function wt(n,i){const o=_r.lFrame;o.bindingIndex=o.bindingRootIndex=n,Hn(i)}function Hn(n){_r.lFrame.currentDirectiveIndex=n}function qn(n){const i=_r.lFrame.currentDirectiveIndex;return-1===i?null:n[i]}function Wr(){return _r.lFrame.currentQueryIndex}function kr(n){_r.lFrame.currentQueryIndex=n}function Cr(n){const i=n[En];return 2===i.type?i.declTNode:1===i.type?n[Yi]:null}function Dr(n,i,o){if(o&wn.SkipSelf){let f=i,v=n;for(;!(f=f.parent,null!==f||o&wn.Host||(f=Cr(v),null===f||(v=v[ro],10&f.type))););if(null===f)return!1;i=f,n=v}const d=_r.lFrame=qe();return d.currentTNode=i,d.lView=n,!0}function ni(n){const i=qe(),o=n[En];_r.lFrame=i,i.currentTNode=o.firstChild,i.lView=n,i.tView=o,i.contextLView=n,i.bindingIndex=o.bindingStartIndex,i.inI18n=!1}function qe(){const n=_r.lFrame,i=null===n?null:n.child;return null===i?Rt(n):i}function Rt(n){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=i),i}function Tt(){const n=_r.lFrame;return _r.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Pn=Tt;function yr(){const n=Tt();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function lr(){return _r.lFrame.selectedIndex}function Bs(n){_r.lFrame.selectedIndex=n}function Vi(){const n=_r.lFrame;return Oa(n.tView,n.selectedIndex)}function Rs(){_r.lFrame.currentNamespace=us}function Ps(){!function ba(){_r.lFrame.currentNamespace=null}()}function On(n,i){for(let o=i.directiveStart,d=i.directiveEnd;o<d;o++){const v=n.data[o].type.prototype,{ngAfterContentInit:C,ngAfterContentChecked:P,ngAfterViewInit:U,ngAfterViewChecked:X,ngOnDestroy:ce}=v;C&&(n.contentHooks??(n.contentHooks=[])).push(-o,C),P&&((n.contentHooks??(n.contentHooks=[])).push(o,P),(n.contentCheckHooks??(n.contentCheckHooks=[])).push(o,P)),U&&(n.viewHooks??(n.viewHooks=[])).push(-o,U),X&&((n.viewHooks??(n.viewHooks=[])).push(o,X),(n.viewCheckHooks??(n.viewCheckHooks=[])).push(o,X)),null!=ce&&(n.destroyHooks??(n.destroyHooks=[])).push(o,ce)}}function hr(n,i,o){J(n,i,3,o)}function li(n,i,o,d){(3&n[Or])===o&&J(n,i,o,d)}function x(n,i){let o=n[Or];(3&o)===i&&(o&=2047,o+=1,n[Or]=o)}function J(n,i,o,d){const v=d??-1,C=i.length-1;let P=0;for(let U=void 0!==d?65535&n[io]:0;U<C;U++)if("number"==typeof i[U+1]){if(P=i[U],null!=d&&P>=d)break}else i[U]<0&&(n[io]+=65536),(P<v||-1==v)&&(B(n,o,i,U),n[io]=(4294901760&n[io])+U+2),U++}function B(n,i,o,d){const f=o[d]<0,v=o[d+1],P=n[f?-o[d]:o[d]];if(f){if(n[Or]>>11<n[io]>>16&&(3&n[Or])===i){n[Or]+=2048,Ls(4,P,v);try{v.call(P)}finally{Ls(5,P,v)}}}else{Ls(4,P,v);try{v.call(P)}finally{Ls(5,P,v)}}}const ue=-1;class we{constructor(i,o,d){this.factory=i,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=d}}function Ni(n,i,o){let d=0;for(;d<o.length;){const f=o[d];if("number"==typeof f){if(0!==f)break;d++;const v=o[d++],C=o[d++],P=o[d++];n.setAttribute(i,C,P,v)}else{const v=f,C=o[++d];Uo(v)?n.setProperty(i,v,C):n.setAttribute(i,v,C),d++}}return d}function Zr(n){return 3===n||4===n||6===n}function Uo(n){return 64===n.charCodeAt(0)}function Ui(n,i){if(null!==i&&0!==i.length)if(null===n||0===n.length)n=i.slice();else{let o=-1;for(let d=0;d<i.length;d++){const f=i[d];"number"==typeof f?o=f:0===o||qo(n,o,f,null,-1===o||2===o?i[++d]:null)}}return n}function qo(n,i,o,d,f){let v=0,C=n.length;if(-1===i)C=-1;else for(;v<n.length;){const P=n[v++];if("number"==typeof P){if(P===i){C=-1;break}if(P>i){C=v-1;break}}}for(;v<n.length;){const P=n[v];if("number"==typeof P)break;if(P===o){if(null===d)return void(null!==f&&(n[v+1]=f));if(d===n[v+1])return void(n[v+2]=f)}v++,null!==d&&v++,null!==f&&v++}-1!==C&&(n.splice(C,0,i),v=C+1),n.splice(v++,0,o),null!==d&&n.splice(v++,0,d),null!==f&&n.splice(v++,0,f)}function Ar(n){return n!==ue}function yi(n){return 32767&n}function Yo(n,i){let o=function Zs(n){return n>>16}(n),d=i;for(;o>0;)d=d[ro],o--;return d}let ju=!0;function Cu(n){const i=ju;return ju=n,i}const yo=255,ss=5;let Cs=0;const uu={};function gn(n,i){const o=Ao(n,i);if(-1!==o)return o;const d=i[En];d.firstCreatePass&&(n.injectorIndex=i.length,Js(d.data,n),Js(i,null),Js(d.blueprint,null));const f=qa(n,i),v=n.injectorIndex;if(Ar(f)){const C=yi(f),P=Yo(f,i),U=P[En].data;for(let X=0;X<8;X++)i[v+X]=P[C+X]|U[C+X]}return i[v+8]=f,v}function Js(n,i){n.push(0,0,0,0,0,0,0,0,i)}function Ao(n,i){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===i[n.injectorIndex+8]?-1:n.injectorIndex}function qa(n,i){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let o=0,d=null,f=i;for(;null!==f;){if(d=Ho(f),null===d)return ue;if(o++,f=f[ro],-1!==d.injectorIndex)return d.injectorIndex|o<<16}return ue}function tn(n,i,o){!function Iu(n,i,o){let d;"string"==typeof o?d=o.charCodeAt(0)||0:o.hasOwnProperty(Xt)&&(d=o[Xt]),null==d&&(d=o[Xt]=Cs++);const f=d&yo;i.data[n+(f>>ss)]|=1<<f}(n,i,o)}function yu(n,i,o){if(o&wn.Optional||void 0!==n)return n;Yt()}function Fn(n,i,o,d){if(o&wn.Optional&&void 0===d&&(d=null),!(o&(wn.Self|wn.Host))){const f=n[Ks],v=Vr(void 0);try{return f?f.get(i,d,o&wn.Optional):bi(i,d,o&wn.Optional)}finally{Vr(v)}}return yu(d,0,o)}function Nt(n,i,o,d=wn.Default,f){if(null!==n){if(1024&i[Or]){const C=function Ya(n,i,o,d,f){let v=n,C=i;for(;null!==v&&null!==C&&1024&C[Or]&&!(256&C[Or]);){const P=rn(v,C,o,d|wn.Self,uu);if(P!==uu)return P;let U=v.parent;if(!U){const X=C[Zi];if(X){const ce=X.get(o,uu,d);if(ce!==uu)return ce}U=Ho(C),C=C[ro]}v=U}return f}(n,i,o,d,uu);if(C!==uu)return C}const v=rn(n,i,o,d,uu);if(v!==uu)return v}return Fn(i,o,d,f)}function rn(n,i,o,d,f){const v=function Tl(n){if("string"==typeof n)return n.charCodeAt(0)||0;const i=n.hasOwnProperty(Xt)?n[Xt]:void 0;return"number"==typeof i?i>=0?i&yo:lu:i}(o);if("function"==typeof v){if(!Dr(i,n,d))return d&wn.Host?yu(f,0,d):Fn(i,o,d,f);try{const C=v(d);if(null!=C||d&wn.Optional)return C;Yt()}finally{Pn()}}else if("number"==typeof v){let C=null,P=Ao(n,i),U=ue,X=d&wn.Host?i[zr][Yi]:null;for((-1===P||d&wn.SkipSelf)&&(U=-1===P?qa(n,i):i[P+8],U!==ue&&Qs(d,!1)?(C=i[En],P=yi(U),i=Yo(U,i)):P=-1);-1!==P;){const ce=i[En];if(kl(v,P,ce.data)){const Ae=No(P,i,o,C,d,X);if(Ae!==uu)return Ae}U=i[P+8],U!==ue&&Qs(d,i[En].data[P+8]===X)&&kl(v,P,i)?(C=ce,P=yi(U),i=Yo(U,i)):P=-1}}return f}function No(n,i,o,d,f,v){const C=i[En],P=C.data[n+8],ce=$u(P,C,o,null==d?bs(P)&&ju:d!=C&&0!=(3&P.type),f&wn.Host&&v===P);return null!==ce?fl(i,C,ce,P):uu}function $u(n,i,o,d,f){const v=n.providerIndexes,C=i.data,P=1048575&v,U=n.directiveStart,ce=v>>20,it=f?P+ce:n.directiveEnd;for(let kt=d?P:P+ce;kt<it;kt++){const cn=C[kt];if(kt<U&&o===cn||kt>=U&&cn.type===o)return kt}if(f){const kt=C[U];if(kt&&mi(kt)&&kt.type===o)return U}return null}function fl(n,i,o,d){let f=n[o];const v=i.data;if(function Et(n){return n instanceof we}(f)){const C=f;C.resolving&&function ct(n,i){const o=i?`. Dependency path: ${i.join(" > ")} > ${n}`:"";throw new at(-200,`Circular dependency in DI detected for ${n}${o}`)}(function Kt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Ce(n)}(v[o]));const P=Cu(C.canSeeViewProviders);C.resolving=!0;const U=C.injectImpl?Vr(C.injectImpl):null;Dr(n,d,wn.Default);try{f=n[o]=C.factory(void 0,v,n,d),i.firstCreatePass&&o>=d.directiveStart&&function sr(n,i,o){const{ngOnChanges:d,ngOnInit:f,ngDoCheck:v}=i.type.prototype;if(d){const C=ja(i);(o.preOrderHooks??(o.preOrderHooks=[])).push(n,C),(o.preOrderCheckHooks??(o.preOrderCheckHooks=[])).push(n,C)}f&&(o.preOrderHooks??(o.preOrderHooks=[])).push(0-n,f),v&&((o.preOrderHooks??(o.preOrderHooks=[])).push(n,v),(o.preOrderCheckHooks??(o.preOrderCheckHooks=[])).push(n,v))}(o,v[o],i)}finally{null!==U&&Vr(U),Cu(P),C.resolving=!1,Pn()}}return f}function kl(n,i,o){return!!(o[i+(n>>ss)]&1<<n)}function Qs(n,i){return!(n&wn.Self||n&wn.Host&&i)}class Pa{constructor(i,o){this._tNode=i,this._lView=o}get(i,o,d){return Nt(this._tNode,this._lView,i,At(d),o)}}function lu(){return new Pa(ls(),xt())}function he(n){return ve(()=>{const i=n.prototype.constructor,o=i[mt]||cu(i),d=Object.prototype;let f=Object.getPrototypeOf(n.prototype).constructor;for(;f&&f!==d;){const v=f[mt]||cu(f);if(v&&v!==o)return v;f=Object.getPrototypeOf(f)}return v=>new v})}function cu(n){return Vt(n)?()=>{const i=cu(xe(n));return i&&i()}:ki(n)}function Ho(n){const i=n[En],o=i.type;return 2===o?i.declTNode:1===o?n[Yi]:null}function Un(n){return function cr(n,i){if("class"===i)return n.classes;if("style"===i)return n.styles;const o=n.attrs;if(o){const d=o.length;let f=0;for(;f<d;){const v=o[f];if(Zr(v))break;if(0===v)f+=2;else if("number"==typeof v)for(f++;f<d&&"string"==typeof o[f];)f++;else{if(v===i)return o[f+1];f+=2}}}return null}(ls(),n)}const Fl="__parameters__";function vi(n,i,o){return ve(()=>{const d=function Go(n){return function(...o){if(n){const d=n(...o);for(const f in d)this[f]=d[f]}}}(i);function f(...v){if(this instanceof f)return d.apply(this,v),this;const C=new f(...v);return P.annotation=C,P;function P(U,X,ce){const Ae=U.hasOwnProperty(Fl)?U[Fl]:Object.defineProperty(U,Fl,{value:[]})[Fl];for(;Ae.length<=ce;)Ae.push(null);return(Ae[ce]=Ae[ce]||[]).push(C),U}}return o&&(f.prototype=Object.create(o.prototype)),f.prototype.ngMetadataName=n,f.annotationCls=f,f})}class mn{constructor(i,o){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Ge({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function nt(n,i){n.forEach(o=>Array.isArray(o)?nt(o,i):i(o))}function Su(n,i,o){i>=n.length?n.push(o):n.splice(i,0,o)}function ia(n,i){return i>=n.length-1?n.pop():n.splice(i,1)[0]}function S(n,i){const o=[];for(let d=0;d<n;d++)o.push(i);return o}function ae(n,i,o){let d=rt(n,i);return d>=0?n[1|d]=o:(d=~d,function F(n,i,o,d){let f=n.length;if(f==i)n.push(o,d);else if(1===f)n.push(d,n[0]),n[0]=o;else{for(f--,n.push(n[f-1],n[f]);f>i;)n[f]=n[f-2],f--;n[i]=o,n[i+1]=d}}(n,d,i,o)),d}function pe(n,i){const o=rt(n,i);if(o>=0)return n[1|o]}function rt(n,i){return function An(n,i,o){let d=0,f=n.length>>o;for(;f!==d;){const v=d+(f-d>>1),C=n[v<<o];if(i===C)return v<<o;C>i?f=v:d=v+1}return~(f<<o)}(n,i,1)}const Ku=Ue(vi("Optional"),8),Mu=Ue(vi("SkipSelf"),4);var Mo=(()=>((Mo=Mo||{})[Mo.Important=1]="Important",Mo[Mo.DashCase=2]="DashCase",Mo))();const gl=/^>|^->|<!--|-->|--!>|<!-$/g,ml=/(<|>)/,aa="\u200b$1\u200b";const Al=new Map;let _c=0;const Ih="__ngContext__";function La(n,i){Sr(i)?(n[Ih]=i[ko],function Ed(n){Al.set(n[ko],n)}(i)):n[Ih]=i}let Vl;function Qu(n,i){return Vl(n,i)}function vc(n){const i=n[wi];return Tr(i)?i[wi]:i}function sc(n){return _l(n[qs])}function ua(n){return _l(n[Fs])}function _l(n){for(;null!==n&&!Tr(n);)n=n[Fs];return n}function Xu(n,i,o,d,f){if(null!=d){let v,C=!1;Tr(d)?v=d:Sr(d)&&(C=!0,d=d[as]);const P=Ai(d);0===n&&null!==o?null==f?ac(i,o,P):bc(i,o,P,f||null,!0):1===n&&null!==o?bc(i,o,P,f||null,!0):2===n?Ec(i,P,C):3===n&&i.destroyNode(P),null!=v&&function Kf(n,i,o,d,f){const v=o[We];v!==Ai(o)&&Xu(i,n,d,v,f);for(let P=un;P<o.length;P++){const U=o[P];Ru(U[En],U,n,i,d,v)}}(i,n,v,o,f)}}function Ul(n,i){return n.createText(i)}function Yd(n,i,o){n.setValue(i,o)}function Cd(n,i){return n.createComment(function Ta(n){return n.replace(gl,i=>i.replace(ml,aa))}(i))}function Hl(n,i,o){return n.createElement(i,o)}function Gl(n,i){const o=n[zt],d=o.indexOf(i),f=i[wi];512&i[Or]&&(i[Or]&=-513,ya(f,-1)),o.splice(d,1)}function Zd(n,i){if(n.length<=un)return;const o=un+i,d=n[o];if(d){const f=d[na];null!==f&&f!==n&&Gl(f,d),i>0&&(n[o-1][Fs]=d[Fs]);const v=ia(n,un+i);!function Sh(n,i){Ru(n,i,i[Er],2,null,null),i[as]=null,i[Yi]=null}(d[En],d);const C=v[js];null!==C&&C.detachView(v[En]),d[wi]=null,d[Fs]=null,d[Or]&=-65}return d}function Wf(n,i){if(!(128&i[Or])){const o=i[Er];o.destroyNode&&Ru(n,i,o,3,null,null),function zf(n){let i=n[qs];if(!i)return oc(n[En],n);for(;i;){let o=null;if(Sr(i))o=i[qs];else{const d=i[un];d&&(o=d)}if(!o){for(;i&&!i[Fs]&&i!==n;)Sr(i)&&oc(i[En],i),i=i[wi];null===i&&(i=n),Sr(i)&&oc(i[En],i),o=i&&i[Fs]}i=o}}(i)}}function oc(n,i){if(!(128&i[Or])){i[Or]&=-65,i[Or]|=128,function Id(n,i){let o;if(null!=n&&null!=(o=n.destroyHooks))for(let d=0;d<o.length;d+=2){const f=i[o[d]];if(!(f instanceof we)){const v=o[d+1];if(Array.isArray(v))for(let C=0;C<v.length;C+=2){const P=f[v[C]],U=v[C+1];Ls(4,P,U);try{U.call(P)}finally{Ls(5,P,U)}}else{Ls(4,f,v);try{v.call(f)}finally{Ls(5,f,v)}}}}}(n,i),function Ml(n,i){const o=n.cleanup,d=i[Ts];let f=-1;if(null!==o)for(let v=0;v<o.length-1;v+=2)if("string"==typeof o[v]){const C=o[v+3];C>=0?d[f=C]():d[f=-C].unsubscribe(),v+=2}else{const C=d[f=o[v+1]];o[v].call(C)}if(null!==d){for(let v=f+1;v<d.length;v++)(0,d[v])();i[Ts]=null}}(n,i),1===i[En].type&&i[Er].destroy();const o=i[na];if(null!==o&&Tr(i[wi])){o!==i[wi]&&Gl(o,i);const d=i[js];null!==d&&d.detachView(n)}!function Mi(n){Al.delete(n[ko])}(i)}}function Lc(n,i,o){return Jd(n,i.parent,o)}function Jd(n,i,o){let d=i;for(;null!==d&&40&d.type;)d=(i=d).parent;if(null===d)return o[as];{const{componentOffset:f}=d;if(f>-1){const{encapsulation:v}=n.data[d.directiveStart+f];if(v===ut.None||v===ut.Emulated)return null}return As(d,o)}}function bc(n,i,o,d,f){n.insertBefore(i,o,d,f)}function ac(n,i,o){n.appendChild(i,o)}function el(n,i,o,d,f){null!==d?bc(n,i,o,d,f):ac(n,i,o)}function Sd(n,i){return n.parentNode(i)}function wc(n,i,o){return jl(n,i,o)}function yl(n,i,o){return 40&n.type?As(n,o):null}let Oo,tu,Pu,uc,jl=yl;function Ad(n,i){jl=n,Oo=i}function Ol(n,i,o,d){const f=Lc(n,d,i),v=i[Er],P=wc(d.parent||i[Yi],d,i);if(null!=f)if(Array.isArray(o))for(let U=0;U<o.length;U++)el(v,f,o[U],P,!1);else el(v,f,o,P,!1);void 0!==Oo&&Oo(v,d,i,o,f)}function eu(n,i){if(null!==i){const o=i.type;if(3&o)return As(i,n);if(4&o)return $l(-1,n[i.index]);if(8&o){const d=i.child;if(null!==d)return eu(n,d);{const f=n[i.index];return Tr(f)?$l(-1,f):Ai(f)}}if(32&o)return Qu(i,n)()||Ai(n[i.index]);{const d=Nh(n,i);return null!==d?Array.isArray(d)?d[0]:eu(vc(n[zr]),d):eu(n,i.next)}}return null}function Nh(n,i){return null!==i?n[zr][Yi].projection[i.projection]:null}function $l(n,i){const o=un+n+1;if(o<i.length){const d=i[o],f=d[En].firstChild;if(null!==f)return eu(d,f)}return i[We]}function Ec(n,i,o){const d=Sd(n,i);d&&function Ah(n,i,o,d){n.removeChild(i,o,d)}(n,d,i,o)}function Nd(n,i,o,d,f,v,C){for(;null!=o;){const P=d[o.index],U=o.type;if(C&&0===i&&(P&&La(Ai(P),d),o.flags|=2),32!=(32&o.flags))if(8&U)Nd(n,i,o.child,d,f,v,!1),Xu(i,n,f,P,v);else if(32&U){const X=Qu(o,d);let ce;for(;ce=X();)Xu(i,n,f,ce,v);Xu(i,n,f,P,v)}else 16&U?Du(n,i,d,o,f,v):Xu(i,n,f,P,v);o=C?o.projectionNext:o.next}}function Ru(n,i,o,d,f,v){Nd(o,d,n.firstChild,i,f,v,!1)}function Du(n,i,o,d,f,v){const C=o[zr],U=C[Yi].projection[d.projection];if(Array.isArray(U))for(let X=0;X<U.length;X++)Xu(i,n,f,U[X],v);else Nd(n,i,U,C[wi],f,v,!0)}function zl(n,i,o){""===o?n.removeAttribute(i,"class"):n.setAttribute(i,"class",o)}function Rl(n,i,o){const{mergedAttrs:d,classes:f,styles:v}=o;null!==d&&Ni(n,i,d),null!==f&&zl(n,i,f),null!==v&&function sf(n,i,o){n.setAttribute(i,"style",o)}(n,i,v)}function tl(n){return function od(){if(void 0===tu&&(tu=null,fr.trustedTypes))try{tu=fr.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return tu}()?.createHTML(n)||n}function vl(n){Pu=n}function Oh(){return void 0!==Pu?Pu:typeof document<"u"?document:void 0}function Uc(){if(void 0===uc&&(uc=null,fr.trustedTypes))try{uc=fr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return uc}function Us(n){return Uc()?.createHTML(n)||n}function Md(n){return Uc()?.createScriptURL(n)||n}class bl{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Gt})`}}class Kl extends bl{getTypeName(){return"HTML"}}class Od extends bl{getTypeName(){return"Style"}}class Tc extends bl{getTypeName(){return"Script"}}class Xd extends bl{getTypeName(){return"URL"}}class Hc extends bl{getTypeName(){return"ResourceURL"}}function co(n){return n instanceof bl?n.changingThisBreaksApplicationSecurity:n}function Ro(n,i){const o=function Cc(n){return n instanceof bl&&n.getTypeName()||null}(n);if(null!=o&&o!==i){if("ResourceURL"===o&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${o} (see ${Gt})`)}return o===i}function af(n){return new Kl(n)}function eh(n){return new Od(n)}function To(n){return new Tc(n)}function Ba(n){return new Xd(n)}function ql(n){return new Hc(n)}function ad(n){const i=new nl(n);return function ud(){try{return!!(new window.DOMParser).parseFromString(tl(""),"text/html")}catch{return!1}}()?new uf(i):i}class uf{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const o=(new window.DOMParser).parseFromString(tl(i),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(i):(o.removeChild(o.firstChild),o)}catch{return null}}}class nl{constructor(i){this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(i){const o=this.inertDocument.createElement("template");return o.innerHTML=tl(i),o}}const Rh=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function lc(n){return(n=String(n)).match(Rh)?n:"unsafe:"+n}function nu(n){const i={};for(const o of n.split(","))i[o]=!0;return i}function Ic(...n){const i={};for(const o of n)for(const d in o)o.hasOwnProperty(d)&&(i[d]=!0);return i}const lf=nu("area,br,col,hr,img,wbr"),th=nu("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),cc=nu("rp,rt"),y=Ic(lf,Ic(th,nu("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ic(cc,nu("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ic(cc,th)),A=nu("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ne=Ic(A,nu("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),nu("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),bt=nu("script,style,template");class _n{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let o=i.firstChild,d=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?d=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,d&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let f=this.checkClobberedElement(o,o.nextSibling);if(f){o=f;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(i){const o=i.nodeName.toLowerCase();if(!y.hasOwnProperty(o))return this.sanitizedSomething=!0,!bt.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const d=i.attributes;for(let f=0;f<d.length;f++){const v=d.item(f),C=v.name,P=C.toLowerCase();if(!Ne.hasOwnProperty(P)){this.sanitizedSomething=!0;continue}let U=v.value;A[P]&&(U=lc(U)),this.buf.push(" ",C,'="',ur(U),'"')}return this.buf.push(">"),!0}endElement(i){const o=i.nodeName.toLowerCase();y.hasOwnProperty(o)&&!lf.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(i){this.buf.push(ur(i))}checkClobberedElement(i,o){if(o&&(i.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return o}}const Gn=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,or=/([^\#-~ |!])/g;function ur(n){return n.replace(/&/g,"&amp;").replace(Gn,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(or,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ho;function rl(n,i){let o=null;try{ho=ho||ad(n);let d=i?String(i):"";o=ho.getInertBodyElement(d);let f=5,v=d;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,d=v,v=o.innerHTML,o=ho.getInertBodyElement(d)}while(d!==v);return tl((new _n).sanitizeChildren(Gc(o)||o))}finally{if(o){const d=Gc(o)||o;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function Gc(n){return"content"in n&&function Rd(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var eo=(()=>((eo=eo||{})[eo.NONE=0]="NONE",eo[eo.HTML=1]="HTML",eo[eo.STYLE=2]="STYLE",eo[eo.SCRIPT=3]="SCRIPT",eo[eo.URL=4]="URL",eo[eo.RESOURCE_URL=5]="RESOURCE_URL",eo))();function jc(n){const i=df();return i?Us(i.sanitize(eo.HTML,n)||""):Ro(n,"HTML")?Us(co(n)):rl(Oh(),Ce(n))}function Sc(n){const i=df();return i?i.sanitize(eo.URL,n)||"":Ro(n,"URL")?co(n):lc(Ce(n))}function Pd(n){const i=df();if(i)return Md(i.sanitize(eo.RESOURCE_URL,n)||"");if(Ro(n,"ResourceURL"))return Md(co(n));throw new at(904,!1)}function rh(n,i,o){return function Yf(n,i){return"src"===i&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===i&&("base"===n||"link"===n)?Pd:Sc}(i,o)(n)}function df(){const n=xt();return n&&n[bo]}const Sp=new mn("ENVIRONMENT_INITIALIZER"),Zf=new mn("INJECTOR",-1),kd=new mn("INJECTOR_DEF_TYPES");class Ap{get(i,o=si){if(o===si){const d=new Error(`NullInjectorError: No provider for ${$e(i)}!`);throw d.name="NullInjectorError",d}return o}}function dc(n){return{\u0275providers:n}}function Va(...n){return{\u0275providers:Jf(0,n),\u0275fromNgModule:!0}}function Jf(n,...i){const o=[],d=new Set;let f;return nt(i,v=>{const C=v;Fd(C,o,[],d)&&(f||(f=[]),f.push(C))}),void 0!==f&&hf(f,o),o}function hf(n,i){for(let o=0;o<n.length;o++){const{providers:f}=n[o];ff(f,v=>{i.push(v)})}}function Fd(n,i,o,d){if(!(n=xe(n)))return!1;let f=null,v=pr(n);const C=!v&&Zn(n);if(v||C){if(C&&!C.standalone)return!1;f=n}else{const U=n.ngModule;if(v=pr(U),!v)return!1;f=U}const P=d.has(f);if(C){if(P)return!1;if(d.add(f),C.dependencies){const U="function"==typeof C.dependencies?C.dependencies():C.dependencies;for(const X of U)Fd(X,i,o,d)}}else{if(!v)return!1;{if(null!=v.imports&&!P){let X;d.add(f);try{nt(v.imports,ce=>{Fd(ce,i,o,d)&&(X||(X=[]),X.push(ce))})}finally{}void 0!==X&&hf(X,i)}if(!P){const X=ki(f)||(()=>new f);i.push({provide:f,useFactory:X,deps:on},{provide:kd,useValue:f,multi:!0},{provide:Sp,useValue:()=>Rr(f),multi:!0})}const U=v.providers;null==U||P||ff(U,ce=>{i.push(ce)})}}return f!==n&&void 0!==n.providers}function ff(n,i){for(let o of n)st(o)&&(o=o.\u0275providers),Array.isArray(o)?ff(o,i):i(o)}const _g=Te({provide:String,useValue:Te});function ih(n){return null!==n&&"object"==typeof n&&_g in n}function Ld(n){return"function"==typeof n}const Qf=new mn("Set Injector scope."),hd={},h={};let w;function u(){return void 0===w&&(w=new Ap),w}class _{}class N extends _{get destroyed(){return this._destroyed}constructor(i,o,d,f){super(),this.parent=o,this.source=d,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Xn(i,C=>this.processProvider(C)),this.records.set(Zf,Dt(void 0,this)),f.has("environment")&&this.records.set(_,Dt(void 0,this));const v=this.records.get(Qf);null!=v&&"string"==typeof v.value&&this.scopes.add(v.value),this.injectorDefTypes=new Set(this.get(kd.multi,on,wn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();for(const i of this._onDestroyHooks)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(i){this._onDestroyHooks.push(i)}runInContext(i){this.assertNotDestroyed();const o=wr(this),d=Vr(void 0);try{return i()}finally{wr(o),Vr(d)}}get(i,o=si,d=wn.Default){this.assertNotDestroyed(),d=At(d);const f=wr(this),v=Vr(void 0);try{if(!(d&wn.SkipSelf)){let P=this.records.get(i);if(void 0===P){const U=function Rn(n){return"function"==typeof n||"object"==typeof n&&n instanceof mn}(i)&&pt(i);P=U&&this.injectableDefInScope(U)?Dt(j(i),hd):null,this.records.set(i,P)}if(null!=P)return this.hydrate(i,P)}return(d&wn.Self?u():this.parent).get(i,o=d&wn.Optional&&o===si?null:o)}catch(C){if("NullInjectorError"===C.name){if((C[Wn]=C[Wn]||[]).unshift($e(i)),f)throw C;return function qt(n,i,o,d){const f=n[Wn];throw i[xr]&&f.unshift(i[xr]),n.message=function Ee(n,i,o,d=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==Pi?n.slice(2):n;let f=$e(i);if(Array.isArray(i))f=i.map($e).join(" -> ");else if("object"==typeof i){let v=[];for(let C in i)if(i.hasOwnProperty(C)){let P=i[C];v.push(C+":"+("string"==typeof P?JSON.stringify(P):$e(P)))}f=`{${v.join(", ")}}`}return`${o}${d?"("+d+")":""}[${f}]: ${n.replace(Ii,"\n  ")}`}("\n"+n.message,f,o,d),n[fi]=f,n[Wn]=null,n}(C,i,"R3InjectorError",this.source)}throw C}finally{Vr(v),wr(f)}}resolveInjectorInitializers(){const i=wr(this),o=Vr(void 0);try{const d=this.get(Sp.multi,on,wn.Self);for(const f of d)f()}finally{wr(i),Vr(o)}}toString(){const i=[],o=this.records;for(const d of o.keys())i.push($e(d));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new at(205,!1)}processProvider(i){let o=Ld(i=xe(i))?i:xe(i&&i.provide);const d=function Ve(n){return ih(n)?Dt(void 0,n.useValue):Dt(Ze(n),hd)}(i);if(Ld(i)||!0!==i.multi)this.records.get(o);else{let f=this.records.get(o);f||(f=Dt(void 0,hd,!0),f.factory=()=>Le(f.multi),this.records.set(o,f)),o=i,f.multi.push(i)}this.records.set(o,d)}hydrate(i,o){return o.value===hd&&(o.value=h,o.value=o.factory()),"object"==typeof o.value&&o.value&&function Qn(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(i){if(!i.providedIn)return!1;const o=xe(i.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}}function j(n){const i=pt(n),o=null!==i?i.factory:ki(n);if(null!==o)return o;if(n instanceof mn)throw new at(204,!1);if(n instanceof Function)return function ye(n){const i=n.length;if(i>0)throw S(i,"?"),new at(204,!1);const o=function jn(n){return n&&(n[ii]||n[di])||null}(n);return null!==o?()=>o.factory(n):()=>new n}(n);throw new at(204,!1)}function Ze(n,i,o){let d;if(Ld(n)){const f=xe(n);return ki(f)||j(f)}if(ih(n))d=()=>xe(n.useValue);else if(function Np(n){return!(!n||!n.useFactory)}(n))d=()=>n.useFactory(...Le(n.deps||[]));else if(function pf(n){return!(!n||!n.useExisting)}(n))d=()=>Rr(xe(n.useExisting));else{const f=xe(n&&(n.useClass||n.provide));if(!function Bt(n){return!!n.deps}(n))return ki(f)||j(f);d=()=>new f(...Le(n.deps))}return d}function Dt(n,i,o=!1){return{factory:n,value:i,multi:o?[]:void 0}}function Xn(n,i){for(const o of n)Array.isArray(o)?Xn(o,i):o&&st(o)?Xn(o.\u0275providers,i):i(o)}class Xi{}class vr{}class fo{resolveComponentFactory(i){throw function Ti(n){const i=Error(`No component factory found for ${$e(n)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=n,i}(i)}}let ri=(()=>{class n{}return n.NULL=new fo,n})();function es(){return Hi(ls(),xt())}function Hi(n,i){return new Ns(As(n,i))}let Ns=(()=>{class n{constructor(o){this.nativeElement=o}}return n.__NG_ELEMENT_ID__=es,n})();function vo(n){return n instanceof Ns?n.nativeElement:n}class la{}let Ca=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function Ua(){const n=xt(),o=Ys(ls().index,n);return(Sr(o)?o:n)[Er]}(),n})(),Yl=(()=>{class n{}return n.\u0275prov=Ge({token:n,providedIn:"root",factory:()=>null}),n})();class xu{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const $c=new xu("15.2.9"),Ac={},du="ngOriginalError";function Zl(n){return n[du]}class hc{constructor(){this._console=console}handleError(i){const o=this._findOriginalError(i);this._console.error("ERROR",i),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(i){let o=i&&Zl(i);for(;o&&Zl(o);)o=Zl(o);return o||null}}function ku(n){return n instanceof Function?n():n}function yf(n,i,o){let d=n.length;for(;;){const f=n.indexOf(i,o);if(-1===f)return f;if(0===f||n.charCodeAt(f-1)<=32){const v=i.length;if(f+v===d||n.charCodeAt(f+v)<=32)return f}o=f+1}}const vf="ng-template";function Lh(n,i,o){let d=0,f=!0;for(;d<n.length;){let v=n[d++];if("string"==typeof v&&f){const C=n[d++];if(o&&"class"===v&&-1!==yf(C.toLowerCase(),i,0))return!0}else{if(1===v){for(;d<n.length&&"string"==typeof(v=n[d++]);)if(v.toLowerCase()===i)return!0;return!1}"number"==typeof v&&(f=!1)}}return!1}function Rp(n){return 4===n.type&&n.value!==vf}function ep(n,i,o){return i===(4!==n.type||o?n.value:vf)}function Oc(n,i,o){let d=4;const f=n.attrs||[],v=function oh(n){for(let i=0;i<n.length;i++)if(Zr(n[i]))return i;return n.length}(f);let C=!1;for(let P=0;P<i.length;P++){const U=i[P];if("number"!=typeof U){if(!C)if(4&d){if(d=2|1&d,""!==U&&!ep(n,U,o)||""===U&&1===i.length){if(El(d))return!1;C=!0}}else{const X=8&d?U:i[++P];if(8&d&&null!==n.attrs){if(!Lh(n.attrs,X,o)){if(El(d))return!1;C=!0}continue}const Ae=tp(8&d?"class":U,f,Rp(n),o);if(-1===Ae){if(El(d))return!1;C=!0;continue}if(""!==X){let it;it=Ae>v?"":f[Ae+1].toLowerCase();const kt=8&d?it:null;if(kt&&-1!==yf(kt,X,0)||2&d&&X!==it){if(El(d))return!1;C=!0}}}}else{if(!C&&!El(d)&&!El(U))return!1;if(C&&El(U))continue;C=!1,d=U|1&d}}return El(d)||C}function El(n){return 0==(1&n)}function tp(n,i,o,d){if(null===i)return-1;let f=0;if(d||!o){let v=!1;for(;f<i.length;){const C=i[f];if(C===n)return f;if(3===C||6===C)v=!0;else{if(1===C||2===C){let P=i[++f];for(;"string"==typeof P;)P=i[++f];continue}if(4===C)break;if(0===C){f+=4;continue}}f+=v?1:2}return-1}return function ah(n,i){let o=n.indexOf(4);if(o>-1)for(o++;o<n.length;){const d=n[o];if("number"==typeof d)return-1;if(d===i)return o;o++}return-1}(i,n)}function Bd(n,i,o=!1){for(let d=0;d<i.length;d++)if(Oc(n,i[d],o))return!0;return!1}function np(n,i){e:for(let o=0;o<i.length;o++){const d=i[o];if(n.length===d.length){for(let f=0;f<n.length;f++)if(n[f]!==d[f])continue e;return!0}}return!1}function ru(n,i){return n?":not("+i.trim()+")":i}function vg(n){let i=n[0],o=1,d=2,f="",v=!1;for(;o<n.length;){let C=n[o];if("string"==typeof C)if(2&d){const P=n[++o];f+="["+C+(P.length>0?'="'+P+'"':"")+"]"}else 8&d?f+="."+C:4&d&&(f+=" "+C);else""!==f&&!El(C)&&(i+=ru(v,f),f=""),d=C,v=v||!El(d);o++}return""!==f&&(i+=ru(v,f)),i}const Oi={};function fd(n){uh(Hr(),xt(),lr()+n,!1)}function uh(n,i,o,d){if(!d)if(3==(3&i[Or])){const v=n.preOrderCheckHooks;null!==v&&hr(i,v,o)}else{const v=n.preOrderHooks;null!==v&&li(i,v,0,o)}Bs(o)}function Tm(n,i=null,o=null,d){const f=Eg(n,i,o,d);return f.resolveInjectorInitializers(),f}function Eg(n,i=null,o=null,d,f=new Set){const v=[o||on,Va(n)];return d=d||("object"==typeof n?void 0:$e(n)),new N(v,i||u(),d||null,f)}let Vh=(()=>{class n{static create(o,d){if(Array.isArray(o))return Tm({name:""},d,o,"");{const f=o.name??"";return Tm({name:f},o.parent,o.providers,f)}}}return n.THROW_IF_NOT_FOUND=si,n.NULL=new Ap,n.\u0275prov=Ge({token:n,providedIn:"any",factory:()=>Rr(Zf)}),n.__NG_ELEMENT_ID__=-1,n})();function Ud(n,i=wn.Default){const o=xt();return null===o?Rr(n,i):Nt(ls(),o,xe(n),i)}function Ag(){throw new Error("invalid")}function Ng(n,i){const o=n.contentQueries;if(null!==o)for(let d=0;d<o.length;d+=2){const v=o[d+1];if(-1!==v){const C=n.data[v];kr(o[d]),C.contentQueries(2,i[v],v)}}}function Lp(n,i,o,d,f,v,C,P,U,X,ce){const Ae=i.blueprint.slice();return Ae[as]=f,Ae[Or]=76|d,(null!==ce||n&&1024&n[Or])&&(Ae[Or]|=1024),_a(Ae),Ae[wi]=Ae[ro]=n,Ae[Xr]=o,Ae[Is]=C||n&&n[Is],Ae[Er]=P||n&&n[Er],Ae[bo]=U||n&&n[bo]||null,Ae[Ks]=X||n&&n[Ks]||null,Ae[Yi]=v,Ae[ko]=function Th(){return _c++}(),Ae[Zi]=ce,Ae[zr]=2==i.type?n[zr]:Ae,Ae}function ch(n,i,o,d,f){let v=n.data[i];if(null===v)v=Gh(n,i,o,d,f),function Be(){return _r.lFrame.inI18n}()&&(v.flags|=32);else if(64&v.type){v.type=o,v.value=d,v.attrs=f;const C=va();v.injectorIndex=null===C?-1:C.injectorIndex}return Eo(v,!0),v}function Gh(n,i,o,d,f){const v=Ra(),C=ra(),U=n.data[i]=function Kc(n,i,o,d,f,v){return{type:o,index:d,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:v,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,C?v:v&&v.parent,o,i,d,f);return null===n.firstChild&&(n.firstChild=U),null!==v&&(C?null==v.child&&null!==U.parent&&(v.child=U):null===v.next&&(v.next=U,U.prev=v)),U}function dh(n,i,o,d){if(0===o)return-1;const f=i.length;for(let v=0;v<o;v++)i.push(d),n.blueprint.push(d),n.data.push(null);return f}function Og(n,i,o){ni(i);try{const d=n.viewQuery;null!==d&&lp(1,d,o);const f=n.template;null!==f&&_d(n,i,f,1,o),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Ng(n,i),n.staticViewQueries&&lp(2,n.viewQuery,o);const v=n.components;null!==v&&function Mg(n,i){for(let o=0;o<i.length;o++)Gg(n,i[o])}(i,v)}catch(d){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),d}finally{i[Or]&=-5,yr()}}function md(n,i,o,d){const f=i[Or];if(128!=(128&f)){ni(i);try{_a(i),function $(n){return _r.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==o&&_d(n,i,o,2,d);const C=3==(3&f);if(C){const X=n.preOrderCheckHooks;null!==X&&hr(i,X,null)}else{const X=n.preOrderHooks;null!==X&&li(i,X,0,null),x(i,0)}if(function Lu(n){for(let i=sc(n);null!==i;i=ua(i)){if(!i[Qe])continue;const o=i[zt];for(let d=0;d<o.length;d++){const f=o[d];512&f[Or]||ya(f[wi],1),f[Or]|=512}}}(i),function Hg(n){for(let i=sc(n);null!==i;i=ua(i))for(let o=un;o<i.length;o++){const d=i[o],f=d[En];Ko(d)&&md(f,d,f.template,d[Xr])}}(i),null!==n.contentQueries&&Ng(n,i),C){const X=n.contentCheckHooks;null!==X&&hr(i,X)}else{const X=n.contentHooks;null!==X&&li(i,X,1),x(i,1)}!function b_(n,i){const o=n.hostBindingOpCodes;if(null!==o)try{for(let d=0;d<o.length;d++){const f=o[d];if(f<0)Bs(~f);else{const v=f,C=o[++d],P=o[++d];wt(C,v),P(2,i[v])}}}finally{Bs(-1)}}(n,i);const P=n.components;null!==P&&function Im(n,i){for(let o=0;o<i.length;o++)Xl(n,i[o])}(i,P);const U=n.viewQuery;if(null!==U&&lp(2,U,d),C){const X=n.viewCheckHooks;null!==X&&hr(i,X)}else{const X=n.viewHooks;null!==X&&li(i,X,2),x(i,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),i[Or]&=-41,512&i[Or]&&(i[Or]&=-513,ya(i[wi],-1))}finally{yr()}}}function _d(n,i,o,d,f){const v=lr(),C=2&d;try{Bs(-1),C&&i.length>Si&&uh(n,i,Si,!1),Ls(C?2:0,f),o(d,f)}finally{Bs(v),Ls(C?3:1,f)}}function sl(n,i,o){if(qr(i)){const f=i.directiveEnd;for(let v=i.directiveStart;v<f;v++){const C=n.data[v];C.contentQueries&&C.contentQueries(1,o[v],v)}}}function Wc(n,i,o){Pt()&&(function Hp(n,i,o,d){const f=o.directiveStart,v=o.directiveEnd;bs(o)&&function Bg(n,i,o){const d=As(i,n),f=Rg(o),v=n[Is],C=$h(n,Lp(n,f,null,o.onPush?32:16,d,i,v,v.createRenderer(d,o),null,null,null));n[i.index]=C}(i,o,n.data[f+o.componentOffset]),n.firstCreatePass||gn(o,i),La(d,i);const C=o.initialInputs;for(let P=f;P<v;P++){const U=n.data[P],X=fl(i,n,P,o);La(X,i),null!==C&&Ug(0,P-f,X,U,0,C),mi(U)&&(Ys(o.index,i)[Xr]=fl(i,n,P,o))}}(n,i,o,As(o,i)),64==(64&o.flags)&&Gp(n,i,o))}function Bp(n,i,o=As){const d=i.localNames;if(null!==d){let f=i.index+1;for(let v=0;v<d.length;v+=2){const C=d[v+1],P=-1===C?o(i,n):n[C];n[f++]=P}}}function Rg(n){const i=n.tView;return null===i||i.incompleteFirstPass?n.tView=Vp(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):i}function Vp(n,i,o,d,f,v,C,P,U,X){const ce=Si+d,Ae=ce+f,it=function w_(n,i){const o=[];for(let d=0;d<i;d++)o.push(d<n?null:Oi);return o}(ce,Ae),kt="function"==typeof X?X():X;return it[En]={type:n,blueprint:it,template:o,queries:null,viewQuery:P,declTNode:i,data:it.slice().fill(null,ce),bindingStartIndex:ce,expandoStartIndex:Ae,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof v?v():v,pipeRegistry:"function"==typeof C?C():C,firstChild:null,schemas:U,consts:kt,incompleteFirstPass:!1}}function xg(n,i,o,d){const f=$p(i);null===o?f.push(d):(f.push(o),n.firstCreatePass&&Hd(n).push(d,f.length-1))}function zi(n,i,o,d){for(let f in n)if(n.hasOwnProperty(f)){o=null===o?{}:o;const v=n[f];null===d?Up(o,i,f,v):d.hasOwnProperty(f)&&Up(o,i,d[f],v)}return o}function Up(n,i,o,d){n.hasOwnProperty(o)?n[o].push(i,d):n[o]=[i,d]}function ol(n,i,o,d,f,v,C,P){const U=As(i,o);let ce,X=i.inputs;!P&&null!=X&&(ce=X[d])?(cp(n,o,ce,d,f),bs(i)&&function Hs(n,i){const o=Ys(i,n);16&o[Or]||(o[Or]|=32)}(o,i.index)):3&i.type&&(d=function ap(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(d),f=null!=C?C(f,i.value||"",d):f,v.setProperty(U,d,f))}function hh(n,i,o,d){if(Pt()){const f=null===d?null:{"":-1},v=function T_(n,i){const o=n.directiveRegistry;let d=null,f=null;if(o)for(let v=0;v<o.length;v++){const C=o[v];if(Bd(i,C.selectors,!1))if(d||(d=[]),mi(C))if(null!==C.findHostDirectiveDefs){const P=[];f=f||new Map,C.findHostDirectiveDefs(C,P,f),d.unshift(...P,C),Fu(n,i,P.length)}else d.unshift(C),Fu(n,i,0);else f=f||new Map,C.findHostDirectiveDefs?.(C,d,f),d.push(C)}return null===d?null:[d,f]}(n,o);let C,P;null===v?C=P=null:[C,P]=v,null!==C&&Lg(n,i,o,C,f,P),f&&function C_(n,i,o){if(i){const d=n.localNames=[];for(let f=0;f<i.length;f+=2){const v=o[i[f+1]];if(null==v)throw new at(-301,!1);d.push(i[f],v)}}}(o,d,f)}o.mergedAttrs=Ui(o.mergedAttrs,o.attrs)}function Lg(n,i,o,d,f,v){for(let X=0;X<d.length;X++)tn(gn(o,i),n,d[X].type);!function jp(n,i,o){n.flags|=1,n.directiveStart=i,n.directiveEnd=i+o,n.providerIndexes=i}(o,n.data.length,d.length);for(let X=0;X<d.length;X++){const ce=d[X];ce.providersResolver&&ce.providersResolver(ce)}let C=!1,P=!1,U=dh(n,i,d.length,null);for(let X=0;X<d.length;X++){const ce=d[X];o.mergedAttrs=Ui(o.mergedAttrs,ce.hostAttrs),up(n,o,i,U,ce),Am(U,ce,f),null!==ce.contentQueries&&(o.flags|=4),(null!==ce.hostBindings||null!==ce.hostAttrs||0!==ce.hostVars)&&(o.flags|=64);const Ae=ce.type.prototype;!C&&(Ae.ngOnChanges||Ae.ngOnInit||Ae.ngDoCheck)&&((n.preOrderHooks??(n.preOrderHooks=[])).push(o.index),C=!0),!P&&(Ae.ngOnChanges||Ae.ngDoCheck)&&((n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(o.index),P=!0),U++}!function Ql(n,i,o){const f=i.directiveEnd,v=n.data,C=i.attrs,P=[];let U=null,X=null;for(let ce=i.directiveStart;ce<f;ce++){const Ae=v[ce],it=o?o.get(Ae):null,cn=it?it.outputs:null;U=zi(Ae.inputs,ce,U,it?it.inputs:null),X=zi(Ae.outputs,ce,X,cn);const $n=null===U||null===C||Rp(i)?null:I_(U,ce,C);P.push($n)}null!==U&&(U.hasOwnProperty("class")&&(i.flags|=8),U.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=P,i.inputs=U,i.outputs=X}(n,o,v)}function Gp(n,i,o){const d=o.directiveStart,f=o.directiveEnd,v=o.index,C=function Ht(){return _r.lFrame.currentDirectiveIndex}();try{Bs(v);for(let P=d;P<f;P++){const U=n.data[P],X=i[P];Hn(P),(null!==U.hostBindings||0!==U.hostVars||null!==U.hostAttrs)&&D_(U,X)}}finally{Bs(-1),Hn(C)}}function D_(n,i){null!==n.hostBindings&&n.hostBindings(1,i)}function Fu(n,i,o){i.componentOffset=o,(n.components??(n.components=[])).push(i.index)}function Am(n,i,o){if(o){if(i.exportAs)for(let d=0;d<i.exportAs.length;d++)o[i.exportAs[d]]=n;mi(i)&&(o[""]=n)}}function up(n,i,o,d,f){n.data[d]=f;const v=f.factory||(f.factory=ki(f.type)),C=new we(v,mi(f),Ud);n.blueprint[d]=C,o[d]=C,function E_(n,i,o,d,f){const v=f.hostBindings;if(v){let C=n.hostBindingOpCodes;null===C&&(C=n.hostBindingOpCodes=[]);const P=~i.index;(function Sm(n){let i=n.length;for(;i>0;){const o=n[--i];if("number"==typeof o&&o<0)return o}return 0})(C)!=P&&C.push(P),C.push(o,d,v)}}(n,i,d,dh(n,o,f.hostVars,Oi),f)}function Vg(n,i,o,d,f,v,C){if(null==v)n.removeAttribute(i,f,o);else{const P=null==C?Ce(v):C(v,d||"",f);n.setAttribute(i,f,P,o)}}function Ug(n,i,o,d,f,v){const C=v[i];if(null!==C){const P=d.setInput;for(let U=0;U<C.length;){const X=C[U++],ce=C[U++],Ae=C[U++];null!==P?d.setInput(o,Ae,X,ce):o[ce]=Ae}}}function I_(n,i,o){let d=null,f=0;for(;f<o.length;){const v=o[f];if(0!==v)if(5!==v){if("number"==typeof v)break;if(n.hasOwnProperty(v)){null===d&&(d=[]);const C=n[v];for(let P=0;P<C.length;P+=2)if(C[P]===i){d.push(v,C[P+1],o[f+1]);break}}f+=2}else f+=2;else f+=4}return d}function Nm(n,i,o,d){return[n,!0,!1,i,null,0,d,o,null,null]}function Xl(n,i){const o=Ys(i,n);if(Ko(o)){const d=o[En];48&o[Or]?md(d,o,d.template,o[Xr]):o[$r]>0&&jh(o)}}function jh(n){for(let d=sc(n);null!==d;d=ua(d))for(let f=un;f<d.length;f++){const v=d[f];if(Ko(v))if(512&v[Or]){const C=v[En];md(C,v,C.template,v[Xr])}else v[$r]>0&&jh(v)}const o=n[En].components;if(null!==o)for(let d=0;d<o.length;d++){const f=Ys(o[d],n);Ko(f)&&f[$r]>0&&jh(f)}}function Gg(n,i){const o=Ys(i,n),d=o[En];(function Df(n,i){for(let o=i.length;o<n.blueprint.length;o++)i.push(n.blueprint[o])})(d,o),Og(d,o,o[Xr])}function $h(n,i){return n[qs]?n[no][Fs]=i:n[qs]=i,n[no]=i,i}function zh(n){for(;n;){n[Or]|=32;const i=vc(n);if(fa(n)&&!i)return n;n=i}return null}function fh(n,i,o,d=!0){const f=i[Is];f.begin&&f.begin();try{md(n,i,n.template,o)}catch(C){throw d&&jg(i,C),C}finally{f.end&&f.end()}}function lp(n,i,o){kr(0),i(n,o)}function $p(n){return n[Ts]||(n[Ts]=[])}function Hd(n){return n.cleanup||(n.cleanup=[])}function jg(n,i){const o=n[Ks],d=o?o.get(hc,null):null;d&&d.handleError(i)}function cp(n,i,o,d,f){for(let v=0;v<o.length;){const C=o[v++],P=o[v++],U=i[C],X=n.data[C];null!==X.setInput?X.setInput(U,f,d,P):U[P]=f}}function Tf(n,i,o){let d=o?n.styles:null,f=o?n.classes:null,v=0;if(null!==i)for(let C=0;C<i.length;C++){const P=i[C];"number"==typeof P?v=P:1==v?f=et(f,P):2==v&&(d=et(d,P+": "+i[++C]+";"))}o?n.styles=d:n.stylesWithoutHost=d,o?n.classes=f:n.classesWithoutHost=f}function Wp(n,i,o,d,f=!1){for(;null!==o;){const v=i[o.index];if(null!==v&&d.push(Ai(v)),Tr(v))for(let P=un;P<v.length;P++){const U=v[P],X=U[En].firstChild;null!==X&&Wp(U[En],U,X,d)}const C=o.type;if(8&C)Wp(n,i,o.child,d);else if(32&C){const P=Qu(o,i);let U;for(;U=P();)d.push(U)}else if(16&C){const P=Nh(i,o);if(Array.isArray(P))d.push(...P);else{const U=vc(i[zr]);Wp(U[En],U,P,d,!0)}}o=f?o.projectionNext:o.next}return d}class Rc{get rootNodes(){const i=this._lView,o=i[En];return Wp(o,i,o.firstChild,[])}constructor(i,o){this._lView=i,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Xr]}set context(i){this._lView[Xr]=i}get destroyed(){return 128==(128&this._lView[Or])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[wi];if(Tr(i)){const o=i[gt],d=o?o.indexOf(this):-1;d>-1&&(Zd(i,d),ia(o,d))}this._attachedToViewContainer=!1}Wf(this._lView[En],this._lView)}onDestroy(i){xg(this._lView[En],this._lView,null,i)}markForCheck(){zh(this._cdRefInjectingView||this._lView)}detach(){this._lView[Or]&=-65}reattach(){this._lView[Or]|=64}detectChanges(){fh(this._lView[En],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new at(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Ip(n,i){Ru(n,i,i[Er],2,null,null)}(this._lView[En],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new at(902,!1);this._appRef=i}}class Kp extends Rc{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;fh(i[En],i,i[Xr],!1)}checkNoChanges(){}get context(){return null}}class qp extends ri{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const o=Zn(i);return new If(o,this.ngModule)}}function $g(n){const i=[];for(let o in n)n.hasOwnProperty(o)&&i.push({propName:n[o],templateName:o});return i}class zg{constructor(i,o){this.injector=i,this.parentInjector=o}get(i,o,d){d=At(d);const f=this.injector.get(i,Ac,d);return f!==Ac||o===Ac?f:this.parentInjector.get(i,o,d)}}class If extends vr{get inputs(){return $g(this.componentDef.inputs)}get outputs(){return $g(this.componentDef.outputs)}constructor(i,o){super(),this.componentDef=i,this.ngModule=o,this.componentType=i.type,this.selector=function bf(n){return n.map(vg).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!o}create(i,o,d,f){let v=(f=f||this.ngModule)instanceof _?f:f?.injector;v&&null!==this.componentDef.getStandaloneInjector&&(v=this.componentDef.getStandaloneInjector(v)||v);const C=v?new zg(i,v):i,P=C.get(la,null);if(null===P)throw new at(407,!1);const U=C.get(Yl,null),X=P.createRenderer(null,this.componentDef),ce=this.componentDef.selectors[0][0]||"div",Ae=d?function Pg(n,i,o){return n.selectRootElement(i,o===ut.ShadowDom)}(X,d,this.componentDef.encapsulation):Hl(X,ce,function Cf(n){const i=n.toLowerCase();return"svg"===i?us:"math"===i?"math":null}(ce)),it=this.componentDef.onPush?288:272,kt=Vp(0,null,null,1,0,null,null,null,null,null),cn=Lp(null,kt,null,it,null,null,P,X,U,C,null);let $n,dr;ni(cn);try{const Mr=this.componentDef;let Ci,Mn=null;Mr.findHostDirectiveDefs?(Ci=[],Mn=new Map,Mr.findHostDirectiveDefs(Mr,Ci,Mn),Ci.push(Mr)):Ci=[Mr];const ns=function Pm(n,i){const o=n[En],d=Si;return n[d]=i,ch(o,d,2,"#host",null)}(cn,Ae),pu=function A_(n,i,o,d,f,v,C,P){const U=f[En];!function Wg(n,i,o,d){for(const f of n)i.mergedAttrs=Ui(i.mergedAttrs,f.hostAttrs);null!==i.mergedAttrs&&(Tf(i,i.mergedAttrs,!0),null!==o&&Rl(d,o,i))}(d,n,i,C);const X=v.createRenderer(i,o),ce=Lp(f,Rg(o),null,o.onPush?32:16,f[n.index],n,v,X,P||null,null,null);return U.firstCreatePass&&Fu(U,n,d.length-1),$h(f,ce),f[n.index]=ce}(ns,Ae,Mr,Ci,cn,P,X);dr=Oa(kt,Si),Ae&&function Kg(n,i,o,d){if(d)Ni(n,o,["ng-version",$c.full]);else{const{attrs:f,classes:v}=function rp(n){const i=[],o=[];let d=1,f=2;for(;d<n.length;){let v=n[d];if("string"==typeof v)2===f?""!==v&&i.push(v,n[++d]):8===f&&o.push(v);else{if(!El(f))break;f=v}d++}return{attrs:i,classes:o}}(i.selectors[0]);f&&Ni(n,o,f),v&&v.length>0&&zl(n,o,v.join(" "))}}(X,Mr,Ae,d),void 0!==o&&function M_(n,i,o){const d=n.projection=[];for(let f=0;f<i.length;f++){const v=o[f];d.push(null!=v?Array.from(v):null)}}(dr,this.ngContentSelectors,o),$n=function N_(n,i,o,d,f,v){const C=ls(),P=f[En],U=As(C,f);Lg(P,f,C,o,null,d);for(let ce=0;ce<o.length;ce++)La(fl(f,P,C.directiveStart+ce,C),f);Gp(P,f,C),U&&La(U,f);const X=fl(f,P,C.directiveStart+C.componentOffset,C);if(n[Xr]=f[Xr]=X,null!==v)for(const ce of v)ce(X,i);return sl(P,C,n),X}(pu,Mr,Ci,Mn,cn,[qg]),Og(kt,cn,null)}finally{yr()}return new Rm(this.componentType,$n,Hi(dr,cn),cn,dr)}}class Rm extends Xi{constructor(i,o,d,f,v){super(),this.location=d,this._rootLView=f,this._tNode=v,this.instance=o,this.hostView=this.changeDetectorRef=new Kp(f),this.componentType=i}setInput(i,o){const d=this._tNode.inputs;let f;if(null!==d&&(f=d[i])){const v=this._rootLView;cp(v[En],v,f,i,o),zh(Ys(this._tNode.index,v))}}get injector(){return new Pa(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function qg(){const n=ls();On(xt()[En],n)}function dp(n){let i=function xm(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),o=!0;const d=[n];for(;i;){let f;if(mi(n))f=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new at(903,!1);f=i.\u0275dir}if(f){if(o){d.push(f);const C=n;C.inputs=hp(n.inputs),C.declaredInputs=hp(n.declaredInputs),C.outputs=hp(n.outputs);const P=f.hostBindings;P&&Sf(n,P);const U=f.viewQuery,X=f.contentQueries;if(U&&Yg(n,U),X&&Zg(n,X),je(n.inputs,f.inputs),je(n.declaredInputs,f.declaredInputs),je(n.outputs,f.outputs),mi(f)&&f.data.animation){const ce=n.data;ce.animation=(ce.animation||[]).concat(f.data.animation)}}const v=f.features;if(v)for(let C=0;C<v.length;C++){const P=v[C];P&&P.ngInherit&&P(n),P===dp&&(o=!1)}}i=Object.getPrototypeOf(i)}!function km(n){let i=0,o=null;for(let d=n.length-1;d>=0;d--){const f=n[d];f.hostVars=i+=f.hostVars,f.hostAttrs=Ui(f.hostAttrs,o=Ui(o,f.hostAttrs))}}(d)}function hp(n){return n===ze?{}:n===on?[]:n}function Yg(n,i){const o=n.viewQuery;n.viewQuery=o?(d,f)=>{i(d,f),o(d,f)}:i}function Zg(n,i){const o=n.contentQueries;n.contentQueries=o?(d,f,v)=>{i(d,f,v),o(d,f,v)}:i}function Sf(n,i){const o=n.hostBindings;n.hostBindings=o?(d,f)=>{i(d,f),o(d,f)}:i}function Wh(n){return i=>{i.findHostDirectiveDefs=Qg,i.hostDirectives=(Array.isArray(n)?n:n()).map(o=>"function"==typeof o?{directive:xe(o),inputs:ze,outputs:ze}:{directive:xe(o.directive),inputs:Kh(o.inputs),outputs:Kh(o.outputs)})}}function Qg(n,i,o){if(null!==n.hostDirectives)for(const d of n.hostDirectives){const f=ai(d.directive);O_(f.declaredInputs,d.inputs),Qg(f,i,o),o.set(f,d),i.push(f)}}function Kh(n){if(void 0===n||0===n.length)return ze;const i={};for(let o=0;o<n.length;o+=2)i[n[o]]=n[o+1];return i}function O_(n,i){for(const o in i)i.hasOwnProperty(o)&&(n[i[o]]=n[o])}function gh(n){return!!Xg(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function Xg(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Pc(n,i,o){return n[i]=o}function al(n,i,o){return!Object.is(n[i],o)&&(n[i]=o,!0)}function Yh(n,i,o,d){const f=al(n,i,o);return al(n,i+1,d)||f}function Nf(n,i,o,d){const f=xt();return al(f,ne(),i)&&(Hr(),function pc(n,i,o,d,f,v){const C=As(n,i);Vg(i[Er],C,v,n.value,o,d,f)}(Vi(),f,n,i,o,d)),Nf}function Mf(n,i,o,d){return al(n,ne(),o)?i+Ce(o)+d:Oi}function eg(n,i,o,d,f,v,C,P){const U=xt(),X=Hr(),ce=n+Si,Ae=X.firstCreatePass?function R_(n,i,o,d,f,v,C,P,U){const X=i.consts,ce=ch(i,n,4,C||null,Os(X,P));hh(i,o,ce,Os(X,U)),On(i,ce);const Ae=ce.tView=Vp(2,ce,d,f,v,i.directiveRegistry,i.pipeRegistry,null,i.schemas,X);return null!==i.queries&&(i.queries.template(i,ce),Ae.queries=i.queries.embeddedTView(ce)),ce}(ce,X,U,i,o,d,f,v,C):X.data[ce];Eo(Ae,!1);const it=U[Er].createComment("");Ol(X,U,it,Ae),La(it,U),$h(U,U[ce]=Nm(it,U,it,Ae)),Fo(Ae)&&Wc(X,U,Ae),null!=C&&Bp(U,Ae,P)}function tg(n){return mo(function hl(){return _r.lFrame.contextLView}(),Si+n)}function gp(n,i,o){const d=xt();return al(d,ne(),i)&&ol(Hr(),Vi(),d,n,i,d[Er],o,!1),gp}function mp(n,i,o,d,f){const C=f?"class":"style";cp(n,o,i.inputs[C],C,d)}function _p(n,i,o,d){const f=xt(),v=Hr(),C=Si+n,P=f[Er],U=v.firstCreatePass?function kf(n,i,o,d,f,v){const C=i.consts,U=ch(i,n,2,d,Os(C,f));return hh(i,o,U,Os(C,v)),null!==U.attrs&&Tf(U,U.attrs,!1),null!==U.mergedAttrs&&Tf(U,U.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,U),U}(C,v,f,i,o,d):v.data[C],X=f[C]=Hl(P,i,function Fi(){return _r.lFrame.currentNamespace}()),ce=Fo(U);return Eo(U,!0),Rl(P,X,U),32!=(32&U.flags)&&Ol(v,f,X,U),0===function z(){return _r.lFrame.elementDepthCount}()&&La(X,f),function L(){_r.lFrame.elementDepthCount++}(),ce&&(Wc(v,f,U),sl(v,U,f)),null!==d&&Bp(f,U),_p}function Ff(){let n=ls();ra()?dl():(n=n.parent,Eo(n,!1));const i=n;!function le(){_r.lFrame.elementDepthCount--}();const o=Hr();return o.firstCreatePass&&(On(o,n),qr(n)&&o.queries.elementEnd(n)),null!=i.classesWithoutHost&&function Br(n){return 0!=(8&n.flags)}(i)&&mp(o,i,xt(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function Fr(n){return 0!=(16&n.flags)}(i)&&mp(o,i,xt(),i.stylesWithoutHost,!1),Ff}function im(n,i,o,d){return _p(n,i,o,d),Ff(),im}function xc(n,i,o){const d=xt(),f=Hr(),v=n+Si,C=f.firstCreatePass?function sm(n,i,o,d,f){const v=i.consts,C=Os(v,d),P=ch(i,n,8,"ng-container",C);return null!==C&&Tf(P,C,!0),hh(i,o,P,Os(v,f)),null!==i.queries&&i.queries.elementStart(i,P),P}(v,f,d,i,o):f.data[v];Eo(C,!0);const P=d[v]=d[Er].createComment("");return Ol(f,d,P,C),La(P,d),Fo(C)&&(Wc(f,d,C),sl(f,C,d)),null!=o&&Bp(d,C),xc}function Lf(){let n=ls();const i=Hr();return ra()?dl():(n=n.parent,Eo(n,!1)),i.firstCreatePass&&(On(i,n),qr(n)&&i.queries.elementEnd(n)),Lf}function ng(){return xt()}function om(n){return!!n&&"function"==typeof n.then}function Hm(n){return!!n&&"function"==typeof n.subscribe}const rg=Hm;function am(n,i,o,d){const f=xt(),v=Hr(),C=ls();return function T(n,i,o,d,f,v,C){const P=Fo(d),X=n.firstCreatePass&&Hd(n),ce=i[Xr],Ae=$p(i);let it=!0;if(3&d.type||C){const $n=As(d,i),dr=C?C($n):$n,Mr=Ae.length,Ci=C?ns=>C(Ai(ns[d.index])):d.index;let Mn=null;if(!C&&P&&(Mn=function g(n,i,o,d){const f=n.cleanup;if(null!=f)for(let v=0;v<f.length-1;v+=2){const C=f[v];if(C===o&&f[v+1]===d){const P=i[Ts],U=f[v+2];return P.length>U?P[U]:null}"string"==typeof C&&(v+=2)}return null}(n,i,f,d.index)),null!==Mn)(Mn.__ngLastListenerFn__||Mn).__ngNextListenerFn__=v,Mn.__ngLastListenerFn__=v,it=!1;else{v=ie(d,i,ce,v,!1);const ns=o.listen(dr,f,v);Ae.push(v,ns),X&&X.push(f,Ci,Mr,Mr+1)}}else v=ie(d,i,ce,v,!1);const kt=d.outputs;let cn;if(it&&null!==kt&&(cn=kt[f])){const $n=cn.length;if($n)for(let dr=0;dr<$n;dr+=2){const pu=i[cn[dr]][cn[dr+1]].subscribe(v),cl=Ae.length;Ae.push(v,pu),X&&X.push(f,d.index,cl,-(cl+1))}}}(v,f,f[Er],C,n,i,d),am}function G(n,i,o,d){try{return Ls(6,i,o),!1!==o(d)}catch(f){return jg(n,f),!1}finally{Ls(7,i,o)}}function ie(n,i,o,d,f){return function v(C){if(C===Function)return d;zh(n.componentOffset>-1?Ys(n.index,i):i);let U=G(i,o,d,C),X=v.__ngNextListenerFn__;for(;X;)U=G(i,o,X,C)&&U,X=X.__ngNextListenerFn__;return f&&!1===U&&(C.preventDefault(),C.returnValue=!1),U}}function _e(n=1){return function Yr(n){return(_r.lFrame.contextLView=function ui(n,i){for(;n>0;)i=i[ro],n--;return i}(n,_r.lFrame.contextLView))[Xr]}(n)}function Fe(n,i){let o=null;const d=function sh(n){const i=n.attrs;if(null!=i){const o=i.indexOf(5);if(!(1&o))return i[o+1]}return null}(n);for(let f=0;f<i.length;f++){const v=i[f];if("*"!==v){if(null===d?Bd(n,v,!0):np(d,v))return f}else o=f}return o}function Xe(n){const i=xt()[zr][Yi];if(!i.projection){const d=i.projection=S(n?n.length:1,null),f=d.slice();let v=i.child;for(;null!==v;){const C=n?Fe(v,n):0;null!==C&&(f[C]?f[C].projectionNext=v:d[C]=v,f[C]=v),v=v.next}}}function vt(n,i=0,o){const d=xt(),f=Hr(),v=ch(f,Si+n,16,null,o||null);null===v.projection&&(v.projection=i),dl(),32!=(32&v.flags)&&function Mh(n,i,o){Du(i[Er],0,i,o,Lc(n,o,i),wc(o.parent||i[Yi],o,i))}(f,d,v)}function fn(n,i,o){return dn(n,"",i,"",o),fn}function dn(n,i,o,d,f){const v=xt(),C=Mf(v,i,o,d);return C!==Oi&&ol(Hr(),Vi(),v,n,C,v[Er],f,!1),dn}function ul(n,i){return n<<17|i<<2}function Po(n){return n>>17&32767}function gc(n){return 2|n}function Pl(n){return(131068&n)>>2}function ig(n,i){return-131069&n|i<<2}function sg(n){return 1|n}function Gm(n,i,o,d,f){const v=n[o+1],C=null===i;let P=d?Po(v):Pl(v),U=!1;for(;0!==P&&(!1===U||C);){const ce=n[P+1];k_(n[P],i)&&(U=!0,n[P+1]=d?sg(ce):gc(ce)),P=d?Po(ce):Pl(ce)}U&&(n[o+1]=d?gc(v):sg(v))}function k_(n,i){return null===n||null==i||(Array.isArray(n)?n[1]:n)===i||!(!Array.isArray(n)||"string"!=typeof i)&&rt(n,i)>=0}const hu={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function jm(n){return n.substring(hu.key,hu.keyEnd)}function F_(n,i){const o=hu.textEnd;return o===i?-1:(i=hu.keyEnd=function Nv(n,i,o){for(;i<o&&n.charCodeAt(i)>32;)i++;return i}(n,hu.key=i,o),Bf(n,i,o))}function Bf(n,i,o){for(;i<o&&n.charCodeAt(i)<=32;)i++;return i}function V_(n,i,o){return qc(n,i,o,!1),V_}function U_(n,i){return qc(n,i,null,!0),U_}function H_(n){vd(bh,jd,n,!0)}function jd(n,i){for(let o=function $m(n){return function yp(n){hu.key=0,hu.keyEnd=0,hu.value=0,hu.valueEnd=0,hu.textEnd=n.length}(n),F_(n,Bf(n,0,hu.textEnd))}(i);o>=0;o=F_(i,o))ae(n,jm(i),!0)}function qc(n,i,o,d){const f=xt(),v=Hr(),C=me(2);v.firstUpdatePass&&j_(v,n,C,d),i!==Oi&&al(f,C,i)&&Oy(v,v.data[lr()],f,f[Er],n,f[C+1]=function $_(n,i){return null==n||""===n||("string"==typeof i?n+=i:"object"==typeof n&&(n=$e(co(n)))),n}(i,o),d,C)}function vd(n,i,o,d){const f=Hr(),v=me(2);f.firstUpdatePass&&j_(f,null,v,d);const C=xt();if(o!==Oi&&al(C,v,o)){const P=f.data[lr()];if(Ry(P,d)&&!G_(f,v)){let U=d?P.classesWithoutHost:P.stylesWithoutHost;null!==U&&(o=et(U,o||"")),mp(f,P,C,o,d)}else!function My(n,i,o,d,f,v,C,P){f===Oi&&(f=on);let U=0,X=0,ce=0<f.length?f[0]:null,Ae=0<v.length?v[0]:null;for(;null!==ce||null!==Ae;){const it=U<f.length?f[U+1]:void 0,kt=X<v.length?v[X+1]:void 0;let $n,cn=null;ce===Ae?(U+=2,X+=2,it!==kt&&(cn=Ae,$n=kt)):null===Ae||null!==ce&&ce<Ae?(U+=2,cn=ce):(X+=2,cn=Ae,$n=kt),null!==cn&&Oy(n,i,o,d,cn,$n,C,P),ce=U<f.length?f[U]:null,Ae=X<v.length?v[X]:null}}(f,P,C,C[Er],C[v+1],C[v+1]=function Sa(n,i,o){if(null==o||""===o)return on;const d=[],f=co(o);if(Array.isArray(f))for(let v=0;v<f.length;v++)n(d,f[v],!0);else if("object"==typeof f)for(const v in f)f.hasOwnProperty(v)&&n(d,v,f[v]);else"string"==typeof f&&i(d,f);return d}(n,i,o),d,v)}}function G_(n,i){return i>=n.expandoStartIndex}function j_(n,i,o,d){const f=n.data;if(null===f[o+1]){const v=f[lr()],C=G_(n,o);Ry(v,d)&&null===i&&!C&&(i=!1),i=function zm(n,i,o,d){const f=qn(n);let v=d?i.residualClasses:i.residualStyles;if(null===f)0===(d?i.classBindings:i.styleBindings)&&(o=og(o=vp(null,n,i,o,d),i.attrs,d),v=null);else{const C=i.directiveStylingLast;if(-1===C||n[C]!==f)if(o=vp(f,n,i,o,d),null===v){let U=function ks(n,i,o){const d=o?i.classBindings:i.styleBindings;if(0!==Pl(d))return n[Po(d)]}(n,i,d);void 0!==U&&Array.isArray(U)&&(U=vp(null,n,i,U[1],d),U=og(U,i.attrs,d),function Ay(n,i,o,d){n[Po(o?i.classBindings:i.styleBindings)]=d}(n,i,d,U))}else v=function Ny(n,i,o){let d;const f=i.directiveEnd;for(let v=1+i.directiveStylingLast;v<f;v++)d=og(d,n[v].hostAttrs,o);return og(d,i.attrs,o)}(n,i,d)}return void 0!==v&&(d?i.residualClasses=v:i.residualStyles=v),o}(f,v,i,d),function x_(n,i,o,d,f,v){let C=v?i.classBindings:i.styleBindings,P=Po(C),U=Pl(C);n[d]=o;let ce,X=!1;if(Array.isArray(o)?(ce=o[1],(null===ce||rt(o,ce)>0)&&(X=!0)):ce=o,f)if(0!==U){const it=Po(n[P+1]);n[d+1]=ul(it,P),0!==it&&(n[it+1]=ig(n[it+1],d)),n[P+1]=function ca(n,i){return 131071&n|i<<17}(n[P+1],d)}else n[d+1]=ul(P,0),0!==P&&(n[P+1]=ig(n[P+1],d)),P=d;else n[d+1]=ul(U,0),0===P?P=d:n[U+1]=ig(n[U+1],d),U=d;X&&(n[d+1]=gc(n[d+1])),Gm(n,ce,d,!0),Gm(n,ce,d,!1),function Dy(n,i,o,d,f){const v=f?n.residualClasses:n.residualStyles;null!=v&&"string"==typeof i&&rt(v,i)>=0&&(o[d+1]=sg(o[d+1]))}(i,ce,n,d,v),C=ul(P,U),v?i.classBindings=C:i.styleBindings=C}(f,v,i,o,C,d)}}function vp(n,i,o,d,f){let v=null;const C=o.directiveEnd;let P=o.directiveStylingLast;for(-1===P?P=o.directiveStart:P++;P<C&&(v=i[P],d=og(d,v.hostAttrs,f),v!==n);)P++;return null!==n&&(o.directiveStylingLast=P),d}function og(n,i,o){const d=o?1:2;let f=-1;if(null!==i)for(let v=0;v<i.length;v++){const C=i[v];"number"==typeof C?f=C:f===d&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),ae(n,C,!!o||i[++v]))}return void 0===n?null:n}function bh(n,i,o){const d=String(i);""!==d&&!d.includes(" ")&&ae(n,d,o)}function Oy(n,i,o,d,f,v,C,P){if(!(3&i.type))return;const U=n.data,X=U[P+1],ce=function Av(n){return 1==(1&n)}(X)?um(U,i,o,f,Pl(X),C):void 0;lm(ce)||(lm(v)||function ec(n){return 2==(2&n)}(X)&&(v=um(U,null,o,f,P,C)),function Tu(n,i,o,d,f){if(i)f?n.addClass(o,d):n.removeClass(o,d);else{let v=-1===d.indexOf("-")?void 0:Mo.DashCase;null==f?n.removeStyle(o,d,v):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),v|=Mo.Important),n.setStyle(o,d,f,v))}}(d,C,is(lr(),o),f,v))}function um(n,i,o,d,f,v){const C=null===i;let P;for(;f>0;){const U=n[f],X=Array.isArray(U),ce=X?U[1]:U,Ae=null===ce;let it=o[f+1];it===Oi&&(it=Ae?on:void 0);let kt=Ae?pe(it,d):ce===d?it:void 0;if(X&&!lm(kt)&&(kt=pe(U,d)),lm(kt)&&(P=kt,C))return P;const cn=n[f+1];f=C?Po(cn):Pl(cn)}if(null!==i){let U=v?i.residualClasses:i.residualStyles;null!=U&&(P=pe(U,d))}return P}function lm(n){return void 0!==n}function Ry(n,i){return 0!=(n.flags&(i?8:16))}function Wm(n,i=""){const o=xt(),d=Hr(),f=n+Si,v=d.firstCreatePass?ch(d,f,1,i,null):d.data[f],C=o[f]=Ul(o[Er],i);Ol(d,o,C,v),Eo(v,!1)}function z_(n){return Km("",n,""),z_}function Km(n,i,o){const d=xt(),f=Mf(d,n,i,o);return f!==Oi&&function Gd(n,i,o){const d=is(i,n);Yd(n[Er],d,o)}(d,lr(),f),Km}function ky(n,i,o){vd(ae,jd,Mf(xt(),n,i,o),!0)}function Fy(n,i,o,d,f){vd(ae,jd,function Of(n,i,o,d,f,v){const P=Yh(n,M(),o,f);return me(2),P?i+Ce(o)+d+Ce(f)+v:Oi}(xt(),n,i,o,d,f),!0)}function Z_(n,i,o){const d=xt();return al(d,ne(),i)&&ol(Hr(),Vi(),d,n,i,d[Er],o,!0),Z_}function J_(n,i,o){const d=xt();if(al(d,ne(),i)){const v=Hr(),C=Vi();ol(v,C,d,n,i,function zp(n,i,o){return(null===n||mi(n))&&(o=function Ei(n){for(;Array.isArray(n);){if("object"==typeof n[po])return n;n=n[as]}return null}(o[i.index])),o[Er]}(qn(v.data),C,d),o,!0)}return J_}const Qh=void 0;var Hy=["en",[["a","p"],["AM","PM"],Qh],[["AM","PM"],Qh,Qh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Qh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Qh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Qh,"{1} 'at' {0}",Qh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Q_(n){const o=Math.floor(Math.abs(n)),d=n.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===d?1:5}];let bd={};function Gy(n,i,o){"string"!=typeof i&&(o=i,i=n[Qr.LocaleId]),i=i.toLowerCase().replace(/_/g,"-"),bd[i]=n,o&&(bd[i][Qr.ExtraData]=o)}function Zm(n){const i=function zy(n){return n.toLowerCase().replace(/_/g,"-")}(n);let o=$y(i);if(o)return o;const d=i.split("-")[0];if(o=$y(d),o)return o;if("en"===d)return Hy;throw new at(701,!1)}function ug(n){return Zm(n)[Qr.PluralCase]}function $y(n){return n in bd||(bd[n]=fr.ng&&fr.ng.common&&fr.ng.common.locales&&fr.ng.common.locales[n]),bd[n]}var Qr=(()=>((Qr=Qr||{})[Qr.LocaleId=0]="LocaleId",Qr[Qr.DayPeriodsFormat=1]="DayPeriodsFormat",Qr[Qr.DayPeriodsStandalone=2]="DayPeriodsStandalone",Qr[Qr.DaysFormat=3]="DaysFormat",Qr[Qr.DaysStandalone=4]="DaysStandalone",Qr[Qr.MonthsFormat=5]="MonthsFormat",Qr[Qr.MonthsStandalone=6]="MonthsStandalone",Qr[Qr.Eras=7]="Eras",Qr[Qr.FirstDayOfWeek=8]="FirstDayOfWeek",Qr[Qr.WeekendRange=9]="WeekendRange",Qr[Qr.DateFormat=10]="DateFormat",Qr[Qr.TimeFormat=11]="TimeFormat",Qr[Qr.DateTimeFormat=12]="DateTimeFormat",Qr[Qr.NumberSymbols=13]="NumberSymbols",Qr[Qr.NumberFormats=14]="NumberFormats",Qr[Qr.CurrencyCode=15]="CurrencyCode",Qr[Qr.CurrencySymbol=16]="CurrencySymbol",Qr[Qr.CurrencyName=17]="CurrencyName",Qr[Qr.Currencies=18]="Currencies",Qr[Qr.Directionality=19]="Directionality",Qr[Qr.PluralCase=20]="PluralCase",Qr[Qr.ExtraData=21]="ExtraData",Qr))();const fm=["zero","one","two","few","many"],Xh="en-US",lg={marker:"element"},Uf={marker:"ICU"};var xo=(()=>((xo=xo||{})[xo.SHIFT=2]="SHIFT",xo[xo.APPEND_EAGERLY=1]="APPEND_EAGERLY",xo[xo.COMMENT=2]="COMMENT",xo))();let Ky=Xh;function wp(n){(function Lt(n,i){null==n&&$t(i,n,null,"!=")})(n,"Expected localeId to be defined"),"string"==typeof n&&(Ky=n.toLowerCase().replace(/_/g,"-"))}function jv(n,i,o){const d=i.insertBeforeIndex,f=Array.isArray(d)?d[0]:d;return null===f?yl(n,0,o):Ai(o[f])}function Qm(n,i,o,d,f){const v=i.insertBeforeIndex;if(Array.isArray(v)){let C=d,P=null;if(3&i.type||(P=C,C=f),null!==C&&-1===i.componentOffset)for(let U=1;U<v.length;U++)bc(n,C,o[v[U]],P,!1)}}function qy(n,i){if(n.push(i),n.length>1)for(let o=n.length-2;o>=0;o--){const d=n[o];pm(d)||$v(d,i)&&null===zv(d)&&Xm(d,i.index)}}function pm(n){return!(64&n.type)}function $v(n,i){return pm(i)||n.index>i.index}function zv(n){const i=n.insertBeforeIndex;return Array.isArray(i)?i[0]:i}function Xm(n,i){const o=n.insertBeforeIndex;Array.isArray(o)?o[0]=i:(Ad(jv,Qm),n.insertBeforeIndex=i)}function gm(n,i){const o=n.data[i];return null===o||"string"==typeof o?null:o.hasOwnProperty("currentCaseLViewIndex")?o:o.value}function Kv(n,i,o){const d=Gh(n,o,64,null,null);return qy(i,d),d}function t_(n,i){const o=i[n.currentCaseLViewIndex];return null===o?o:o<0?~o:o}function ey(n){return n>>>17}function ty(n){return(131070&n)>>>1}let cg=0,dg=0;function Yv(n,i,o,d){const f=o[Er];let C,v=null;for(let P=0;P<i.length;P++){const U=i[P];if("string"==typeof U){const X=i[++P];null===o[X]&&(o[X]=Ul(f,U))}else if("number"==typeof U)switch(1&U){case 0:const X=ey(U);let ce,Ae;if(null===v&&(v=X,C=Sd(f,d)),X===v?(ce=d,Ae=C):(ce=null,Ae=Ai(o[X])),null!==Ae){const $n=ty(U);bc(f,Ae,o[$n],ce,!1);const Mr=gm(n,$n);if(null!==Mr&&"object"==typeof Mr){const Ci=t_(Mr,o);null!==Ci&&Yv(n,Mr.create[Ci],o,o[Mr.anchorIdx])}}break;case 1:const kt=i[++P],cn=i[++P];Vg(f,is(U>>>1,o),null,null,kt,cn,null)}else switch(U){case Uf:const X=i[++P],ce=i[++P];null===o[ce]&&La(o[ce]=Cd(f,X),o);break;case lg:const Ae=i[++P],it=i[++P];null===o[it]&&La(o[it]=Hl(f,Ae,null),o)}}}function Zv(n,i,o,d,f){for(let v=0;v<o.length;v++){const C=o[v],P=o[++v];if(C&f){let U="";for(let X=v+1;X<=v+P;X++){const ce=o[X];if("string"==typeof ce)U+=ce;else if("number"==typeof ce)if(ce<0)U+=Ce(i[d-ce]);else{const Ae=ce>>>2;switch(3&ce){case 1:const it=o[++X],kt=o[++X],cn=n.data[Ae];"string"==typeof cn?Vg(i[Er],i[Ae],null,cn,it,U,kt):ol(n,cn,i,it,U,i[Er],kt,!1);break;case 0:const $n=i[Ae];null!==$n&&Yd(i[Er],$n,U);break;case 2:X0(n,gm(n,Ae),i,U);break;case 3:Zy(n,gm(n,Ae),d,i)}}}}else{const U=o[v+1];if(U>0&&3==(3&U)){const ce=gm(n,U>>>2);i[ce.currentCaseLViewIndex]<0&&Zy(n,ce,d,i)}}v+=P}}function Zy(n,i,o,d){let f=d[i.currentCaseLViewIndex];if(null!==f){let v=cg;f<0&&(f=d[i.currentCaseLViewIndex]=~f,v=-1),Zv(n,d,i.update[f],o,v)}}function X0(n,i,o,d){const f=function Ep(n,i){let o=n.cases.indexOf(i);if(-1===o)switch(n.type){case 1:{const d=function Gv(n,i){const o=ug(i)(parseInt(n,10)),d=fm[o];return void 0!==d?d:"other"}(i,function Q0(){return Ky}());o=n.cases.indexOf(d),-1===o&&"other"!==d&&(o=n.cases.indexOf("other"));break}case 0:o=n.cases.indexOf("other")}return-1===o?null:o}(i,d);if(t_(i,o)!==f&&(Jv(n,i,o),o[i.currentCaseLViewIndex]=null===f?null:~f,null!==f)){const C=o[i.anchorIdx];C&&Yv(n,i.create[f],o,C)}}function Jv(n,i,o){let d=t_(i,o);if(null!==d){const f=i.remove[d];for(let v=0;v<f.length;v++){const C=f[v];if(C>0){const P=is(C,o);null!==P&&Ec(o[Er],P)}else Jv(n,gm(n,~C),o)}}}function ef(){const n=[];let o,d,i=-1;function v(P,U){i=0;const X=t_(P,U);d=null!==X?P.remove[X]:on}function C(){if(i<d.length){const P=d[i++];return P>0?o[P]:(n.push(i,d),v(o[En].data[~P],o),C())}return 0===n.length?null:(d=n.pop(),i=n.pop(),C())}return function f(P,U){for(o=U;n.length;)n.pop();return v(P.value,U),C}}const $d=/\ufffd(\d+):?\d*\ufffd/gi,e0=/\ufffd(\d+)\ufffd/,Qy=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,mm="\ufffd",t0=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Xy=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,ev=/\uE500/g;function nv(n,i,o,d,f,v,C){const P=dh(n,d,1,null);let U=P<<xo.SHIFT,X=va();i===X&&(X=null),null===X&&(U|=xo.APPEND_EAGERLY),C&&(U|=xo.COMMENT,function Td(n){void 0===Vl&&(Vl=n())}(ef)),f.push(U,null===v?"":v);const ce=Gh(n,P,C?32:1,null===v?"":v,null);qy(o,ce);const Ae=ce.index;return Eo(ce,!1),null!==X&&i!==X&&function e_(n,i){let o=n.insertBeforeIndex;null===o?(Ad(jv,Qm),o=n.insertBeforeIndex=[null,i]):(function en(n,i,o){n!=i&&$t(o,n,i,"==")}(Array.isArray(o),!0,"Expecting array here"),o.push(i))}(X,Ae),ce}function hg(n,i,o,d,f,v,C){const P=C.match($d),U=nv(n,i,o,v,d,P?null:C,!1);P&&i_(f,C,U.index,null,0,null)}function i_(n,i,o,d,f,v){const C=n.length,P=C+1;n.push(null,null);const U=C+2,X=i.split($d);let ce=0;for(let Ae=0;Ae<X.length;Ae++){const it=X[Ae];if(1&Ae){const kt=f+parseInt(it,10);n.push(-1-kt),ce|=rv(kt)}else""!==it&&n.push(it)}return n.push(o<<2|(d?1:0)),d&&n.push(d,v),n[C]=ce,n[P]=n.length-U,ce}function rv(n){return 1<<Math.min(n,31)}function iv(n){let i,v,o="",d=0,f=!1;for(;null!==(i=t0.exec(n));)f?i[0]===`${mm}/*${v}${mm}`&&(d=i.index,f=!1):(o+=n.substring(d,i.index+i[0].length),v=i[1],f=!0);return o+=n.slice(d),o}function a0(n,i,o,d,f,v){let C=0;const P={type:f.type,currentCaseLViewIndex:dh(n,i,1,null),anchorIdx:v,cases:[],create:[],remove:[],update:[]};(function ib(n,i,o){n.push(rv(i.mainBinding),2,-1-i.mainBinding,o<<2|2)})(o,f,v),function Wv(n,i,o){const d=n.data[i];null===d?n.data[i]=o:d.value=o}(n,v,P);const U=f.values;for(let X=0;X<U.length;X++){const ce=U[X],Ae=[];for(let it=0;it<ce.length;it++){const kt=ce[it];if("string"!=typeof kt){const cn=Ae.push(kt)-1;ce[it]=`\x3c!--\ufffd${cn}\ufffd--\x3e`}}C=rb(n,P,i,o,d,f.cases[X],ce.join(""),Ae)|C}C&&function l0(n,i,o){n.push(i,1,o<<2|3)}(o,C,v)}function nb(n){const i=[],o=[];let d=1,f=0;const v=sv(n=n.replace(Qy,function(C,P,U){return d="select"===U?0:1,f=parseInt(P.slice(1),10),""}));for(let C=0;C<v.length;){let P=v[C++].trim();1===d&&(P=P.replace(/\s*(?:=)?(\w+)\s*/,"$1")),P.length&&i.push(P);const U=sv(v[C++]);i.length>o.length&&o.push(U)}return{type:d,mainBinding:f,cases:i,values:o}}function sv(n){if(!n)return[];let i=0;const o=[],d=[],f=/[{}]/g;let v;for(f.lastIndex=0;v=f.exec(n);){const P=v.index;if("}"==v[0]){if(o.pop(),0==o.length){const U=n.substring(i,P);Qy.test(U)?d.push(nb(U)):d.push(U),i=P+1}}else{if(0==o.length){const U=n.substring(i,P);d.push(U),i=P+1}o.push("{")}}const C=n.substring(i);return d.push(C),d}function rb(n,i,o,d,f,v,C,P){const U=[],X=[],ce=[];i.cases.push(v),i.create.push(U),i.remove.push(X),i.update.push(ce);const it=ad(Oh()).getInertBodyElement(C),kt=Gc(it)||it;return kt?ov(n,i,o,d,U,X,ce,kt,f,P,0):0}function ov(n,i,o,d,f,v,C,P,U,X,ce){let Ae=0,it=P.firstChild;for(;it;){const kt=dh(n,o,1,null);switch(it.nodeType){case Node.ELEMENT_NODE:const cn=it,$n=cn.tagName.toLowerCase();if(y.hasOwnProperty($n)){s_(f,lg,$n,U,kt),n.data[kt]=$n;const Mn=cn.attributes;for(let ns=0;ns<Mn.length;ns++){const pu=Mn.item(ns),cl=pu.name.toLowerCase();pu.value.match($d)?Ne.hasOwnProperty(cl)&&i_(C,pu.value,kt,pu.name,0,A[cl]?lc:null):Hf(f,kt,pu)}Ae=ov(n,i,o,d,f,v,C,it,kt,X,ce+1)|Ae,av(v,kt,ce)}break;case Node.TEXT_NODE:const dr=it.textContent||"",Mr=dr.match($d);s_(f,null,Mr?"":dr,U,kt),av(v,kt,ce),Mr&&(Ae=i_(C,dr,kt,null,0,null)|Ae);break;case Node.COMMENT_NODE:const Ci=e0.exec(it.textContent||"");if(Ci){const ns=X[parseInt(Ci[1],10)];s_(f,Uf,"",U,kt),a0(n,o,d,U,ns,kt),u0(v,kt,ce)}}it=it.nextSibling}return Ae}function av(n,i,o){0===o&&n.push(i)}function u0(n,i,o){0===o&&(n.push(~i),n.push(i))}function s_(n,i,o,d,f){null!==i&&n.push(i),n.push(o,f,function Yy(n,i,o){return n|i<<17|o<<1}(0,d,f))}function Hf(n,i,o){n.push(i<<1|1,o.name,o.value)}function sy(n,i,o=-1){const d=Hr(),f=xt(),v=Si+n,C=Os(d.consts,i),P=va();d.firstCreatePass&&function tv(n,i,o,d,f,v){const C=va(),P=[],U=[],X=[[]];f=function o0(n,i){if(function s0(n){return-1===n}(i))return iv(n);{const o=n.indexOf(`:${i}${mm}`)+2+i.toString().length,d=n.search(new RegExp(`${mm}\\/\\*\\d+:${i}${mm}`));return iv(n.substring(o,d))}}(f,v);const ce=function n0(n){return n.replace(ev," ")}(f).split(Xy);for(let Ae=0;Ae<ce.length;Ae++){let it=ce[Ae];if(1&Ae){const kt=47===it.charCodeAt(0),$n=(it.charCodeAt(kt?1:0),Si+Number.parseInt(it.substring(kt?2:1)));if(kt)X.shift(),Eo(va(),!1);else{const dr=Kv(n,X[0],$n);X.unshift([]),Eo(dr,!0)}}else{const kt=sv(it);for(let cn=0;cn<kt.length;cn++){let $n=kt[cn];if(1&cn){const dr=$n;if("object"!=typeof dr)throw new Error(`Unable to parse ICU expression in "${f}" message.`);a0(n,o,U,i,dr,nv(n,C,X[0],o,P,"",!0).index)}else""!==$n&&hg(n,C,X[0],P,U,o,$n)}}}n.data[d]={create:P,update:U}}(d,null===P?0:P.index,f,v,C,o);const U=d.data[v],ce=Jd(d,P===f[Yi]?null:P,f);(function qv(n,i,o,d){const f=n[Er];for(let v=0;v<i.length;v++){const C=i[v++],P=i[v],X=(C&xo.APPEND_EAGERLY)===xo.APPEND_EAGERLY,ce=C>>>xo.SHIFT;let Ae=n[ce];null===Ae&&(Ae=n[ce]=(C&xo.COMMENT)===xo.COMMENT?f.createComment(P):Ul(f,P)),X&&null!==o&&bc(f,o,Ae,d,!1)}})(f,U.create,ce,P&&8&P.type?f[P.index]:null),He(!0)}function cv(n,i,o){sy(n,i,o),function lv(){He(!1)}()}function o_(n){return function ry(n){n&&(cg|=1<<Math.min(dg,31)),dg++}(al(xt(),ne(),n)),o_}function ay(n){!function n_(n,i,o){if(dg>0){const d=n.data[o];Zv(n,i,Array.isArray(d)?d:d.update,M()-dg-1,cg)}cg=0,dg=0}(Hr(),xt(),n+Si)}function ly(n,i,o,d,f){if(n=xe(n),Array.isArray(n))for(let v=0;v<n.length;v++)ly(n[v],i,o,d,f);else{const v=Hr(),C=xt();let P=Ld(n)?n:xe(n.provide),U=Ze(n);const X=ls(),ce=1048575&X.providerIndexes,Ae=X.directiveStart,it=X.providerIndexes>>20;if(Ld(n)||!n.multi){const kt=new we(U,f,Ud),cn=fg(P,i,f?ce:ce+it,Ae);-1===cn?(tn(gn(X,C),v,P),cy(v,n,i.length),i.push(P),X.directiveStart++,X.directiveEnd++,f&&(X.providerIndexes+=1048576),o.push(kt),C.push(kt)):(o[cn]=kt,C[cn]=kt)}else{const kt=fg(P,i,ce+it,Ae),cn=fg(P,i,ce,ce+it),dr=cn>=0&&o[cn];if(f&&!dr||!f&&!(kt>=0&&o[kt])){tn(gn(X,C),v,P);const Mr=function Tp(n,i,o,d,f){const v=new we(n,o,Ud);return v.multi=[],v.index=i,v.componentProviders=0,dy(v,f,d&&!o),v}(f?dv:m0,o.length,f,d,U);!f&&dr&&(o[cn].providerFactory=Mr),cy(v,n,i.length,0),i.push(P),X.directiveStart++,X.directiveEnd++,f&&(X.providerIndexes+=1048576),o.push(Mr),C.push(Mr)}else cy(v,n,kt>-1?kt:cn,dy(o[f?cn:kt],U,!f&&d));!f&&d&&dr&&o[cn].componentProviders++}}}function cy(n,i,o,d){const f=Ld(i),v=function Mp(n){return!!n.useClass}(i);if(f||v){const U=(v?xe(i.useClass):i).prototype.ngOnDestroy;if(U){const X=n.destroyHooks||(n.destroyHooks=[]);if(!f&&i.multi){const ce=X.indexOf(o);-1===ce?X.push(o,[d,U]):X[ce+1].push(d,U)}else X.push(o,U)}}}function dy(n,i,o){return o&&n.componentProviders++,n.multi.push(i)-1}function fg(n,i,o,d){for(let f=o;f<d;f++)if(i[f]===n)return f;return-1}function m0(n,i,o,d){return a_(this.multi,[])}function dv(n,i,o,d){const f=this.multi;let v;if(this.providerFactory){const C=this.providerFactory.componentProviders,P=fl(o,o[En],this.providerFactory.index,d);v=P.slice(0,C),a_(f,v);for(let U=C;U<P.length;U++)v.push(P[U])}else v=[],a_(f,v);return v}function a_(n,i){for(let o=0;o<n.length;o++)i.push((0,n[o])());return i}function Yc(n,i=[]){return o=>{o.providersResolver=(d,f)=>function uy(n,i,o){const d=Hr();if(d.firstCreatePass){const f=mi(n);ly(o,d.data,d.blueprint,f,!0),ly(i,d.data,d.blueprint,f,!1)}}(d,f?f(n):n,i)}}class Bu{}class hy{}function hv(n,i){return new pg(n,i??null)}class pg extends Bu{constructor(i,o){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new qp(this);const d=Li(i);this._bootstrapComponents=ku(d.bootstrap),this._r3Injector=Eg(i,o,[{provide:Bu,useValue:this},{provide:ri,useValue:this.componentFactoryResolver}],$e(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class xl extends hy{constructor(i){super(),this.moduleType=i}create(i){return new pg(this.moduleType,i)}}class _0 extends Bu{constructor(i,o,d){super(),this.componentFactoryResolver=new qp(this),this.instance=null;const f=new N([...i,{provide:Bu,useValue:this},{provide:ri,useValue:this.componentFactoryResolver}],o||u(),d,new Set(["environment"]));this.injector=f,f.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function ym(n,i,o=null){return new _0(n,i,o).injector}let gg=(()=>{class n{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o.id)){const d=Jf(0,o.type),f=d.length>0?ym([d],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o.id,f)}return this.cachedInjectors.get(o.id)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=Ge({token:n,providedIn:"environment",factory:()=>new n(Rr(_))}),n})();function Gf(n){n.getStandaloneInjector=i=>i.get(gg).getOrCreateStandaloneInjector(n)}function gy(n,i,o){const d=I()+n,f=xt();return f[d]===Oi?Pc(f,d,o?i.call(o):i()):function qh(n,i){return n[i]}(f,d)}function my(n,i,o,d){return r(xt(),I(),n,i,o,d)}function _y(n,i,o,d,f){return e(xt(),I(),n,i,o,d,f)}function _v(n,i,o,d,f,v){return function t(n,i,o,d,f,v,C,P){const U=i+o;return function fp(n,i,o,d,f){const v=Yh(n,i,o,d);return al(n,i+2,f)||v}(n,U,f,v,C)?Pc(n,U+3,P?d.call(P,f,v,C):d(f,v,C)):d_(n,U+3)}(xt(),I(),n,i,o,d,f,v)}function d_(n,i){const o=n[i];return o===Oi?void 0:o}function r(n,i,o,d,f,v){const C=i+o;return al(n,C,f)?Pc(n,C+1,v?d.call(v,f):d(f)):d_(n,C+1)}function e(n,i,o,d,f,v,C){const P=i+o;return Yh(n,P,f,v)?Pc(n,P+2,C?d.call(C,f,v):d(f,v)):d_(n,P+2)}function s(n,i,o,d,f,v,C,P,U){const X=i+o;return function zo(n,i,o,d,f,v){const C=Yh(n,i,o,d);return Yh(n,i+2,f,v)||C}(n,X,f,v,C,P)?Pc(n,X+4,U?d.call(U,f,v,C,P):d(f,v,C,P)):d_(n,X+4)}function p(n,i){const o=Hr();let d;const f=n+Si;o.firstCreatePass?(d=function b(n,i){if(i)for(let o=i.length-1;o>=0;o--){const d=i[o];if(n===d.name)return d}}(i,o.pipeRegistry),o.data[f]=d,d.onDestroy&&(o.destroyHooks??(o.destroyHooks=[])).push(f,d.onDestroy)):d=o.data[f];const v=d.factory||(d.factory=ki(d.type)),C=Vr(Ud);try{const P=Cu(!1),U=v();return Cu(P),function P_(n,i,o,d){o>=n.data.length&&(n.data[o]=null,n.blueprint[o]=null),i[o]=d}(o,xt(),f,U),U}finally{Vr(C)}}function W(n,i,o){const d=n+Si,f=xt(),v=mo(f,d);return Qt(f,d)?r(f,I(),i,v.transform,o,v):v.transform(o)}function Q(n,i,o,d){const f=n+Si,v=xt(),C=mo(v,f);return Qt(v,f)?e(v,I(),i,C.transform,o,d,C):C.transform(o,d)}function Pe(n,i,o,d,f,v){const C=n+Si,P=xt(),U=mo(P,C);return Qt(P,C)?s(P,I(),i,U.transform,o,d,f,v,U):U.transform(o,d,f,v)}function Qt(n,i){return n[En].data[i].pure}function ir(n){return i=>{setTimeout(n,void 0,i)}}const er=class Ln extends a.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,o,d){let f=i,v=o||(()=>null),C=d;if(i&&"object"==typeof i){const U=i;f=U.next?.bind(U),v=U.error?.bind(U),C=U.complete?.bind(U)}this.__isAsync&&(v=ir(v),f&&(f=ir(f)),C&&(C=ir(C)));const P=super.subscribe({next:f,error:v,complete:C});return i instanceof V.w0&&i.add(P),P}};function Ki(){return this._results[Symbol.iterator]()}class Ms{get changes(){return this._changes||(this._changes=new er)}constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=Ms.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=Ki)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,o){return this._results.reduce(i,o)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,o){const d=this;d.dirty=!1;const f=function wa(n){return n.flat(Number.POSITIVE_INFINITY)}(i);(this._changesDetected=!function Wu(n,i,o){if(n.length!==i.length)return!1;for(let d=0;d<n.length;d++){let f=n[d],v=i[d];if(o&&(f=o(f),v=o(v)),v!==f)return!1}return!0}(d._results,f,o))&&(d._results=f,d.length=f.length,d.last=f[this.length-1],d.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Ri=(()=>{class n{}return n.__NG_ELEMENT_ID__=ta,n})();const iu=Ri,ha=class extends iu{constructor(i,o,d){super(),this._declarationLView=i,this._declarationTContainer=o,this.elementRef=d}createEmbeddedView(i,o){const d=this._declarationTContainer.tView,f=Lp(this._declarationLView,d,i,16,null,d.declTNode,null,null,null,null,o||null);f[na]=this._declarationLView[this._declarationTContainer.index];const C=this._declarationLView[js];return null!==C&&(f[js]=C.createEmbeddedView(d)),Og(d,f,i),new Rc(f)}};function ta(){return ll(ls(),xt())}function ll(n,i){return 4&n.type?new ha(i,n,Hi(n,i)):null}let Eh=(()=>{class n{}return n.__NG_ELEMENT_ID__=vv,n})();function vv(){return hb(ls(),xt())}const _w=Eh,cb=class extends _w{constructor(i,o,d){super(),this._lContainer=i,this._hostTNode=o,this._hostLView=d}get element(){return Hi(this._hostTNode,this._hostLView)}get injector(){return new Pa(this._hostTNode,this._hostLView)}get parentInjector(){const i=qa(this._hostTNode,this._hostLView);if(Ar(i)){const o=Yo(i,this._hostLView),d=yi(i);return new Pa(o[En].data[d+8],o)}return new Pa(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const o=db(this._lContainer);return null!==o&&o[i]||null}get length(){return this._lContainer.length-un}createEmbeddedView(i,o,d){let f,v;"number"==typeof d?f=d:null!=d&&(f=d.index,v=d.injector);const C=i.createEmbeddedView(o||{},v);return this.insert(C,f),C}createComponent(i,o,d,f,v){const C=i&&!function Zo(n){return"function"==typeof n}(i);let P;if(C)P=o;else{const Ae=o||{};P=Ae.index,d=Ae.injector,f=Ae.projectableNodes,v=Ae.environmentInjector||Ae.ngModuleRef}const U=C?i:new If(Zn(i)),X=d||this.parentInjector;if(!v&&null==U.ngModule){const it=(C?X:this.parentInjector).get(_,null);it&&(v=it)}const ce=U.create(X,f,void 0,v);return this.insert(ce.hostView,P),ce}insert(i,o){const d=i._lView,f=d[En];if(function Vo(n){return Tr(n[wi])}(d)){const ce=this.indexOf(i);if(-1!==ce)this.detach(ce);else{const Ae=d[wi],it=new cb(Ae,Ae[Yi],Ae[wi]);it.detach(it.indexOf(i))}}const v=this._adjustIndex(o),C=this._lContainer;!function Fc(n,i,o,d){const f=un+d,v=o.length;d>0&&(o[f-1][Fs]=i),d<v-un?(i[Fs]=o[f],Su(o,un+d,i)):(o.push(i),i[Fs]=null),i[wi]=o;const C=i[na];null!==C&&o!==C&&function Ou(n,i){const o=n[zt];i[zr]!==i[wi][wi][zr]&&(n[Qe]=!0),null===o?n[zt]=[i]:o.push(i)}(C,i);const P=i[js];null!==P&&P.insertView(n),i[Or]|=64}(f,d,C,v);const P=$l(v,C),U=d[Er],X=Sd(U,C[We]);return null!==X&&function rf(n,i,o,d,f,v){d[as]=f,d[Yi]=i,Ru(n,d,o,1,f,v)}(f,C[Yi],U,d,X,P),i.attachToViewContainerRef(),Su(I0(C),v,i),i}move(i,o){return this.insert(i,o)}indexOf(i){const o=db(this._lContainer);return null!==o?o.indexOf(i):-1}remove(i){const o=this._adjustIndex(i,-1),d=Zd(this._lContainer,o);d&&(ia(I0(this._lContainer),o),Wf(d[En],d))}detach(i){const o=this._adjustIndex(i,-1),d=Zd(this._lContainer,o);return d&&null!=ia(I0(this._lContainer),o)?new Rc(d):null}_adjustIndex(i,o=0){return i??this.length+o}};function db(n){return n[gt]}function I0(n){return n[gt]||(n[gt]=[])}function hb(n,i){let o;const d=i[n.index];if(Tr(d))o=d;else{let f;if(8&n.type)f=Ai(d);else{const v=i[Er];f=v.createComment("");const C=As(n,i);bc(v,Sd(v,C),f,function Bc(n,i){return n.nextSibling(i)}(v,C),!1)}i[n.index]=o=Nm(d,i,f,n),$h(i,o)}return new cb(o,n,i)}class S0{constructor(i){this.queryList=i,this.matches=null}clone(){return new S0(this.queryList)}setDirty(){this.queryList.setDirty()}}class A0{constructor(i=[]){this.queries=i}createEmbeddedView(i){const o=i.queries;if(null!==o){const d=null!==i.contentQueries?i.contentQueries[0]:o.length,f=[];for(let v=0;v<d;v++){const C=o.getByIndex(v);f.push(this.queries[C.indexInDeclarationView].clone())}return new A0(f)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let o=0;o<this.queries.length;o++)null!==wb(i,o).matches&&this.queries[o].setDirty()}}class fb{constructor(i,o,d=null){this.predicate=i,this.flags=o,this.read=d}}class N0{constructor(i=[]){this.queries=i}elementStart(i,o){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(i,o)}elementEnd(i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(i)}embeddedTView(i){let o=null;for(let d=0;d<this.length;d++){const f=null!==o?o.length:0,v=this.getByIndex(d).embeddedTView(i,f);v&&(v.indexInDeclarationView=d,null!==o?o.push(v):o=[v])}return null!==o?new N0(o):null}template(i,o){for(let d=0;d<this.queries.length;d++)this.queries[d].template(i,o)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class M0{constructor(i,o=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(i,o){this.isApplyingToNode(o)&&this.matchTNode(i,o)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,o){this.elementStart(i,o)}embeddedTView(i,o){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,o),new M0(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let d=i.parent;for(;null!==d&&8&d.type&&d.index!==o;)d=d.parent;return o===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(i,o){const d=this.metadata.predicate;if(Array.isArray(d))for(let f=0;f<d.length;f++){const v=d[f];this.matchTNodeWithReadOption(i,o,yw(o,v)),this.matchTNodeWithReadOption(i,o,$u(o,i,v,!1,!1))}else d===Ri?4&o.type&&this.matchTNodeWithReadOption(i,o,-1):this.matchTNodeWithReadOption(i,o,$u(o,i,d,!1,!1))}matchTNodeWithReadOption(i,o,d){if(null!==d){const f=this.metadata.read;if(null!==f)if(f===Ns||f===Eh||f===Ri&&4&o.type)this.addMatch(o.index,-2);else{const v=$u(o,i,f,!1,!1);null!==v&&this.addMatch(o.index,v)}else this.addMatch(o.index,d)}}addMatch(i,o){null===this.matches?this.matches=[i,o]:this.matches.push(i,o)}}function yw(n,i){const o=n.localNames;if(null!==o)for(let d=0;d<o.length;d+=2)if(o[d]===i)return o[d+1];return null}function bw(n,i,o,d){return-1===o?function vw(n,i){return 11&n.type?Hi(n,i):4&n.type?ll(n,i):null}(i,n):-2===o?function ww(n,i,o){return o===Ns?Hi(i,n):o===Ri?ll(i,n):o===Eh?hb(i,n):void 0}(n,i,d):fl(n,n[En],o,i)}function pb(n,i,o,d){const f=i[js].queries[d];if(null===f.matches){const v=n.data,C=o.matches,P=[];for(let U=0;U<C.length;U+=2){const X=C[U];P.push(X<0?null:bw(i,v[X],C[U+1],o.metadata.read))}f.matches=P}return f.matches}function O0(n,i,o,d){const f=n.queries.getByIndex(o),v=f.matches;if(null!==v){const C=pb(n,i,f,o);for(let P=0;P<v.length;P+=2){const U=v[P];if(U>0)d.push(C[P/2]);else{const X=v[P+1],ce=i[-U];for(let Ae=un;Ae<ce.length;Ae++){const it=ce[Ae];it[na]===it[wi]&&O0(it[En],it,X,d)}if(null!==ce[zt]){const Ae=ce[zt];for(let it=0;it<Ae.length;it++){const kt=Ae[it];O0(kt[En],kt,X,d)}}}}}return d}function gb(n){const i=xt(),o=Hr(),d=Wr();kr(d+1);const f=wb(o,d);if(n.dirty&&function au(n){return 4==(4&n[Or])}(i)===(2==(2&f.metadata.flags))){if(null===f.matches)n.reset([]);else{const v=f.crossesNgTemplate?O0(o,i,d,[]):pb(o,i,f,d);n.reset(v,vo),n.notifyOnChanges()}return!0}return!1}function mb(n,i,o){const d=Hr();d.firstCreatePass&&(bb(d,new fb(n,i,o),-1),2==(2&i)&&(d.staticViewQueries=!0)),vb(d,xt(),i)}function _b(n,i,o,d){const f=Hr();if(f.firstCreatePass){const v=ls();bb(f,new fb(i,o,d),v.index),function Dw(n,i){const o=n.contentQueries||(n.contentQueries=[]);i!==(o.length?o[o.length-1]:-1)&&o.push(n.queries.length-1,i)}(f,n),2==(2&o)&&(f.staticContentQueries=!0)}vb(f,xt(),o)}function yb(){return function Ew(n,i){return n[js].queries[i].queryList}(xt(),Wr())}function vb(n,i,o){const d=new Ms(4==(4&o));xg(n,i,d,d.destroy),null===i[js]&&(i[js]=new A0),i[js].queries.push(new S0(d))}function bb(n,i,o){null===n.queries&&(n.queries=new N0),n.queries.track(new M0(i,o))}function wb(n,i){return n.queries.getByIndex(i)}function Eb(n,i){return ll(n,i)}function R0(n){return!!Li(n)}function wv(...n){}const Ub=new mn("Application Initializer");let Ev=(()=>{class n{constructor(o){this.appInits=o,this.resolve=wv,this.reject=wv,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,f)=>{this.resolve=d,this.reject=f})}runInitializers(){if(this.initialized)return;const o=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const v=this.appInits[f]();if(om(v))o.push(v);else if(rg(v)){const C=new Promise((P,U)=>{v.subscribe({complete:P,error:U})});o.push(C)}}Promise.all(o).then(()=>{d()}).catch(f=>{this.reject(f)}),0===o.length&&d(),this.initialized=!0}}return n.\u0275fac=function(o){return new(o||n)(Rr(Ub,8))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Hb=new mn("AppId",{providedIn:"root",factory:function Gb(){return`${L0()}${L0()}${L0()}`}});function L0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const jb=new mn("Platform Initializer"),jw=new mn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),$w=new mn("AnimationModuleType");let zw=(()=>{class n{log(o){console.log(o)}warn(o){console.warn(o)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Dv=new mn("LocaleId",{providedIn:"root",factory:()=>pi(Dv,wn.Optional|wn.SkipSelf)||function Ww(){return typeof $localize<"u"&&$localize.locale||Xh}()}),Kw=new mn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class qw{constructor(i,o){this.ngModuleFactory=i,this.componentFactories=o}}let Yw=(()=>{class n{compileModuleSync(o){return new xl(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const d=this.compileModuleSync(o),v=ku(Li(o).declarations).reduce((C,P)=>{const U=Zn(P);return U&&C.push(new If(U)),C},[]);return new qw(d,v)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Qw=(()=>Promise.resolve(0))();function B0(n){typeof Zone>"u"?Qw.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Dh{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new er(!1),this.onMicrotaskEmpty=new er(!1),this.onStable=new er(!1),this.onError=new er(!1),typeof Zone>"u")throw new at(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!d&&o,f.shouldCoalesceRunChangeDetection=d,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function Xw(){let n=fr.requestAnimationFrame,i=fr.cancelAnimationFrame;if(typeof Zone<"u"&&n&&i){const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o);const d=i[Zone.__symbol__("OriginalDelegate")];d&&(i=d)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function nE(n){const i=()=>{!function tE(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(fr,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,U0(n),n.isCheckStableRunning=!0,V0(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),U0(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,d,f,v,C,P)=>{try{return Wb(n),o.invokeTask(f,v,C,P)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===v.type||n.shouldCoalesceRunChangeDetection)&&i(),Kb(n)}},onInvoke:(o,d,f,v,C,P,U)=>{try{return Wb(n),o.invoke(f,v,C,P,U)}finally{n.shouldCoalesceRunChangeDetection&&i(),Kb(n)}},onHasTask:(o,d,f,v)=>{o.hasTask(f,v),d===f&&("microTask"==v.change?(n._hasPendingMicrotasks=v.microTask,U0(n),V0(n)):"macroTask"==v.change&&(n.hasPendingMacrotasks=v.macroTask))},onHandleError:(o,d,f,v)=>(o.handleError(f,v),n.runOutsideAngular(()=>n.onError.emit(v)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Dh.isInAngularZone())throw new at(909,!1)}static assertNotInAngularZone(){if(Dh.isInAngularZone())throw new at(909,!1)}run(i,o,d){return this._inner.run(i,o,d)}runTask(i,o,d,f){const v=this._inner,C=v.scheduleEventTask("NgZoneEvent: "+f,i,eE,wv,wv);try{return v.runTask(C,o,d)}finally{v.cancelTask(C)}}runGuarded(i,o,d){return this._inner.runGuarded(i,o,d)}runOutsideAngular(i){return this._outer.run(i)}}const eE={};function V0(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function U0(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function Wb(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Kb(n){n._nesting--,V0(n)}class rE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new er,this.onMicrotaskEmpty=new er,this.onStable=new er,this.onError=new er}run(i,o,d){return i.apply(o,d)}runGuarded(i,o,d){return i.apply(o,d)}runOutsideAngular(i){return i()}runTask(i,o,d,f){return i.apply(o,d)}}const qb=new mn(""),Yb=new mn("");let H0,iE=(()=>{class n{constructor(o,d,f){this._ngZone=o,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,H0||(function sE(n){H0=n}(f),f.addToWindow(d)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Dh.assertNotInAngularZone(),B0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())B0(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(o)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,d,f){let v=-1;d&&d>0&&(v=setTimeout(()=>{this._callbacks=this._callbacks.filter(C=>C.timeoutId!==v),o(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:o,timeoutId:v,updateCb:f})}whenStable(o,d,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,d,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,d,f){return[]}}return n.\u0275fac=function(o){return new(o||n)(Rr(Dh),Rr(Zb),Rr(Yb))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac}),n})(),Zb=(()=>{class n{constructor(){this._applications=new Map}registerApplication(o,d){this._applications.set(o,d)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,d=!0){return H0?.findTestabilityInTree(this,o,d)??null}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Cp=!1;let mg=null;const Jb=new mn("AllowMultipleToken"),G0=new mn("PlatformDestroyListeners"),Qb=new mn("appBootstrapListener");class uE{constructor(i,o){this.name=i,this.token=o}}function ew(n,i,o=[]){const d=`Platform: ${i}`,f=new mn(d);return(v=[])=>{let C=j0();if(!C||C.injector.get(Jb,!1)){const P=[...o,...v,{provide:f,useValue:!0}];n?n(P):function lE(n){if(mg&&!mg.get(Jb,!1))throw new at(400,!1);mg=n;const i=n.get(nw);(function Xb(n){const i=n.get(jb,null);i&&i.forEach(o=>o())})(n)}(function tw(n=[],i){return Vh.create({name:i,providers:[{provide:Qf,useValue:"platform"},{provide:G0,useValue:new Set([()=>mg=null])},...n]})}(P,d))}return function dE(n){const i=j0();if(!i)throw new at(401,!1);return i}()}}function j0(){return mg?.get(nw)??null}let nw=(()=>{class n{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,d){const f=function iw(n,i){let o;return o="noop"===n?new rE:("zone.js"===n?void 0:n)||new Dh(i),o}(d?.ngZone,function rw(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(d)),v=[{provide:Dh,useValue:f}];return f.run(()=>{const C=Vh.create({providers:v,parent:this.injector,name:o.moduleType.name}),P=o.create(C),U=P.injector.get(hc,null);if(!U)throw new at(402,!1);return f.runOutsideAngular(()=>{const X=f.onError.subscribe({next:ce=>{U.handleError(ce)}});P.onDestroy(()=>{Cv(this._modules,P),X.unsubscribe()})}),function sw(n,i,o){try{const d=o();return om(d)?d.catch(f=>{throw i.runOutsideAngular(()=>n.handleError(f)),f}):d}catch(d){throw i.runOutsideAngular(()=>n.handleError(d)),d}}(U,f,()=>{const X=P.injector.get(Ev);return X.runInitializers(),X.donePromise.then(()=>(wp(P.injector.get(Dv,Xh)||Xh),this._moduleDoBootstrap(P),P))})})}bootstrapModule(o,d=[]){const f=ow({},d);return function oE(n,i,o){const d=new xl(o);return Promise.resolve(d)}(0,0,o).then(v=>this.bootstrapModuleFactory(v,f))}_moduleDoBootstrap(o){const d=o.injector.get(Tv);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(f=>d.bootstrap(f));else{if(!o.instance.ngDoBootstrap)throw new at(-403,!1);o.instance.ngDoBootstrap(d)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new at(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const o=this._injector.get(G0,null);o&&(o.forEach(d=>d()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(o){return new(o||n)(Rr(Vh))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function ow(n,i){return Array.isArray(i)?i.reduce(ow,n):{...n,...i}}let Tv=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(o,d,f){this._zone=o,this._injector=d,this._exceptionHandler=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new ee.y(P=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{P.next(this._stable),P.complete()})}),C=new ee.y(P=>{let U;this._zone.runOutsideAngular(()=>{U=this._zone.onStable.subscribe(()=>{Dh.assertNotInAngularZone(),B0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,P.next(!0))})})});const X=this._zone.onUnstable.subscribe(()=>{Dh.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{P.next(!1)}))});return()=>{U.unsubscribe(),X.unsubscribe()}});this.isStable=(0,fe.T)(v,C.pipe((0,re.B)()))}bootstrap(o,d){const f=o instanceof vr;if(!this._injector.get(Ev).done){!f&&ji(o);throw new at(405,Cp)}let C;C=f?o:this._injector.get(ri).resolveComponentFactory(o),this.componentTypes.push(C.componentType);const P=function aE(n){return n.isBoundToModule}(C)?void 0:this._injector.get(Bu),X=C.create(Vh.NULL,[],d||C.selector,P),ce=X.location.nativeElement,Ae=X.injector.get(qb,null);return Ae?.registerApplication(ce),X.onDestroy(()=>{this.detachView(X.hostView),Cv(this.components,X),Ae?.unregisterApplication(ce)}),this._loadComponent(X),X}tick(){if(this._runningTick)throw new at(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const d=o;this._views.push(d),d.attachToAppRef(this)}detachView(o){const d=o;Cv(this._views,d),d.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const d=this._injector.get(Qb,[]);d.push(...this._bootstrapListeners),d.forEach(f=>f(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>Cv(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new at(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(o){return new(o||n)(Rr(Dh),Rr(_),Rr(hc))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Cv(n,i){const o=n.indexOf(i);o>-1&&n.splice(o,1)}function fE(){return!1}let pE=(()=>{class n{}return n.__NG_ELEMENT_ID__=gE,n})();function gE(n){return function mE(n,i,o){if(bs(n)&&!o){const d=Ys(n.index,i);return new Rc(d,d)}return 47&n.type?new Rc(i[zr],i):null}(ls(),xt(),16==(16&n))}class dw{constructor(){}supports(i){return gh(i)}create(i){return new EE(i)}}const wE=(n,i)=>i;class EE{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||wE}forEachItem(i){let o;for(o=this._itHead;null!==o;o=o._next)i(o)}forEachOperation(i){let o=this._itHead,d=this._removalsHead,f=0,v=null;for(;o||d;){const C=!d||o&&o.currentIndex<fw(d,f,v)?o:d,P=fw(C,f,v),U=C.currentIndex;if(C===d)f--,d=d._nextRemoved;else if(o=o._next,null==C.previousIndex)f++;else{v||(v=[]);const X=P-f,ce=U-f;if(X!=ce){for(let it=0;it<X;it++){const kt=it<v.length?v[it]:v[it]=0,cn=kt+it;ce<=cn&&cn<X&&(v[it]=kt+1)}v[C.previousIndex]=ce-X}}P!==U&&i(C,P,U)}}forEachPreviousItem(i){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachMovedItem(i){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}forEachIdentityChange(i){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)i(o)}diff(i){if(null==i&&(i=[]),!gh(i))throw new at(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let f,v,C,o=this._itHead,d=!1;if(Array.isArray(i)){this.length=i.length;for(let P=0;P<this.length;P++)v=i[P],C=this._trackByFn(P,v),null!==o&&Object.is(o.trackById,C)?(d&&(o=this._verifyReinsertion(o,v,C,P)),Object.is(o.item,v)||this._addIdentityChange(o,v)):(o=this._mismatch(o,v,C,P),d=!0),o=o._next}else f=0,function Lm(n,i){if(Array.isArray(n))for(let o=0;o<n.length;o++)i(n[o]);else{const o=n[Symbol.iterator]();let d;for(;!(d=o.next()).done;)i(d.value)}}(i,P=>{C=this._trackByFn(f,P),null!==o&&Object.is(o.trackById,C)?(d&&(o=this._verifyReinsertion(o,P,C,f)),Object.is(o.item,P)||this._addIdentityChange(o,P)):(o=this._mismatch(o,P,C,f),d=!0),o=o._next,f++}),this.length=f;return this._truncate(o),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,o,d,f){let v;return null===i?v=this._itTail:(v=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._reinsertAfter(i,v,f)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(d,f))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._moveAfter(i,v,f)):i=this._addAfter(new DE(o,d),v,f),i}_verifyReinsertion(i,o,d,f){let v=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==v?i=this._reinsertAfter(v,i._prev,f):i.currentIndex!=f&&(i.currentIndex=f,this._addToMoves(i,f)),i}_truncate(i){for(;null!==i;){const o=i._next;this._addToRemovals(this._unlink(i)),i=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,o,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const f=i._prevRemoved,v=i._nextRemoved;return null===f?this._removalsHead=v:f._nextRemoved=v,null===v?this._removalsTail=f:v._prevRemoved=f,this._insertAfter(i,o,d),this._addToMoves(i,d),i}_moveAfter(i,o,d){return this._unlink(i),this._insertAfter(i,o,d),this._addToMoves(i,d),i}_addAfter(i,o,d){return this._insertAfter(i,o,d),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,o,d){const f=null===o?this._itHead:o._next;return i._next=f,i._prev=o,null===f?this._itTail=i:f._prev=i,null===o?this._itHead=i:o._next=i,null===this._linkedRecords&&(this._linkedRecords=new hw),this._linkedRecords.put(i),i.currentIndex=d,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const o=i._prev,d=i._next;return null===o?this._itHead=d:o._next=d,null===d?this._itTail=o:d._prev=o,i}_addToMoves(i,o){return i.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new hw),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,o){return i.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class DE{constructor(i,o){this.item=i,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class TE{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,o){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===o||o<=d.currentIndex)&&Object.is(d.trackById,i))return d;return null}remove(i){const o=i._prevDup,d=i._nextDup;return null===o?this._head=d:o._nextDup=d,null===d?this._tail=o:d._prevDup=o,null===this._head}}class hw{constructor(){this.map=new Map}put(i){const o=i.trackById;let d=this.map.get(o);d||(d=new TE,this.map.set(o,d)),d.add(i)}get(i,o){const f=this.map.get(i);return f?f.get(i,o):null}remove(i){const o=i.trackById;return this.map.get(o).remove(i)&&this.map.delete(o),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function fw(n,i,o){const d=n.previousIndex;if(null===d)return d;let f=0;return o&&d<o.length&&(f=o[d]),d+i+f}class pw{constructor(){}supports(i){return i instanceof Map||Xg(i)}create(){return new CE}}class CE{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let o;for(o=this._mapHead;null!==o;o=o._next)i(o)}forEachPreviousItem(i){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)i(o)}forEachChangedItem(i){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}diff(i){if(i){if(!(i instanceof Map||Xg(i)))throw new at(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(i,(d,f)=>{if(o&&o.key===f)this._maybeAddToChanges(o,d),this._appendAfter=o,o=o._next;else{const v=this._getOrCreateRecordForKey(f,d);o=this._insertBeforeOrAppend(o,v)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let d=o;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,o){if(i){const d=i._prev;return o._next=i,o._prev=d,i._prev=o,d&&(d._next=o),i===this._mapHead&&(this._mapHead=o),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(i,o){if(this._records.has(i)){const f=this._records.get(i);this._maybeAddToChanges(f,o);const v=f._prev,C=f._next;return v&&(v._next=C),C&&(C._prev=v),f._next=null,f._prev=null,f}const d=new IE(i);return this._records.set(i,d),d.currentValue=o,this._addToAdditions(d),d}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,o){Object.is(o,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=o,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,o){i instanceof Map?i.forEach(o):Object.keys(i).forEach(d=>o(i[d],d))}}class IE{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function gw(){return new q0([new dw])}let q0=(()=>{class n{constructor(o){this.factories=o}static create(o,d){if(null!=d){const f=d.factories.slice();o=o.concat(f)}return new n(o)}static extend(o){return{provide:n,useFactory:d=>n.create(o,d||gw()),deps:[[n,new Mu,new Ku]]}}find(o){const d=this.factories.find(f=>f.supports(o));if(null!=d)return d;throw new at(901,!1)}}return n.\u0275prov=Ge({token:n,providedIn:"root",factory:gw}),n})();function mw(){return new Y0([new pw])}let Y0=(()=>{class n{constructor(o){this.factories=o}static create(o,d){if(d){const f=d.factories.slice();o=o.concat(f)}return new n(o)}static extend(o){return{provide:n,useFactory:d=>n.create(o,d||mw()),deps:[[n,new Mu,new Ku]]}}find(o){const d=this.factories.find(f=>f.supports(o));if(d)return d;throw new at(901,!1)}}return n.\u0275prov=Ge({token:n,providedIn:"root",factory:mw}),n})();const NE=ew(null,"core",[]);let ME=(()=>{class n{constructor(o){}}return n.\u0275fac=function(o){return new(o||n)(Rr(Tv))},n.\u0275mod=dt({type:n}),n.\u0275inj=Ke({}),n})();function OE(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function PE(n,i){const o=Zn(n),d=i.elementInjector||u();return new If(o).create(d,i.projectableNodes,i.hostElement,i.environmentInjector)}},2508:(Nn,lt,Y)=>{"use strict";Y.d(lt,{Cf:()=>ht,Fj:()=>st,JJ:()=>Jt,JL:()=>wn,JU:()=>$e,NI:()=>Ks,Q7:()=>So,UX:()=>ao,Wl:()=>De,Zs:()=>$s,_Y:()=>Si,kI:()=>ct,qu:()=>Vo,sg:()=>mi,u:()=>ti,u5:()=>_r,wV:()=>po});var a=Y(2560),V=Y(4666),ee=Y(3609),fe=Y(1640),re=Y(635);let Te=(()=>{class K{constructor(L,le){this._renderer=L,this._elementRef=le,this.onChange=Pt=>{},this.onTouched=()=>{}}setProperty(L,le){this._renderer.setProperty(this._elementRef.nativeElement,L,le)}registerOnTouched(L){this.onTouched=L}registerOnChange(L){this.onChange=L}setDisabledState(L){this.setProperty("disabled",L)}}return K.\u0275fac=function(L){return new(L||K)(a.Y36(a.Qsj),a.Y36(a.SBq))},K.\u0275dir=a.lG2({type:K}),K})(),je=(()=>{class K extends Te{}return K.\u0275fac=function(){let z;return function(le){return(z||(z=a.n5z(K)))(le||K)}}(),K.\u0275dir=a.lG2({type:K,features:[a.qOj]}),K})();const $e=new a.OlP("NgValueAccessor"),et={provide:$e,useExisting:(0,a.Gpc)(()=>De),multi:!0};let De=(()=>{class K extends je{writeValue(L){this.setProperty("checked",L)}}return K.\u0275fac=function(){let z;return function(le){return(z||(z=a.n5z(K)))(le||K)}}(),K.\u0275dir=a.lG2({type:K,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(L,le){1&L&&a.NdJ("change",function(pn){return le.onChange(pn.target.checked)})("blur",function(){return le.onTouched()})},features:[a._Bn([et]),a.qOj]}),K})();const be={provide:$e,useExisting:(0,a.Gpc)(()=>st),multi:!0},Vt=new a.OlP("CompositionEventMode");let st=(()=>{class K extends Te{constructor(L,le,Pt){super(L,le),this._compositionMode=Pt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function xe(){const K=(0,V.q)()?(0,V.q)().getUserAgent():"";return/android (\d+)/.test(K.toLowerCase())}())}writeValue(L){this.setProperty("value",L??"")}_handleInput(L){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(L)}_compositionStart(){this._composing=!0}_compositionEnd(L){this._composing=!1,this._compositionMode&&this.onChange(L)}}return K.\u0275fac=function(L){return new(L||K)(a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(Vt,8))},K.\u0275dir=a.lG2({type:K,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(L,le){1&L&&a.NdJ("input",function(pn){return le._handleInput(pn.target.value)})("blur",function(){return le.onTouched()})("compositionstart",function(){return le._compositionStart()})("compositionend",function(pn){return le._compositionEnd(pn.target.value)})},features:[a._Bn([be]),a.qOj]}),K})();const Ft=!1;function Gt(K){return null==K||("string"==typeof K||Array.isArray(K))&&0===K.length}function at(K){return null!=K&&"number"==typeof K.length}const ht=new a.OlP("NgValidators"),Ce=new a.OlP("NgAsyncValidators"),Kt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ct{static min(z){return function Se(K){return z=>{if(Gt(z.value)||Gt(K))return null;const L=parseFloat(z.value);return!isNaN(L)&&L<K?{min:{min:K,actual:z.value}}:null}}(z)}static max(z){return function Je(K){return z=>{if(Gt(z.value)||Gt(K))return null;const L=parseFloat(z.value);return!isNaN(L)&&L>K?{max:{max:K,actual:z.value}}:null}}(z)}static required(z){return Yt(z)}static requiredTrue(z){return Ut(z)}static email(z){return function ft(K){return Gt(K.value)||Kt.test(K.value)?null:{email:!0}}(z)}static minLength(z){return function Ye(K){return z=>Gt(z.value)||!at(z.value)?null:z.value.length<K?{minlength:{requiredLength:K,actualLength:z.value.length}}:null}(z)}static maxLength(z){return function Zt(K){return z=>at(z.value)&&z.value.length>K?{maxlength:{requiredLength:K,actualLength:z.value.length}}:null}(z)}static pattern(z){return function en(K){if(!K)return Bn;let z,L;return"string"==typeof K?(L="","^"!==K.charAt(0)&&(L+="^"),L+=K,"$"!==K.charAt(K.length-1)&&(L+="$"),z=new RegExp(L)):(L=K.toString(),z=K),le=>{if(Gt(le.value))return null;const Pt=le.value;return z.test(Pt)?null:{pattern:{requiredPattern:L,actualValue:Pt}}}}(z)}static nullValidator(z){return null}static compose(z){return Wt(z)}static composeAsync(z){return $t(z)}}function Yt(K){return Gt(K.value)?{required:!0}:null}function Ut(K){return!0===K.value?null:{required:!0}}function Bn(K){return null}function Dn(K){return null!=K}function qi(K){const z=(0,a.QGY)(K)?(0,ee.D)(K):K;if(Ft&&!(0,a.CqO)(z)){let L="Expected async validator to return Promise or Observable.";throw"object"==typeof K&&(L+=" Are you using a synchronous validator where an async validator is expected?"),new a.vHH(-1101,L)}return z}function It(K){let z={};return K.forEach(L=>{z=null!=L?{...z,...L}:z}),0===Object.keys(z).length?null:z}function _t(K,z){return z.map(L=>L(K))}function Ct(K){return K.map(z=>function Ot(K){return!K.validate}(z)?z:L=>z.validate(L))}function Wt(K){if(!K)return null;const z=K.filter(Dn);return 0==z.length?null:function(L){return It(_t(L,z))}}function Lt(K){return null!=K?Wt(Ct(K)):null}function $t(K){if(!K)return null;const z=K.filter(Dn);return 0==z.length?null:function(L){const le=_t(L,z).map(qi);return(0,fe.D)(le).pipe((0,re.U)(It))}}function hn(K){return null!=K?$t(Ct(K)):null}function yn(K,z){return null===K?[z]:Array.isArray(K)?[...K,z]:[K,z]}function vn(K){return K._rawValidators}function Ge(K){return K._rawAsyncValidators}function yt(K){return K?Array.isArray(K)?K:[K]:[]}function Ke(K,z){return Array.isArray(K)?K.includes(z):K===z}function pt(K,z){const L=yt(z);return yt(K).forEach(Pt=>{Ke(L,Pt)||L.push(Pt)}),L}function Tn(K,z){return yt(z).filter(L=>!Ke(K,L))}class zn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(z){this._rawValidators=z||[],this._composedValidatorFn=Lt(this._rawValidators)}_setAsyncValidators(z){this._rawAsyncValidators=z||[],this._composedAsyncValidatorFn=hn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(z){this._onDestroyCallbacks.push(z)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(z=>z()),this._onDestroyCallbacks=[]}reset(z){this.control&&this.control.reset(z)}hasError(z,L){return!!this.control&&this.control.hasError(z,L)}getError(z,L){return this.control?this.control.getError(z,L):null}}class jn extends zn{get formDirective(){return null}get path(){return null}}class pr extends zn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ii{constructor(z){this._cd=z}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Jt=(()=>{class K extends ii{constructor(L){super(L)}}return K.\u0275fac=function(L){return new(L||K)(a.Y36(pr,2))},K.\u0275dir=a.lG2({type:K,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(L,le){2&L&&a.ekj("ng-untouched",le.isUntouched)("ng-touched",le.isTouched)("ng-pristine",le.isPristine)("ng-dirty",le.isDirty)("ng-valid",le.isValid)("ng-invalid",le.isInvalid)("ng-pending",le.isPending)},features:[a.qOj]}),K})(),wn=(()=>{class K extends ii{constructor(L){super(L)}}return K.\u0275fac=function(L){return new(L||K)(a.Y36(jn,10))},K.\u0275dir=a.lG2({type:K,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(L,le){2&L&&a.ekj("ng-untouched",le.isUntouched)("ng-touched",le.isTouched)("ng-pristine",le.isPristine)("ng-dirty",le.isDirty)("ng-valid",le.isValid)("ng-invalid",le.isInvalid)("ng-pending",le.isPending)("ng-submitted",le.isSubmitted)},features:[a.qOj]}),K})();function Ii(K,z){return K?`with name: '${z}'`:`at index: ${z}`}const wr=!1,vs="VALID",Rr="INVALID",oi="PENDING",pi="DISABLED";function At(K){return(qt(K)?K.validators:K)||null}function Ue(K,z){return(qt(z)?z.asyncValidators:K)||null}function qt(K){return null!=K&&!Array.isArray(K)&&"object"==typeof K}function Ee(K,z,L){const le=K.controls;if(!(z?Object.keys(le):le).length)throw new a.vHH(1e3,wr?function Pi(K){return`\n    There are no form controls registered with this ${K?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(z):"");if(!le[L])throw new a.vHH(1001,wr?function xr(K,z){return`Cannot find form control ${Ii(K,z)}`}(z,L):"")}function ve(K,z,L){K._forEachChild((le,Pt)=>{if(void 0===L[Pt])throw new a.vHH(1002,wr?function fs(K,z){return`Must supply a value for form control ${Ii(K,z)}`}(z,Pt):"")})}class Oe{constructor(z,L){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(z),this._assignAsyncValidators(L)}get validator(){return this._composedValidatorFn}set validator(z){this._rawValidators=this._composedValidatorFn=z}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(z){this._rawAsyncValidators=this._composedAsyncValidatorFn=z}get parent(){return this._parent}get valid(){return this.status===vs}get invalid(){return this.status===Rr}get pending(){return this.status==oi}get disabled(){return this.status===pi}get enabled(){return this.status!==pi}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(z){this._assignValidators(z)}setAsyncValidators(z){this._assignAsyncValidators(z)}addValidators(z){this.setValidators(pt(z,this._rawValidators))}addAsyncValidators(z){this.setAsyncValidators(pt(z,this._rawAsyncValidators))}removeValidators(z){this.setValidators(Tn(z,this._rawValidators))}removeAsyncValidators(z){this.setAsyncValidators(Tn(z,this._rawAsyncValidators))}hasValidator(z){return Ke(this._rawValidators,z)}hasAsyncValidator(z){return Ke(this._rawAsyncValidators,z)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(z={}){this.touched=!0,this._parent&&!z.onlySelf&&this._parent.markAsTouched(z)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(z=>z.markAllAsTouched())}markAsUntouched(z={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(L=>{L.markAsUntouched({onlySelf:!0})}),this._parent&&!z.onlySelf&&this._parent._updateTouched(z)}markAsDirty(z={}){this.pristine=!1,this._parent&&!z.onlySelf&&this._parent.markAsDirty(z)}markAsPristine(z={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(L=>{L.markAsPristine({onlySelf:!0})}),this._parent&&!z.onlySelf&&this._parent._updatePristine(z)}markAsPending(z={}){this.status=oi,!1!==z.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!z.onlySelf&&this._parent.markAsPending(z)}disable(z={}){const L=this._parentMarkedDirty(z.onlySelf);this.status=pi,this.errors=null,this._forEachChild(le=>{le.disable({...z,onlySelf:!0})}),this._updateValue(),!1!==z.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...z,skipPristineCheck:L}),this._onDisabledChange.forEach(le=>le(!0))}enable(z={}){const L=this._parentMarkedDirty(z.onlySelf);this.status=vs,this._forEachChild(le=>{le.enable({...z,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:z.emitEvent}),this._updateAncestors({...z,skipPristineCheck:L}),this._onDisabledChange.forEach(le=>le(!1))}_updateAncestors(z){this._parent&&!z.onlySelf&&(this._parent.updateValueAndValidity(z),z.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(z){this._parent=z}getRawValue(){return this.value}updateValueAndValidity(z={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===vs||this.status===oi)&&this._runAsyncValidator(z.emitEvent)),!1!==z.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!z.onlySelf&&this._parent.updateValueAndValidity(z)}_updateTreeValidity(z={emitEvent:!0}){this._forEachChild(L=>L._updateTreeValidity(z)),this.updateValueAndValidity({onlySelf:!0,emitEvent:z.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?pi:vs}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(z){if(this.asyncValidator){this.status=oi,this._hasOwnPendingAsyncValidator=!0;const L=qi(this.asyncValidator(this));this._asyncValidationSubscription=L.subscribe(le=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(le,{emitEvent:z})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(z,L={}){this.errors=z,this._updateControlsErrors(!1!==L.emitEvent)}get(z){let L=z;return null==L||(Array.isArray(L)||(L=L.split(".")),0===L.length)?null:L.reduce((le,Pt)=>le&&le._find(Pt),this)}getError(z,L){const le=L?this.get(L):this;return le&&le.errors?le.errors[z]:null}hasError(z,L){return!!this.getError(z,L)}get root(){let z=this;for(;z._parent;)z=z._parent;return z}_updateControlsErrors(z){this.status=this._calculateStatus(),z&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(z)}_initObservables(){this.valueChanges=new a.vpe,this.statusChanges=new a.vpe}_calculateStatus(){return this._allControlsDisabled()?pi:this.errors?Rr:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(oi)?oi:this._anyControlsHaveStatus(Rr)?Rr:vs}_anyControlsHaveStatus(z){return this._anyControls(L=>L.status===z)}_anyControlsDirty(){return this._anyControls(z=>z.dirty)}_anyControlsTouched(){return this._anyControls(z=>z.touched)}_updatePristine(z={}){this.pristine=!this._anyControlsDirty(),this._parent&&!z.onlySelf&&this._parent._updatePristine(z)}_updateTouched(z={}){this.touched=this._anyControlsTouched(),this._parent&&!z.onlySelf&&this._parent._updateTouched(z)}_registerOnCollectionChange(z){this._onCollectionChange=z}_setUpdateStrategy(z){qt(z)&&null!=z.updateOn&&(this._updateOn=z.updateOn)}_parentMarkedDirty(z){return!z&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(z){return null}_assignValidators(z){this._rawValidators=Array.isArray(z)?z.slice():z,this._composedValidatorFn=function Le(K){return Array.isArray(K)?Lt(K):K||null}(this._rawValidators)}_assignAsyncValidators(z){this._rawAsyncValidators=Array.isArray(z)?z.slice():z,this._composedAsyncValidatorFn=function ln(K){return Array.isArray(K)?hn(K):K||null}(this._rawAsyncValidators)}}class ut extends Oe{constructor(z,L,le){super(At(L),Ue(le,L)),this.controls=z,this._initObservables(),this._setUpdateStrategy(L),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(z,L){return this.controls[z]?this.controls[z]:(this.controls[z]=L,L.setParent(this),L._registerOnCollectionChange(this._onCollectionChange),L)}addControl(z,L,le={}){this.registerControl(z,L),this.updateValueAndValidity({emitEvent:le.emitEvent}),this._onCollectionChange()}removeControl(z,L={}){this.controls[z]&&this.controls[z]._registerOnCollectionChange(()=>{}),delete this.controls[z],this.updateValueAndValidity({emitEvent:L.emitEvent}),this._onCollectionChange()}setControl(z,L,le={}){this.controls[z]&&this.controls[z]._registerOnCollectionChange(()=>{}),delete this.controls[z],L&&this.registerControl(z,L),this.updateValueAndValidity({emitEvent:le.emitEvent}),this._onCollectionChange()}contains(z){return this.controls.hasOwnProperty(z)&&this.controls[z].enabled}setValue(z,L={}){ve(this,!0,z),Object.keys(z).forEach(le=>{Ee(this,!0,le),this.controls[le].setValue(z[le],{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L)}patchValue(z,L={}){null!=z&&(Object.keys(z).forEach(le=>{const Pt=this.controls[le];Pt&&Pt.patchValue(z[le],{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L))}reset(z={},L={}){this._forEachChild((le,Pt)=>{le.reset(z[Pt],{onlySelf:!0,emitEvent:L.emitEvent})}),this._updatePristine(L),this._updateTouched(L),this.updateValueAndValidity(L)}getRawValue(){return this._reduceChildren({},(z,L,le)=>(z[le]=L.getRawValue(),z))}_syncPendingControls(){let z=this._reduceChildren(!1,(L,le)=>!!le._syncPendingControls()||L);return z&&this.updateValueAndValidity({onlySelf:!0}),z}_forEachChild(z){Object.keys(this.controls).forEach(L=>{const le=this.controls[L];le&&z(le,L)})}_setUpControls(){this._forEachChild(z=>{z.setParent(this),z._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(z){for(const[L,le]of Object.entries(this.controls))if(this.contains(L)&&z(le))return!0;return!1}_reduceValue(){return this._reduceChildren({},(L,le,Pt)=>((le.enabled||this.disabled)&&(L[Pt]=le.value),L))}_reduceChildren(z,L){let le=z;return this._forEachChild((Pt,pn)=>{le=L(le,Pt,pn)}),le}_allControlsDisabled(){for(const z of Object.keys(this.controls))if(this.controls[z].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(z){return this.controls.hasOwnProperty(z)?this.controls[z]:null}}class ke extends ut{}const ge=new a.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Re}),Re="always";function Xt(K,z,L=Re){Ws(K,z),z.valueAccessor.writeValue(K.value),(K.disabled||"always"===L)&&z.valueAccessor.setDisabledState?.(K.disabled),function dt(K,z){z.valueAccessor.registerOnChange(L=>{K._pendingValue=L,K._pendingChange=!0,K._pendingDirty=!0,"change"===K.updateOn&&Kn(K,z)})}(K,z),function tr(K,z){const L=(le,Pt)=>{z.valueAccessor.writeValue(le),Pt&&z.viewToModelUpdate(le)};K.registerOnChange(L),z._registerOnDestroy(()=>{K._unregisterOnChange(L)})}(K,z),function an(K,z){z.valueAccessor.registerOnTouched(()=>{K._pendingTouched=!0,"blur"===K.updateOn&&K._pendingChange&&Kn(K,z),"submit"!==K.updateOn&&K.markAsTouched()})}(K,z),function gi(K,z){if(z.valueAccessor.setDisabledState){const L=le=>{z.valueAccessor.setDisabledState(le)};K.registerOnDisabledChange(L),z._registerOnDestroy(()=>{K._unregisterOnDisabledChange(L)})}}(K,z)}function Vn(K,z,L=!0){const le=()=>{};z.valueAccessor&&(z.valueAccessor.registerOnChange(le),z.valueAccessor.registerOnTouched(le)),St(K,z),K&&(z._invokeOnDestroyCallbacks(),K._registerOnCollectionChange(()=>{}))}function Ir(K,z){K.forEach(L=>{L.registerOnValidatorChange&&L.registerOnValidatorChange(z)})}function Ws(K,z){const L=vn(K);null!==z.validator?K.setValidators(yn(L,z.validator)):"function"==typeof L&&K.setValidators([L]);const le=Ge(K);null!==z.asyncValidator?K.setAsyncValidators(yn(le,z.asyncValidator)):"function"==typeof le&&K.setAsyncValidators([le]);const Pt=()=>K.updateValueAndValidity();Ir(z._rawValidators,Pt),Ir(z._rawAsyncValidators,Pt)}function St(K,z){let L=!1;if(null!==K){if(null!==z.validator){const Pt=vn(K);if(Array.isArray(Pt)&&Pt.length>0){const pn=Pt.filter(Es=>Es!==z.validator);pn.length!==Pt.length&&(L=!0,K.setValidators(pn))}}if(null!==z.asyncValidator){const Pt=Ge(K);if(Array.isArray(Pt)&&Pt.length>0){const pn=Pt.filter(Es=>Es!==z.asyncValidator);pn.length!==Pt.length&&(L=!0,K.setAsyncValidators(pn))}}}const le=()=>{};return Ir(z._rawValidators,le),Ir(z._rawAsyncValidators,le),L}function Kn(K,z){K._pendingDirty&&K.markAsDirty(),K.setValue(K._pendingValue,{emitModelToViewChange:!1}),z.viewToModelUpdate(K._pendingValue),K._pendingChange=!1}function Ts(K,z){const L=K.indexOf(z);L>-1&&K.splice(L,1)}function Xr(K){return"object"==typeof K&&null!==K&&2===Object.keys(K).length&&"value"in K&&"disabled"in K}const Ks=class extends Oe{constructor(z=null,L,le){super(At(L),Ue(le,L)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(z),this._setUpdateStrategy(L),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),qt(L)&&(L.nonNullable||L.initialValueIsDefault)&&(this.defaultValue=Xr(z)?z.value:z)}setValue(z,L={}){this.value=this._pendingValue=z,this._onChange.length&&!1!==L.emitModelToViewChange&&this._onChange.forEach(le=>le(this.value,!1!==L.emitViewToModelChange)),this.updateValueAndValidity(L)}patchValue(z,L={}){this.setValue(z,L)}reset(z=this.defaultValue,L={}){this._applyFormState(z),this.markAsPristine(L),this.markAsUntouched(L),this.setValue(this.value,L),this._pendingChange=!1}_updateValue(){}_anyControls(z){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(z){this._onChange.push(z)}_unregisterOnChange(z){Ts(this._onChange,z)}registerOnDisabledChange(z){this._onDisabledChange.push(z)}_unregisterOnDisabledChange(z){Ts(this._onDisabledChange,z)}_forEachChild(z){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(z){Xr(z)?(this.value=this._pendingValue=z.value,z.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=z}};let Si=(()=>{class K{}return K.\u0275fac=function(L){return new(L||K)},K.\u0275dir=a.lG2({type:K,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),K})();const so={provide:$e,useExisting:(0,a.Gpc)(()=>po),multi:!0};let po=(()=>{class K extends je{writeValue(L){this.setProperty("value",L??"")}registerOnChange(L){this.onChange=le=>{L(""==le?null:parseFloat(le))}}}return K.\u0275fac=function(){let z;return function(le){return(z||(z=a.n5z(K)))(le||K)}}(),K.\u0275dir=a.lG2({type:K,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(L,le){1&L&&a.NdJ("input",function(pn){return le.onChange(pn.target.value)})("blur",function(){return le.onTouched()})},features:[a._Bn([so]),a.qOj]}),K})(),gt=(()=>{class K{}return K.\u0275fac=function(L){return new(L||K)},K.\u0275mod=a.oAB({type:K}),K.\u0275inj=a.cJS({}),K})();const Tr=new a.OlP("NgModelWithFormControlWarning"),Fo={provide:jn,useExisting:(0,a.Gpc)(()=>mi)};let mi=(()=>{class K extends jn{constructor(L,le,Pt){super(),this.callSetDisabledState=Pt,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new a.vpe,this._setValidators(L),this._setAsyncValidators(le)}ngOnChanges(L){this._checkFormPresent(),L.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(St(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(L){const le=this.form.get(L.path);return Xt(le,L,this.callSetDisabledState),le.updateValueAndValidity({emitEvent:!1}),this.directives.push(L),le}getControl(L){return this.form.get(L.path)}removeControl(L){Vn(L.control||null,L,!1),function Or(K,z){const L=K.indexOf(z);L>-1&&K.splice(L,1)}(this.directives,L)}addFormGroup(L){this._setUpFormContainer(L)}removeFormGroup(L){this._cleanUpFormContainer(L)}getFormGroup(L){return this.form.get(L.path)}addFormArray(L){this._setUpFormContainer(L)}removeFormArray(L){this._cleanUpFormContainer(L)}getFormArray(L){return this.form.get(L.path)}updateModel(L,le){this.form.get(L.path).setValue(le)}onSubmit(L){return this.submitted=!0,function as(K,z){K._syncPendingControls(),z.forEach(L=>{const le=L.control;"submit"===le.updateOn&&le._pendingChange&&(L.viewToModelUpdate(le._pendingValue),le._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(L),"dialog"===L?.target?.method}onReset(){this.resetForm()}resetForm(L){this.form.reset(L),this.submitted=!1}_updateDomValue(){this.directives.forEach(L=>{const le=L.control,Pt=this.form.get(L.path);le!==Pt&&(Vn(le||null,L),(K=>K instanceof Ks)(Pt)&&(Xt(Pt,L,this.callSetDisabledState),L.control=Pt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(L){const le=this.form.get(L.path);(function gr(K,z){Ws(K,z)})(le,L),le.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(L){if(this.form){const le=this.form.get(L.path);le&&function Zn(K,z){return St(K,z)}(le,L)&&le.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ws(this.form,this),this._oldForm&&St(this._oldForm,this)}_checkFormPresent(){}}return K.\u0275fac=function(L){return new(L||K)(a.Y36(ht,10),a.Y36(Ce,10),a.Y36(ge,8))},K.\u0275dir=a.lG2({type:K,selectors:[["","formGroup",""]],hostBindings:function(L,le){1&L&&a.NdJ("submit",function(pn){return le.onSubmit(pn)})("reset",function(){return le.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([Fo]),a.qOj,a.TTD]}),K})();const Na={provide:pr,useExisting:(0,a.Gpc)(()=>ti)};let ti=(()=>{class K extends pr{set isDisabled(L){}constructor(L,le,Pt,pn,Es){super(),this._ngModelWarningConfig=Es,this._added=!1,this.update=new a.vpe,this._ngModelWarningSent=!1,this._parent=L,this._setValidators(le),this._setAsyncValidators(Pt),this.valueAccessor=function En(K,z){if(!z)return null;let L,le,Pt;return Array.isArray(z),z.forEach(pn=>{pn.constructor===st?L=pn:function Aa(K){return Object.getPrototypeOf(K.constructor)===je}(pn)?le=pn:Pt=pn}),Pt||le||L||null}(0,pn)}ngOnChanges(L){this._added||this._setUpControl(),function Wo(K,z){if(!K.hasOwnProperty("model"))return!1;const L=K.model;return!!L.isFirstChange()||!Object.is(z,L.currentValue)}(L,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(L){this.viewModel=L,this.update.emit(L)}get path(){return function mt(K,z){return[...z.path,K]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return K._ngModelWarningSentOnce=!1,K.\u0275fac=function(L){return new(L||K)(a.Y36(jn,13),a.Y36(ht,10),a.Y36(Ce,10),a.Y36($e,10),a.Y36(Tr,8))},K.\u0275dir=a.lG2({type:K,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[a._Bn([Na]),a.qOj,a.TTD]}),K})(),xi=(()=>{class K{constructor(){this._validator=Bn}ngOnChanges(L){if(this.inputName in L){const le=this.normalizeInput(L[this.inputName].currentValue);this._enabled=this.enabled(le),this._validator=this._enabled?this.createValidator(le):Bn,this._onChange&&this._onChange()}}validate(L){return this._validator(L)}registerOnValidatorChange(L){this._onChange=L}enabled(L){return null!=L}}return K.\u0275fac=function(L){return new(L||K)},K.\u0275dir=a.lG2({type:K,features:[a.TTD]}),K})();const ou={provide:ht,useExisting:(0,a.Gpc)(()=>So),multi:!0},$a={provide:ht,useExisting:(0,a.Gpc)(()=>$s),multi:!0};let So=(()=>{class K extends xi{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=a.D6c,this.createValidator=L=>Yt}enabled(L){return L}}return K.\u0275fac=function(){let z;return function(le){return(z||(z=a.n5z(K)))(le||K)}}(),K.\u0275dir=a.lG2({type:K,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(L,le){2&L&&a.uIk("required",le._enabled?"":null)},inputs:{required:"required"},features:[a._Bn([ou]),a.qOj]}),K})(),$s=(()=>{class K extends So{constructor(){super(...arguments),this.createValidator=L=>Ut}}return K.\u0275fac=function(){let z;return function(le){return(z||(z=a.n5z(K)))(le||K)}}(),K.\u0275dir=a.lG2({type:K,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(L,le){2&L&&a.uIk("required",le._enabled?"":null)},features:[a._Bn([$a]),a.qOj]}),K})(),Oa=(()=>{class K{}return K.\u0275fac=function(L){return new(L||K)},K.\u0275mod=a.oAB({type:K}),K.\u0275inj=a.cJS({imports:[gt]}),K})();class mo extends Oe{constructor(z,L,le){super(At(L),Ue(le,L)),this.controls=z,this._initObservables(),this._setUpdateStrategy(L),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(z){return this.controls[this._adjustIndex(z)]}push(z,L={}){this.controls.push(z),this._registerControl(z),this.updateValueAndValidity({emitEvent:L.emitEvent}),this._onCollectionChange()}insert(z,L,le={}){this.controls.splice(z,0,L),this._registerControl(L),this.updateValueAndValidity({emitEvent:le.emitEvent})}removeAt(z,L={}){let le=this._adjustIndex(z);le<0&&(le=0),this.controls[le]&&this.controls[le]._registerOnCollectionChange(()=>{}),this.controls.splice(le,1),this.updateValueAndValidity({emitEvent:L.emitEvent})}setControl(z,L,le={}){let Pt=this._adjustIndex(z);Pt<0&&(Pt=0),this.controls[Pt]&&this.controls[Pt]._registerOnCollectionChange(()=>{}),this.controls.splice(Pt,1),L&&(this.controls.splice(Pt,0,L),this._registerControl(L)),this.updateValueAndValidity({emitEvent:le.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(z,L={}){ve(this,!1,z),z.forEach((le,Pt)=>{Ee(this,!1,Pt),this.at(Pt).setValue(le,{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L)}patchValue(z,L={}){null!=z&&(z.forEach((le,Pt)=>{this.at(Pt)&&this.at(Pt).patchValue(le,{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L))}reset(z=[],L={}){this._forEachChild((le,Pt)=>{le.reset(z[Pt],{onlySelf:!0,emitEvent:L.emitEvent})}),this._updatePristine(L),this._updateTouched(L),this.updateValueAndValidity(L)}getRawValue(){return this.controls.map(z=>z.getRawValue())}clear(z={}){this.controls.length<1||(this._forEachChild(L=>L._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:z.emitEvent}))}_adjustIndex(z){return z<0?z+this.length:z}_syncPendingControls(){let z=this.controls.reduce((L,le)=>!!le._syncPendingControls()||L,!1);return z&&this.updateValueAndValidity({onlySelf:!0}),z}_forEachChild(z){this.controls.forEach((L,le)=>{z(L,le)})}_updateValue(){this.value=this.controls.filter(z=>z.enabled||this.disabled).map(z=>z.value)}_anyControls(z){return this.controls.some(L=>L.enabled&&z(L))}_setUpControls(){this._forEachChild(z=>this._registerControl(z))}_allControlsDisabled(){for(const z of this.controls)if(z.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(z){z.setParent(this),z._registerOnCollectionChange(this._onCollectionChange)}_find(z){return this.at(z)??null}}function Ko(K){return!!K&&(void 0!==K.asyncValidators||void 0!==K.validators||void 0!==K.updateOn)}let Vo=(()=>{class K{constructor(){this.useNonNullable=!1}get nonNullable(){const L=new K;return L.useNonNullable=!0,L}group(L,le=null){const Pt=this._reduceControls(L);let pn={};return Ko(le)?pn=le:null!==le&&(pn.validators=le.validator,pn.asyncValidators=le.asyncValidator),new ut(Pt,pn)}record(L,le=null){const Pt=this._reduceControls(L);return new ke(Pt,le)}control(L,le,Pt){let pn={};return this.useNonNullable?(Ko(le)?pn=le:(pn.validators=le,pn.asyncValidators=Pt),new Ks(L,{...pn,nonNullable:!0})):new Ks(L,le,Pt)}array(L,le,Pt){const pn=L.map(Es=>this._createControl(Es));return new mo(pn,le,Pt)}_reduceControls(L){const le={};return Object.keys(L).forEach(Pt=>{le[Pt]=this._createControl(L[Pt])}),le}_createControl(L){return L instanceof Ks||L instanceof Oe?L:Array.isArray(L)?this.control(L[0],L.length>1?L[1]:null,L.length>2?L[2]:null):this.control(L)}}return K.\u0275fac=function(L){return new(L||K)},K.\u0275prov=a.Yz7({token:K,factory:K.\u0275fac,providedIn:"root"}),K})(),_r=(()=>{class K{static withConfig(L){return{ngModule:K,providers:[{provide:ge,useValue:L.callSetDisabledState??Re}]}}}return K.\u0275fac=function(L){return new(L||K)},K.\u0275mod=a.oAB({type:K}),K.\u0275inj=a.cJS({imports:[Oa]}),K})(),ao=(()=>{class K{static withConfig(L){return{ngModule:K,providers:[{provide:Tr,useValue:L.warnOnNgModelWithFormControl??"always"},{provide:ge,useValue:L.callSetDisabledState??Re}]}}}return K.\u0275fac=function(L){return new(L||K)},K.\u0275mod=a.oAB({type:K}),K.\u0275inj=a.cJS({imports:[Oa]}),K})()},9906:(Nn,lt,Y)=>{"use strict";Y.d(lt,{PW:()=>ra});var a=Y(2560),V=Y(4497),ee=Y(4851);function re(se){return new a.vHH(3e3,!1)}function vn(){return typeof window<"u"&&typeof window.document<"u"}function Ge(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function yt(se){switch(se.length){case 0:return new ee.ZN;case 1:return se[0];default:return new ee.ZE(se)}}function Ke(se,I,M,$,ne=new Map,me=new Map){const Be=[],He=[];let wt=-1,Ht=null;if($.forEach(Hn=>{const qn=Hn.get("offset"),Wr=qn==wt,kr=Wr&&Ht||new Map;Hn.forEach((Cr,Dr)=>{let ni=Dr,qe=Cr;if("offset"!==Dr)switch(ni=I.normalizePropertyName(ni,Be),qe){case ee.k1:qe=ne.get(Dr);break;case ee.l3:qe=me.get(Dr);break;default:qe=I.normalizeStyleValue(Dr,ni,qe,Be)}kr.set(ni,qe)}),Wr||He.push(kr),Ht=kr,wt=qn}),Be.length)throw function en(se){return new a.vHH(3502,!1)}();return He}function pt(se,I,M,$){switch(I){case"start":se.onStart(()=>$(M&&Tn(M,"start",se)));break;case"done":se.onDone(()=>$(M&&Tn(M,"done",se)));break;case"destroy":se.onDestroy(()=>$(M&&Tn(M,"destroy",se)))}}function Tn(se,I,M){const me=zn(se.element,se.triggerName,se.fromState,se.toState,I||se.phaseName,M.totalTime??se.totalTime,!!M.disabled),Be=se._data;return null!=Be&&(me._data=Be),me}function zn(se,I,M,$,ne="",me=0,Be){return{element:se,triggerName:I,fromState:M,toState:$,phaseName:ne,totalTime:me,disabled:!!Be}}function jn(se,I,M){let $=se.get(I);return $||se.set(I,$=M),$}function pr(se){const I=se.indexOf(":");return[se.substring(1,I),se.slice(I+1)]}let ii=(se,I)=>!1,rs=(se,I,M)=>[],di=null;function Jt(se){const I=se.parentNode||se.host;return I===di?null:I}(Ge()||typeof Element<"u")&&(vn()?(di=(()=>document.documentElement)(),ii=(se,I)=>{for(;I;){if(I===se)return!0;I=Jt(I)}return!1}):ii=(se,I)=>se.contains(I),rs=(se,I,M)=>{if(M)return Array.from(se.querySelectorAll(I));const $=se.querySelector(I);return $?[$]:[]});let hi=null,Vr=!1;const br=ii,In=rs;let si=(()=>{class se{validateStyleProperty(M){return function bi(se){hi||(hi=function fr(){return typeof document<"u"?document.body:null}()||{},Vr=!!hi.style&&"WebkitAppearance"in hi.style);let I=!0;return hi.style&&!function jr(se){return"ebkit"==se.substring(1,6)}(se)&&(I=se in hi.style,!I&&Vr&&(I="Webkit"+se.charAt(0).toUpperCase()+se.slice(1)in hi.style)),I}(M)}matchesElement(M,$){return!1}containsElement(M,$){return br(M,$)}getParentElement(M){return Jt(M)}query(M,$,ne){return In(M,$,ne)}computeStyle(M,$,ne){return ne||""}animate(M,$,ne,me,Be,He=[],wt){return new ee.ZN(ne,me)}}return se.\u0275fac=function(M){return new(M||se)},se.\u0275prov=a.Yz7({token:se,factory:se.\u0275fac}),se})(),ei=(()=>{class se{}return se.NOOP=new si,se})();const Wn=1e3,Pi="ng-enter",xr="ng-leave",fs="ng-trigger",wr=".ng-trigger",vs="ng-animating",Rr=".ng-animating";function oi(se){if("number"==typeof se)return se;const I=se.match(/^(-?[\.\d]+)(m?s)/);return!I||I.length<2?0:pi(parseFloat(I[1]),I[2])}function pi(se,I){return"s"===I?se*Wn:se}function At(se,I,M){return se.hasOwnProperty("duration")?se:function Le(se,I,M){let ne,me=0,Be="";if("string"==typeof se){const He=se.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===He)return I.push(re()),{duration:0,delay:0,easing:""};ne=pi(parseFloat(He[1]),He[2]);const wt=He[3];null!=wt&&(me=pi(parseFloat(wt),He[4]));const Ht=He[5];Ht&&(Be=Ht)}else ne=se;if(!M){let He=!1,wt=I.length;ne<0&&(I.push(function Te(){return new a.vHH(3100,!1)}()),He=!0),me<0&&(I.push(function je(){return new a.vHH(3101,!1)}()),He=!0),He&&I.splice(wt,0,re())}return{duration:ne,delay:me,easing:Be}}(se,I,M)}function Ue(se,I={}){return Object.keys(se).forEach(M=>{I[M]=se[M]}),I}function ln(se){const I=new Map;return Object.keys(se).forEach(M=>{I.set(M,se[M])}),I}function ve(se,I=new Map,M){if(M)for(let[$,ne]of M)I.set($,ne);for(let[$,ne]of se)I.set($,ne);return I}function Oe(se,I,M){return M?I+":"+M+";":""}function ut(se){let I="";for(let M=0;M<se.style.length;M++){const $=se.style.item(M);I+=Oe(0,$,se.style.getPropertyValue($))}for(const M in se.style)se.style.hasOwnProperty(M)&&!M.startsWith("_")&&(I+=Oe(0,gi(M),se.style[M]));se.setAttribute("style",I)}function ze(se,I,M){se.style&&(I.forEach(($,ne)=>{const me=Ir(ne);M&&!M.has(ne)&&M.set(ne,se.style[me]),se.style[me]=$}),Ge()&&ut(se))}function on(se,I){se.style&&(I.forEach((M,$)=>{const ne=Ir($);se.style[ne]=""}),Ge()&&ut(se))}function ke(se){return Array.isArray(se)?1==se.length?se[0]:(0,ee.vP)(se):se}const ge=new RegExp("{{\\s*(.+?)\\s*}}","g");function Re(se){let I=[];if("string"==typeof se){let M;for(;M=ge.exec(se);)I.push(M[1]);ge.lastIndex=0}return I}function mt(se,I,M){const $=se.toString(),ne=$.replace(ge,(me,Be)=>{let He=I[Be];return null==He&&(M.push(function et(se){return new a.vHH(3003,!1)}()),He=""),He.toString()});return ne==$?se:ne}function Xt(se){const I=[];let M=se.next();for(;!M.done;)I.push(M.value),M=se.next();return I}const Vn=/-+([a-z0-9])/g;function Ir(se){return se.replace(Vn,(...I)=>I[1].toUpperCase())}function gi(se){return se.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function dt(se,I,M){switch(I.type){case 7:return se.visitTrigger(I,M);case 0:return se.visitState(I,M);case 1:return se.visitTransition(I,M);case 2:return se.visitSequence(I,M);case 3:return se.visitGroup(I,M);case 4:return se.visitAnimate(I,M);case 5:return se.visitKeyframes(I,M);case 6:return se.visitStyle(I,M);case 8:return se.visitReference(I,M);case 9:return se.visitAnimateChild(I,M);case 10:return se.visitAnimateRef(I,M);case 11:return se.visitQuery(I,M);case 12:return se.visitStagger(I,M);default:throw function De(se){return new a.vHH(3004,!1)}()}}function an(se,I){return window.getComputedStyle(se)[I]}const Li="*";function Ga(se,I){const M=[];return"string"==typeof se?se.split(/\s*,\s*/).forEach($=>function Wo(se,I,M){if(":"==se[0]){const wt=function Aa(se,I){switch(se){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(M,$)=>parseFloat($)>parseFloat(M);case":decrement":return(M,$)=>parseFloat($)<parseFloat(M);default:return I.push(function Ut(se){return new a.vHH(3016,!1)}()),"* => *"}}(se,M);if("function"==typeof wt)return void I.push(wt);se=wt}const $=se.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==$||$.length<4)return M.push(function Yt(se){return new a.vHH(3015,!1)}()),I;const ne=$[1],me=$[2],Be=$[3];I.push(Or(ne,Be));"<"==me[0]&&!(ne==Li&&Be==Li)&&I.push(Or(Be,ne))}($,M,I)):M.push(se),M}const as=new Set(["true","1"]),En=new Set(["false","0"]);function Or(se,I){const M=as.has(se)||En.has(se),$=as.has(I)||En.has(I);return(ne,me)=>{let Be=se==Li||se==ne,He=I==Li||I==me;return!Be&&M&&"boolean"==typeof ne&&(Be=ne?as.has(se):En.has(se)),!He&&$&&"boolean"==typeof me&&(He=me?as.has(I):En.has(I)),Be&&He}}const Fs=new RegExp("s*:selfs*,?","g");function $r(se,I,M,$){return new Ts(se).build(I,M,$)}class Ts{constructor(I){this._driver=I}build(I,M,$){const ne=new Is(M);return this._resetContextStyleTimingState(ne),dt(this,ke(I),ne)}_resetContextStyleTimingState(I){I.currentQuerySelector="",I.collectedStyles=new Map,I.collectedStyles.set("",new Map),I.currentTime=0}visitTrigger(I,M){let $=M.queryCount=0,ne=M.depCount=0;const me=[],Be=[];return"@"==I.name.charAt(0)&&M.errors.push(function xe(){return new a.vHH(3006,!1)}()),I.definitions.forEach(He=>{if(this._resetContextStyleTimingState(M),0==He.type){const wt=He,Ht=wt.name;Ht.toString().split(/\s*,\s*/).forEach(Hn=>{wt.name=Hn,me.push(this.visitState(wt,M))}),wt.name=Ht}else if(1==He.type){const wt=this.visitTransition(He,M);$+=wt.queryCount,ne+=wt.depCount,Be.push(wt)}else M.errors.push(function Vt(){return new a.vHH(3007,!1)}())}),{type:7,name:I.name,states:me,transitions:Be,queryCount:$,depCount:ne,options:null}}visitState(I,M){const $=this.visitStyle(I.styles,M),ne=I.options&&I.options.params||null;if($.containsDynamicStyles){const me=new Set,Be=ne||{};$.styles.forEach(He=>{He instanceof Map&&He.forEach(wt=>{Re(wt).forEach(Ht=>{Be.hasOwnProperty(Ht)||me.add(Ht)})})}),me.size&&(Xt(me.values()),M.errors.push(function st(se,I){return new a.vHH(3008,!1)}()))}return{type:0,name:I.name,style:$,options:ne?{params:ne}:null}}visitTransition(I,M){M.queryCount=0,M.depCount=0;const $=dt(this,ke(I.animation),M);return{type:1,matchers:Ga(I.expr,M.errors),animation:$,queryCount:M.queryCount,depCount:M.depCount,options:qs(I.options)}}visitSequence(I,M){return{type:2,steps:I.steps.map($=>dt(this,$,M)),options:qs(I.options)}}visitGroup(I,M){const $=M.currentTime;let ne=0;const me=I.steps.map(Be=>{M.currentTime=$;const He=dt(this,Be,M);return ne=Math.max(ne,M.currentTime),He});return M.currentTime=ne,{type:3,steps:me,options:qs(I.options)}}visitAnimate(I,M){const $=function bo(se,I){if(se.hasOwnProperty("duration"))return se;if("number"==typeof se)return no(At(se,I).duration,0,"");const M=se;if(M.split(/\s+/).some(me=>"{"==me.charAt(0)&&"{"==me.charAt(1))){const me=no(0,0,"");return me.dynamic=!0,me.strValue=M,me}const ne=At(M,I);return no(ne.duration,ne.delay,ne.easing)}(I.timings,M.errors);M.currentAnimateTimings=$;let ne,me=I.styles?I.styles:(0,ee.oB)({});if(5==me.type)ne=this.visitKeyframes(me,M);else{let Be=I.styles,He=!1;if(!Be){He=!0;const Ht={};$.easing&&(Ht.easing=$.easing),Be=(0,ee.oB)(Ht)}M.currentTime+=$.duration+$.delay;const wt=this.visitStyle(Be,M);wt.isEmptyStep=He,ne=wt}return M.currentAnimateTimings=null,{type:4,timings:$,style:ne,options:null}}visitStyle(I,M){const $=this._makeStyleAst(I,M);return this._validateStyleAst($,M),$}_makeStyleAst(I,M){const $=[],ne=Array.isArray(I.styles)?I.styles:[I.styles];for(let He of ne)"string"==typeof He?He===ee.l3?$.push(He):M.errors.push(new a.vHH(3002,!1)):$.push(ln(He));let me=!1,Be=null;return $.forEach(He=>{if(He instanceof Map&&(He.has("easing")&&(Be=He.get("easing"),He.delete("easing")),!me))for(let wt of He.values())if(wt.toString().indexOf("{{")>=0){me=!0;break}}),{type:6,styles:$,easing:Be,offset:I.offset,containsDynamicStyles:me,options:null}}_validateStyleAst(I,M){const $=M.currentAnimateTimings;let ne=M.currentTime,me=M.currentTime;$&&me>0&&(me-=$.duration+$.delay),I.styles.forEach(Be=>{"string"!=typeof Be&&Be.forEach((He,wt)=>{const Ht=M.collectedStyles.get(M.currentQuerySelector),Hn=Ht.get(wt);let qn=!0;Hn&&(me!=ne&&me>=Hn.startTime&&ne<=Hn.endTime&&(M.errors.push(function at(se,I,M,$,ne){return new a.vHH(3010,!1)}()),qn=!1),me=Hn.startTime),qn&&Ht.set(wt,{startTime:me,endTime:ne}),M.options&&function Me(se,I,M){const $=I.params||{},ne=Re(se);ne.length&&ne.forEach(me=>{$.hasOwnProperty(me)||M.push(function $e(se){return new a.vHH(3001,!1)}())})}(He,M.options,M.errors)})})}visitKeyframes(I,M){const $={type:5,styles:[],options:null};if(!M.currentAnimateTimings)return M.errors.push(function ht(){return new a.vHH(3011,!1)}()),$;let me=0;const Be=[];let He=!1,wt=!1,Ht=0;const Hn=I.steps.map(qe=>{const Rt=this._makeStyleAst(qe,M);let Tt=null!=Rt.offset?Rt.offset:function Er(se){if("string"==typeof se)return null;let I=null;if(Array.isArray(se))se.forEach(M=>{if(M instanceof Map&&M.has("offset")){const $=M;I=parseFloat($.get("offset")),$.delete("offset")}});else if(se instanceof Map&&se.has("offset")){const M=se;I=parseFloat(M.get("offset")),M.delete("offset")}return I}(Rt.styles),Pn=0;return null!=Tt&&(me++,Pn=Rt.offset=Tt),wt=wt||Pn<0||Pn>1,He=He||Pn<Ht,Ht=Pn,Be.push(Pn),Rt});wt&&M.errors.push(function Ce(){return new a.vHH(3012,!1)}()),He&&M.errors.push(function Kt(){return new a.vHH(3200,!1)}());const qn=I.steps.length;let Wr=0;me>0&&me<qn?M.errors.push(function ct(){return new a.vHH(3202,!1)}()):0==me&&(Wr=1/(qn-1));const kr=qn-1,Cr=M.currentTime,Dr=M.currentAnimateTimings,ni=Dr.duration;return Hn.forEach((qe,Rt)=>{const Tt=Wr>0?Rt==kr?1:Wr*Rt:Be[Rt],Pn=Tt*ni;M.currentTime=Cr+Dr.delay+Pn,Dr.duration=Pn,this._validateStyleAst(qe,M),qe.offset=Tt,$.styles.push(qe)}),$}visitReference(I,M){return{type:8,animation:dt(this,ke(I.animation),M),options:qs(I.options)}}visitAnimateChild(I,M){return M.depCount++,{type:9,options:qs(I.options)}}visitAnimateRef(I,M){return{type:10,animation:this.visitReference(I.animation,M),options:qs(I.options)}}visitQuery(I,M){const $=M.currentQuerySelector,ne=I.options||{};M.queryCount++,M.currentQuery=I;const[me,Be]=function Xr(se){const I=!!se.split(/\s*,\s*/).find(M=>":self"==M);return I&&(se=se.replace(Fs,"")),se=se.replace(/@\*/g,wr).replace(/@\w+/g,M=>wr+"-"+M.slice(1)).replace(/:animating/g,Rr),[se,I]}(I.selector);M.currentQuerySelector=$.length?$+" "+me:me,jn(M.collectedStyles,M.currentQuerySelector,new Map);const He=dt(this,ke(I.animation),M);return M.currentQuery=null,M.currentQuerySelector=$,{type:11,selector:me,limit:ne.limit||0,optional:!!ne.optional,includeSelf:Be,animation:He,originalSelector:I.selector,options:qs(I.options)}}visitStagger(I,M){M.currentQuery||M.errors.push(function Se(){return new a.vHH(3013,!1)}());const $="full"===I.timings?{duration:0,delay:0,easing:"full"}:At(I.timings,M.errors,!0);return{type:12,animation:dt(this,ke(I.animation),M),timings:$,options:null}}}class Is{constructor(I){this.errors=I,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function qs(se){return se?(se=Ue(se)).params&&(se.params=function Ks(se){return se?Ue(se):null}(se.params)):se={},se}function no(se,I,M){return{duration:se,delay:I,easing:M}}function ro(se,I,M,$,ne,me,Be=null,He=!1){return{type:1,element:se,keyframes:I,preStyleProps:M,postStyleProps:$,duration:ne,delay:me,totalTime:ne+me,easing:Be,subTimeline:He}}class zr{constructor(){this._map=new Map}get(I){return this._map.get(I)||[]}append(I,M){let $=this._map.get(I);$||this._map.set(I,$=[]),$.push(...M)}has(I){return this._map.has(I)}clear(){this._map.clear()}}const js=new RegExp(":enter","g"),Zi=new RegExp(":leave","g");function Si(se,I,M,$,ne,me=new Map,Be=new Map,He,wt,Ht=[]){return(new so).buildKeyframes(se,I,M,$,ne,me,Be,He,wt,Ht)}class so{buildKeyframes(I,M,$,ne,me,Be,He,wt,Ht,Hn=[]){Ht=Ht||new zr;const qn=new Qe(I,M,Ht,ne,me,Hn,[]);qn.options=wt;const Wr=wt.delay?oi(wt.delay):0;qn.currentTimeline.delayNextStep(Wr),qn.currentTimeline.setStyles([Be],null,qn.errors,wt),dt(this,$,qn);const kr=qn.timelines.filter(Cr=>Cr.containsAnimation());if(kr.length&&He.size){let Cr;for(let Dr=kr.length-1;Dr>=0;Dr--){const ni=kr[Dr];if(ni.element===M){Cr=ni;break}}Cr&&!Cr.allowOnlyTimelineStyles()&&Cr.setStyles([He],null,qn.errors,wt)}return kr.length?kr.map(Cr=>Cr.buildKeyframes()):[ro(M,[],[],[],0,Wr,"",!1)]}visitTrigger(I,M){}visitState(I,M){}visitTransition(I,M){}visitAnimateChild(I,M){const $=M.subInstructions.get(M.element);if($){const ne=M.createSubContext(I.options),me=M.currentTimeline.currentTime,Be=this._visitSubInstructions($,ne,ne.options);me!=Be&&M.transformIntoNewTimeline(Be)}M.previousNode=I}visitAnimateRef(I,M){const $=M.createSubContext(I.options);$.transformIntoNewTimeline(),this._applyAnimationRefDelays([I.options,I.animation.options],M,$),this.visitReference(I.animation,$),M.transformIntoNewTimeline($.currentTimeline.currentTime),M.previousNode=I}_applyAnimationRefDelays(I,M,$){for(const ne of I){const me=ne?.delay;if(me){const Be="number"==typeof me?me:oi(mt(me,ne?.params??{},M.errors));$.delayNextStep(Be)}}}_visitSubInstructions(I,M,$){let me=M.currentTimeline.currentTime;const Be=null!=$.duration?oi($.duration):null,He=null!=$.delay?oi($.delay):null;return 0!==Be&&I.forEach(wt=>{const Ht=M.appendInstructionToTimeline(wt,Be,He);me=Math.max(me,Ht.duration+Ht.delay)}),me}visitReference(I,M){M.updateOptions(I.options,!0),dt(this,I.animation,M),M.previousNode=I}visitSequence(I,M){const $=M.subContextCount;let ne=M;const me=I.options;if(me&&(me.params||me.delay)&&(ne=M.createSubContext(me),ne.transformIntoNewTimeline(),null!=me.delay)){6==ne.previousNode.type&&(ne.currentTimeline.snapshotCurrentStyles(),ne.previousNode=po);const Be=oi(me.delay);ne.delayNextStep(Be)}I.steps.length&&(I.steps.forEach(Be=>dt(this,Be,ne)),ne.currentTimeline.applyStylesToKeyframe(),ne.subContextCount>$&&ne.transformIntoNewTimeline()),M.previousNode=I}visitGroup(I,M){const $=[];let ne=M.currentTimeline.currentTime;const me=I.options&&I.options.delay?oi(I.options.delay):0;I.steps.forEach(Be=>{const He=M.createSubContext(I.options);me&&He.delayNextStep(me),dt(this,Be,He),ne=Math.max(ne,He.currentTimeline.currentTime),$.push(He.currentTimeline)}),$.forEach(Be=>M.currentTimeline.mergeTimelineCollectedStyles(Be)),M.transformIntoNewTimeline(ne),M.previousNode=I}_visitTiming(I,M){if(I.dynamic){const $=I.strValue;return At(M.params?mt($,M.params,M.errors):$,M.errors)}return{duration:I.duration,delay:I.delay,easing:I.easing}}visitAnimate(I,M){const $=M.currentAnimateTimings=this._visitTiming(I.timings,M),ne=M.currentTimeline;$.delay&&(M.incrementTime($.delay),ne.snapshotCurrentStyles());const me=I.style;5==me.type?this.visitKeyframes(me,M):(M.incrementTime($.duration),this.visitStyle(me,M),ne.applyStylesToKeyframe()),M.currentAnimateTimings=null,M.previousNode=I}visitStyle(I,M){const $=M.currentTimeline,ne=M.currentAnimateTimings;!ne&&$.hasCurrentStyleProperties()&&$.forwardFrame();const me=ne&&ne.easing||I.easing;I.isEmptyStep?$.applyEmptyStep(me):$.setStyles(I.styles,me,M.errors,M.options),M.previousNode=I}visitKeyframes(I,M){const $=M.currentAnimateTimings,ne=M.currentTimeline.duration,me=$.duration,He=M.createSubContext().currentTimeline;He.easing=$.easing,I.styles.forEach(wt=>{He.forwardTime((wt.offset||0)*me),He.setStyles(wt.styles,wt.easing,M.errors,M.options),He.applyStylesToKeyframe()}),M.currentTimeline.mergeTimelineCollectedStyles(He),M.transformIntoNewTimeline(ne+me),M.previousNode=I}visitQuery(I,M){const $=M.currentTimeline.currentTime,ne=I.options||{},me=ne.delay?oi(ne.delay):0;me&&(6===M.previousNode.type||0==$&&M.currentTimeline.hasCurrentStyleProperties())&&(M.currentTimeline.snapshotCurrentStyles(),M.previousNode=po);let Be=$;const He=M.invokeQuery(I.selector,I.originalSelector,I.limit,I.includeSelf,!!ne.optional,M.errors);M.currentQueryTotal=He.length;let wt=null;He.forEach((Ht,Hn)=>{M.currentQueryIndex=Hn;const qn=M.createSubContext(I.options,Ht);me&&qn.delayNextStep(me),Ht===M.element&&(wt=qn.currentTimeline),dt(this,I.animation,qn),qn.currentTimeline.applyStylesToKeyframe(),Be=Math.max(Be,qn.currentTimeline.currentTime)}),M.currentQueryIndex=0,M.currentQueryTotal=0,M.transformIntoNewTimeline(Be),wt&&(M.currentTimeline.mergeTimelineCollectedStyles(wt),M.currentTimeline.snapshotCurrentStyles()),M.previousNode=I}visitStagger(I,M){const $=M.parentContext,ne=M.currentTimeline,me=I.timings,Be=Math.abs(me.duration),He=Be*(M.currentQueryTotal-1);let wt=Be*M.currentQueryIndex;switch(me.duration<0?"reverse":me.easing){case"reverse":wt=He-wt;break;case"full":wt=$.currentStaggerTime}const Hn=M.currentTimeline;wt&&Hn.delayNextStep(wt);const qn=Hn.currentTime;dt(this,I.animation,M),M.previousNode=I,$.currentStaggerTime=ne.currentTime-qn+(ne.startTime-$.currentTimeline.startTime)}}const po={};class Qe{constructor(I,M,$,ne,me,Be,He,wt){this._driver=I,this.element=M,this.subInstructions=$,this._enterClassName=ne,this._leaveClassName=me,this.errors=Be,this.timelines=He,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=po,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=wt||new We(this._driver,M,0),He.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(I,M){if(!I)return;const $=I;let ne=this.options;null!=$.duration&&(ne.duration=oi($.duration)),null!=$.delay&&(ne.delay=oi($.delay));const me=$.params;if(me){let Be=ne.params;Be||(Be=this.options.params={}),Object.keys(me).forEach(He=>{(!M||!Be.hasOwnProperty(He))&&(Be[He]=mt(me[He],Be,this.errors))})}}_copyOptions(){const I={};if(this.options){const M=this.options.params;if(M){const $=I.params={};Object.keys(M).forEach(ne=>{$[ne]=M[ne]})}}return I}createSubContext(I=null,M,$){const ne=M||this.element,me=new Qe(this._driver,ne,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(ne,$||0));return me.previousNode=this.previousNode,me.currentAnimateTimings=this.currentAnimateTimings,me.options=this._copyOptions(),me.updateOptions(I),me.currentQueryIndex=this.currentQueryIndex,me.currentQueryTotal=this.currentQueryTotal,me.parentContext=this,this.subContextCount++,me}transformIntoNewTimeline(I){return this.previousNode=po,this.currentTimeline=this.currentTimeline.fork(this.element,I),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(I,M,$){const ne={duration:M??I.duration,delay:this.currentTimeline.currentTime+($??0)+I.delay,easing:""},me=new gt(this._driver,I.element,I.keyframes,I.preStyleProps,I.postStyleProps,ne,I.stretchStartingKeyframe);return this.timelines.push(me),ne}incrementTime(I){this.currentTimeline.forwardTime(this.currentTimeline.duration+I)}delayNextStep(I){I>0&&this.currentTimeline.delayNextStep(I)}invokeQuery(I,M,$,ne,me,Be){let He=[];if(ne&&He.push(this.element),I.length>0){I=(I=I.replace(js,"."+this._enterClassName)).replace(Zi,"."+this._leaveClassName);let Ht=this._driver.query(this.element,I,1!=$);0!==$&&(Ht=$<0?Ht.slice(Ht.length+$,Ht.length):Ht.slice(0,$)),He.push(...Ht)}return!me&&0==He.length&&Be.push(function Je(se){return new a.vHH(3014,!1)}()),He}}class We{constructor(I,M,$,ne){this._driver=I,this.element=M,this.startTime=$,this._elementTimelineStylesLookup=ne,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(M),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(M,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(I){const M=1===this._keyframes.size&&this._pendingStyles.size;this.duration||M?(this.forwardTime(this.currentTime+I),M&&this.snapshotCurrentStyles()):this.startTime+=I}fork(I,M){return this.applyStylesToKeyframe(),new We(this._driver,I,M||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(I){this.applyStylesToKeyframe(),this.duration=I,this._loadKeyframe()}_updateStyle(I,M){this._localTimelineStyles.set(I,M),this._globalTimelineStyles.set(I,M),this._styleSummary.set(I,{time:this.currentTime,value:M})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(I){I&&this._previousKeyframe.set("easing",I);for(let[M,$]of this._globalTimelineStyles)this._backFill.set(M,$||ee.l3),this._currentKeyframe.set(M,ee.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(I,M,$,ne){M&&this._previousKeyframe.set("easing",M);const me=ne&&ne.params||{},Be=function un(se,I){const M=new Map;let $;return se.forEach(ne=>{if("*"===ne){$=$||I.keys();for(let me of $)M.set(me,ee.l3)}else ve(ne,M)}),M}(I,this._globalTimelineStyles);for(let[He,wt]of Be){const Ht=mt(wt,me,$);this._pendingStyles.set(He,Ht),this._localTimelineStyles.has(He)||this._backFill.set(He,this._globalTimelineStyles.get(He)??ee.l3),this._updateStyle(He,Ht)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((I,M)=>{this._currentKeyframe.set(M,I)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((I,M)=>{this._currentKeyframe.has(M)||this._currentKeyframe.set(M,I)}))}snapshotCurrentStyles(){for(let[I,M]of this._localTimelineStyles)this._pendingStyles.set(I,M),this._updateStyle(I,M)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const I=[];for(let M in this._currentKeyframe)I.push(M);return I}mergeTimelineCollectedStyles(I){I._styleSummary.forEach((M,$)=>{const ne=this._styleSummary.get($);(!ne||M.time>ne.time)&&this._updateStyle($,M.value)})}buildKeyframes(){this.applyStylesToKeyframe();const I=new Set,M=new Set,$=1===this._keyframes.size&&0===this.duration;let ne=[];this._keyframes.forEach((He,wt)=>{const Ht=ve(He,new Map,this._backFill);Ht.forEach((Hn,qn)=>{Hn===ee.k1?I.add(qn):Hn===ee.l3&&M.add(qn)}),$||Ht.set("offset",wt/this.duration),ne.push(Ht)});const me=I.size?Xt(I.values()):[],Be=M.size?Xt(M.values()):[];if($){const He=ne[0],wt=new Map(He);He.set("offset",0),wt.set("offset",1),ne=[He,wt]}return ro(this.element,ne,me,Be,this.duration,this.startTime,this.easing,!1)}}class gt extends We{constructor(I,M,$,ne,me,Be,He=!1){super(I,M,Be.delay),this.keyframes=$,this.preStyleProps=ne,this.postStyleProps=me,this._stretchStartingKeyframe=He,this.timings={duration:Be.duration,delay:Be.delay,easing:Be.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let I=this.keyframes,{delay:M,duration:$,easing:ne}=this.timings;if(this._stretchStartingKeyframe&&M){const me=[],Be=$+M,He=M/Be,wt=ve(I[0]);wt.set("offset",0),me.push(wt);const Ht=ve(I[0]);Ht.set("offset",zt(He)),me.push(Ht);const Hn=I.length-1;for(let qn=1;qn<=Hn;qn++){let Wr=ve(I[qn]);const kr=Wr.get("offset");Wr.set("offset",zt((M+kr*$)/Be)),me.push(Wr)}$=Be,M=0,ne="",I=me}return ro(this.element,I,this.preStyleProps,this.postStyleProps,$,M,ne,!0)}}function zt(se,I=3){const M=Math.pow(10,I-1);return Math.round(se*M)/M}class Sr{}const qr=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class bs extends Sr{normalizePropertyName(I,M){return Ir(I)}normalizeStyleValue(I,M,$,ne){let me="";const Be=$.toString().trim();if(qr.has(M)&&0!==$&&"0"!==$)if("number"==typeof $)me="px";else{const He=$.match(/^[+-]?[\d\.]+([a-z]*)$/);He&&0==He[1].length&&ne.push(function be(se,I){return new a.vHH(3005,!1)}())}return Be+me}}function Fo(se,I,M,$,ne,me,Be,He,wt,Ht,Hn,qn,Wr){return{type:0,element:se,triggerName:I,isRemovalTransition:ne,fromState:M,fromStyles:me,toState:$,toStyles:Be,timelines:He,queriedElements:wt,preStyleProps:Ht,postStyleProps:Hn,totalTime:qn,errors:Wr}}const mi={};class fa{constructor(I,M,$){this._triggerName=I,this.ast=M,this._stateStyles=$}match(I,M,$,ne){return function Bo(se,I,M,$,ne){return se.some(me=>me(I,M,$,ne))}(this.ast.matchers,I,M,$,ne)}buildStyles(I,M,$){let ne=this._stateStyles.get("*");return void 0!==I&&(ne=this._stateStyles.get(I?.toString())||ne),ne?ne.buildStyles(M,$):new Map}build(I,M,$,ne,me,Be,He,wt,Ht,Hn){const qn=[],Wr=this.ast.options&&this.ast.options.params||mi,Cr=this.buildStyles($,He&&He.params||mi,qn),Dr=wt&&wt.params||mi,ni=this.buildStyles(ne,Dr,qn),qe=new Set,Rt=new Map,Tt=new Map,Pn="void"===ne,yr={params:gu(Dr,Wr),delay:this.ast.options?.delay},Yr=Hn?[]:Si(I,M,this.ast.animation,me,Be,Cr,ni,yr,Ht,qn);let ui=0;if(Yr.forEach(Bs=>{ui=Math.max(Bs.duration+Bs.delay,ui)}),qn.length)return Fo(M,this._triggerName,$,ne,Pn,Cr,ni,[],[],Rt,Tt,ui,qn);Yr.forEach(Bs=>{const Vi=Bs.element,Rs=jn(Rt,Vi,new Set);Bs.preStyleProps.forEach(Ps=>Rs.add(Ps));const _u=jn(Tt,Vi,new Set);Bs.postStyleProps.forEach(Ps=>_u.add(Ps)),Vi!==M&&qe.add(Vi)});const lr=Xt(qe.values());return Fo(M,this._triggerName,$,ne,Pn,Cr,ni,Yr,lr,Rt,Tt,ui)}}function gu(se,I){const M=Ue(I);for(const $ in se)se.hasOwnProperty($)&&null!=se[$]&&(M[$]=se[$]);return M}class Co{constructor(I,M,$){this.styles=I,this.defaultParams=M,this.normalizer=$}buildStyles(I,M){const $=new Map,ne=Ue(this.defaultParams);return Object.keys(I).forEach(me=>{const Be=I[me];null!==Be&&(ne[me]=Be)}),this.styles.styles.forEach(me=>{"string"!=typeof me&&me.forEach((Be,He)=>{Be&&(Be=mt(Be,ne,M));const wt=this.normalizer.normalizePropertyName(He,M);Be=this.normalizer.normalizeStyleValue(He,wt,Be,M),$.set(He,Be)})}),$}}class ti{constructor(I,M,$){this.name=I,this.ast=M,this._normalizer=$,this.transitionFactories=[],this.states=new Map,M.states.forEach(ne=>{this.states.set(ne.name,new Co(ne.style,ne.options&&ne.options.params||{},$))}),su(this.states,"true","1"),su(this.states,"false","0"),M.transitions.forEach(ne=>{this.transitionFactories.push(new fa(I,ne,this.states))}),this.fallbackTransition=function $i(se,I,M){return new fa(se,{type:1,animation:{type:2,steps:[],options:null},matchers:[(Be,He)=>!0],options:null,queryCount:0,depCount:0},I)}(I,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(I,M,$,ne){return this.transitionFactories.find(Be=>Be.match(I,M,$,ne))||null}matchStyles(I,M,$){return this.fallbackTransition.buildStyles(I,M,$)}}function su(se,I,M){se.has(I)?se.has(M)||se.set(M,se.get(I)):se.has(M)&&se.set(I,se.get(M))}const Vu=new zr;class pa{constructor(I,M,$){this.bodyNode=I,this._driver=M,this._normalizer=$,this._animations=new Map,this._playersById=new Map,this.players=[]}register(I,M){const $=[],ne=[],me=$r(this._driver,M,$,ne);if($.length)throw function Bn(se){return new a.vHH(3503,!1)}();this._animations.set(I,me)}_buildPlayer(I,M,$){const ne=I.element,me=Ke(0,this._normalizer,0,I.keyframes,M,$);return this._driver.animate(ne,me,I.duration,I.delay,I.easing,[],!0)}create(I,M,$={}){const ne=[],me=this._animations.get(I);let Be;const He=new Map;if(me?(Be=Si(this._driver,M,me,Pi,xr,new Map,new Map,$,Vu,ne),Be.forEach(Hn=>{const qn=jn(He,Hn.element,new Map);Hn.postStyleProps.forEach(Wr=>qn.set(Wr,null))})):(ne.push(function Dn(){return new a.vHH(3300,!1)}()),Be=[]),ne.length)throw function qi(se){return new a.vHH(3504,!1)}();He.forEach((Hn,qn)=>{Hn.forEach((Wr,kr)=>{Hn.set(kr,this._driver.computeStyle(qn,kr,ee.l3))})});const Ht=yt(Be.map(Hn=>{const qn=He.get(Hn.element);return this._buildPlayer(Hn,new Map,qn)}));return this._playersById.set(I,Ht),Ht.onDestroy(()=>this.destroy(I)),this.players.push(Ht),Ht}destroy(I){const M=this._getPlayer(I);M.destroy(),this._playersById.delete(I);const $=this.players.indexOf(M);$>=0&&this.players.splice($,1)}_getPlayer(I){const M=this._playersById.get(I);if(!M)throw function It(se){return new a.vHH(3301,!1)}();return M}listen(I,M,$,ne){const me=zn(M,"","","");return pt(this._getPlayer(I),$,me,ne),()=>{}}command(I,M,$,ne){if("register"==$)return void this.register(I,ne[0]);if("create"==$)return void this.create(I,M,ne[0]||{});const me=this._getPlayer(I);switch($){case"play":me.play();break;case"pause":me.pause();break;case"reset":me.reset();break;case"restart":me.restart();break;case"finish":me.finish();break;case"init":me.init();break;case"setPosition":me.setPosition(parseFloat(ne[0]));break;case"destroy":this.destroy(I)}}}const Uu="ng-animate-queued",Io="ng-animate-disabled",ga=[],Bi={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ma={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},xi="__ng_removed";class ki{get params(){return this.options.params}constructor(I,M=""){this.namespaceId=M;const $=I&&I.hasOwnProperty("value");if(this.value=function $s(se){return se??null}($?I.value:I),$){const me=Ue(I);delete me.value,this.options=me}else this.options={};this.options.params||(this.options.params={})}absorbOptions(I){const M=I.params;if(M){const $=this.options.params;Object.keys(M).forEach(ne=>{null==$[ne]&&($[ne]=M[ne])})}}}const oo="void",ma=new ki(oo);class ja{constructor(I,M,$){this.id=I,this.hostElement=M,this._engine=$,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+I,ws(M,this._hostClassName)}listen(I,M,$,ne){if(!this._triggers.has(M))throw function _t(se,I){return new a.vHH(3302,!1)}();if(null==$||0==$.length)throw function Ot(se){return new a.vHH(3303,!1)}();if(!function go(se){return"start"==se||"done"==se}($))throw function Ct(se,I){return new a.vHH(3400,!1)}();const me=jn(this._elementListeners,I,[]),Be={name:M,phase:$,callback:ne};me.push(Be);const He=jn(this._engine.statesByElement,I,new Map);return He.has(M)||(ws(I,fs),ws(I,fs+"-"+M),He.set(M,ma)),()=>{this._engine.afterFlush(()=>{const wt=me.indexOf(Be);wt>=0&&me.splice(wt,1),this._triggers.has(M)||He.delete(M)})}}register(I,M){return!this._triggers.has(I)&&(this._triggers.set(I,M),!0)}_getTrigger(I){const M=this._triggers.get(I);if(!M)throw function Wt(se){return new a.vHH(3401,!1)}();return M}trigger(I,M,$,ne=!0){const me=this._getTrigger(M),Be=new $a(this.id,M,I);let He=this._engine.statesByElement.get(I);He||(ws(I,fs),ws(I,fs+"-"+M),this._engine.statesByElement.set(I,He=new Map));let wt=He.get(M);const Ht=new ki($,this.id);if(!($&&$.hasOwnProperty("value"))&&wt&&Ht.absorbOptions(wt.options),He.set(M,Ht),wt||(wt=ma),Ht.value!==oo&&wt.value===Ht.value){if(!function Wa(se,I){const M=Object.keys(se),$=Object.keys(I);if(M.length!=$.length)return!1;for(let ne=0;ne<M.length;ne++){const me=M[ne];if(!I.hasOwnProperty(me)||se[me]!==I[me])return!1}return!0}(wt.params,Ht.params)){const Dr=[],ni=me.matchStyles(wt.value,wt.params,Dr),qe=me.matchStyles(Ht.value,Ht.params,Dr);Dr.length?this._engine.reportError(Dr):this._engine.afterFlush(()=>{on(I,ni),ze(I,qe)})}return}const Wr=jn(this._engine.playersByElement,I,[]);Wr.forEach(Dr=>{Dr.namespaceId==this.id&&Dr.triggerName==M&&Dr.queued&&Dr.destroy()});let kr=me.matchTransition(wt.value,Ht.value,I,Ht.params),Cr=!1;if(!kr){if(!ne)return;kr=me.fallbackTransition,Cr=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:I,triggerName:M,transition:kr,fromState:wt,toState:Ht,player:Be,isFallbackTransition:Cr}),Cr||(ws(I,Uu),Be.onStart(()=>{Ai(I,Uu)})),Be.onDone(()=>{let Dr=this.players.indexOf(Be);Dr>=0&&this.players.splice(Dr,1);const ni=this._engine.playersByElement.get(I);if(ni){let qe=ni.indexOf(Be);qe>=0&&ni.splice(qe,1)}}),this.players.push(Be),Wr.push(Be),Be}deregister(I){this._triggers.delete(I),this._engine.statesByElement.forEach(M=>M.delete(I)),this._elementListeners.forEach((M,$)=>{this._elementListeners.set($,M.filter(ne=>ne.name!=I))})}clearElementCache(I){this._engine.statesByElement.delete(I),this._elementListeners.delete(I);const M=this._engine.playersByElement.get(I);M&&(M.forEach($=>$.destroy()),this._engine.playersByElement.delete(I))}_signalRemovalForInnerTriggers(I,M){const $=this._engine.driver.query(I,wr,!0);$.forEach(ne=>{if(ne[xi])return;const me=this._engine.fetchNamespacesByElement(ne);me.size?me.forEach(Be=>Be.triggerLeaveAnimation(ne,M,!1,!0)):this.clearElementCache(ne)}),this._engine.afterFlushAnimationsDone(()=>$.forEach(ne=>this.clearElementCache(ne)))}triggerLeaveAnimation(I,M,$,ne){const me=this._engine.statesByElement.get(I),Be=new Map;if(me){const He=[];if(me.forEach((wt,Ht)=>{if(Be.set(Ht,wt.value),this._triggers.has(Ht)){const Hn=this.trigger(I,Ht,oo,ne);Hn&&He.push(Hn)}}),He.length)return this._engine.markElementAsRemoved(this.id,I,!0,M,Be),$&&yt(He).onDone(()=>this._engine.processLeaveNode(I)),!0}return!1}prepareLeaveAnimationListeners(I){const M=this._elementListeners.get(I),$=this._engine.statesByElement.get(I);if(M&&$){const ne=new Set;M.forEach(me=>{const Be=me.name;if(ne.has(Be))return;ne.add(Be);const wt=this._triggers.get(Be).fallbackTransition,Ht=$.get(Be)||ma,Hn=new ki(oo),qn=new $a(this.id,Be,I);this._engine.totalQueuedPlayers++,this._queue.push({element:I,triggerName:Be,transition:wt,fromState:Ht,toState:Hn,player:qn,isFallbackTransition:!0})})}}removeNode(I,M){const $=this._engine;if(I.childElementCount&&this._signalRemovalForInnerTriggers(I,M),this.triggerLeaveAnimation(I,M,!0))return;let ne=!1;if($.totalAnimations){const me=$.players.length?$.playersByQueriedElement.get(I):[];if(me&&me.length)ne=!0;else{let Be=I;for(;Be=Be.parentNode;)if($.statesByElement.get(Be)){ne=!0;break}}}if(this.prepareLeaveAnimationListeners(I),ne)$.markElementAsRemoved(this.id,I,!1,M);else{const me=I[xi];(!me||me===Bi)&&($.afterFlush(()=>this.clearElementCache(I)),$.destroyInnerAnimations(I),$._onRemovalComplete(I,M))}}insertNode(I,M){ws(I,this._hostClassName)}drainQueuedTransitions(I){const M=[];return this._queue.forEach($=>{const ne=$.player;if(ne.destroyed)return;const me=$.element,Be=this._elementListeners.get(me);Be&&Be.forEach(He=>{if(He.name==$.triggerName){const wt=zn(me,$.triggerName,$.fromState.value,$.toState.value);wt._data=I,pt($.player,He.phase,wt,He.callback)}}),ne.markedForDestroy?this._engine.afterFlush(()=>{ne.destroy()}):M.push($)}),this._queue=[],M.sort(($,ne)=>{const me=$.transition.ast.depCount,Be=ne.transition.ast.depCount;return 0==me||0==Be?me-Be:this._engine.driver.containsElement($.element,ne.element)?1:-1})}destroy(I){this.players.forEach(M=>M.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,I)}elementContainsData(I){let M=!1;return this._elementListeners.has(I)&&(M=!0),M=!!this._queue.find($=>$.element===I)||M,M}}class ou{_onRemovalComplete(I,M){this.onRemovalComplete(I,M)}constructor(I,M,$){this.bodyNode=I,this.driver=M,this._normalizer=$,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(ne,me)=>{}}get queuedPlayers(){const I=[];return this._namespaceList.forEach(M=>{M.players.forEach($=>{$.queued&&I.push($)})}),I}createNamespace(I,M){const $=new ja(I,M,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,M)?this._balanceNamespaceList($,M):(this.newHostElements.set(M,$),this.collectEnterElement(M)),this._namespaceLookup[I]=$}_balanceNamespaceList(I,M){const $=this._namespaceList,ne=this.namespacesByHostElement;if($.length-1>=0){let Be=!1,He=this.driver.getParentElement(M);for(;He;){const wt=ne.get(He);if(wt){const Ht=$.indexOf(wt);$.splice(Ht+1,0,I),Be=!0;break}He=this.driver.getParentElement(He)}Be||$.unshift(I)}else $.push(I);return ne.set(M,I),I}register(I,M){let $=this._namespaceLookup[I];return $||($=this.createNamespace(I,M)),$}registerTrigger(I,M,$){let ne=this._namespaceLookup[I];ne&&ne.register(M,$)&&this.totalAnimations++}destroy(I,M){if(!I)return;const $=this._fetchNamespace(I);this.afterFlush(()=>{this.namespacesByHostElement.delete($.hostElement),delete this._namespaceLookup[I];const ne=this._namespaceList.indexOf($);ne>=0&&this._namespaceList.splice(ne,1)}),this.afterFlushAnimationsDone(()=>$.destroy(M))}_fetchNamespace(I){return this._namespaceLookup[I]}fetchNamespacesByElement(I){const M=new Set,$=this.statesByElement.get(I);if($)for(let ne of $.values())if(ne.namespaceId){const me=this._fetchNamespace(ne.namespaceId);me&&M.add(me)}return M}trigger(I,M,$,ne){if(wo(M)){const me=this._fetchNamespace(I);if(me)return me.trigger(M,$,ne),!0}return!1}insertNode(I,M,$,ne){if(!wo(M))return;const me=M[xi];if(me&&me.setForRemoval){me.setForRemoval=!1,me.setForMove=!0;const Be=this.collectedLeaveElements.indexOf(M);Be>=0&&this.collectedLeaveElements.splice(Be,1)}if(I){const Be=this._fetchNamespace(I);Be&&Be.insertNode(M,$)}ne&&this.collectEnterElement(M)}collectEnterElement(I){this.collectedEnterElements.push(I)}markElementAsDisabled(I,M){M?this.disabledNodes.has(I)||(this.disabledNodes.add(I),ws(I,Io)):this.disabledNodes.has(I)&&(this.disabledNodes.delete(I),Ai(I,Io))}removeNode(I,M,$,ne){if(wo(M)){const me=I?this._fetchNamespace(I):null;if(me?me.removeNode(M,ne):this.markElementAsRemoved(I,M,!1,ne),$){const Be=this.namespacesByHostElement.get(M);Be&&Be.id!==I&&Be.removeNode(M,ne)}}else this._onRemovalComplete(M,ne)}markElementAsRemoved(I,M,$,ne,me){this.collectedLeaveElements.push(M),M[xi]={namespaceId:I,setForRemoval:ne,hasAnimation:$,removedBeforeQueried:!1,previousTriggersValues:me}}listen(I,M,$,ne,me){return wo(M)?this._fetchNamespace(I).listen(M,$,ne,me):()=>{}}_buildInstruction(I,M,$,ne,me){return I.transition.build(this.driver,I.element,I.fromState.value,I.toState.value,$,ne,I.fromState.options,I.toState.options,M,me)}destroyInnerAnimations(I){let M=this.driver.query(I,wr,!0);M.forEach($=>this.destroyActiveAnimationsForElement($)),0!=this.playersByQueriedElement.size&&(M=this.driver.query(I,Rr,!0),M.forEach($=>this.finishActiveQueriedAnimationOnElement($)))}destroyActiveAnimationsForElement(I){const M=this.playersByElement.get(I);M&&M.forEach($=>{$.queued?$.markedForDestroy=!0:$.destroy()})}finishActiveQueriedAnimationOnElement(I){const M=this.playersByQueriedElement.get(I);M&&M.forEach($=>$.finish())}whenRenderingDone(){return new Promise(I=>{if(this.players.length)return yt(this.players).onDone(()=>I());I()})}processLeaveNode(I){const M=I[xi];if(M&&M.setForRemoval){if(I[xi]=Bi,M.namespaceId){this.destroyInnerAnimations(I);const $=this._fetchNamespace(M.namespaceId);$&&$.clearElementCache(I)}this._onRemovalComplete(I,M.setForRemoval)}I.classList?.contains(Io)&&this.markElementAsDisabled(I,!1),this.driver.query(I,".ng-animate-disabled",!0).forEach($=>{this.markElementAsDisabled($,!1)})}flush(I=-1){let M=[];if(this.newHostElements.size&&(this.newHostElements.forEach(($,ne)=>this._balanceNamespaceList($,ne)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let $=0;$<this.collectedEnterElements.length;$++)ws(this.collectedEnterElements[$],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const $=[];try{M=this._flushAnimations($,I)}finally{for(let ne=0;ne<$.length;ne++)$[ne]()}}else for(let $=0;$<this.collectedLeaveElements.length;$++)this.processLeaveNode(this.collectedLeaveElements[$]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach($=>$()),this._flushFns=[],this._whenQuietFns.length){const $=this._whenQuietFns;this._whenQuietFns=[],M.length?yt(M).onDone(()=>{$.forEach(ne=>ne())}):$.forEach(ne=>ne())}}reportError(I){throw function Lt(se){return new a.vHH(3402,!1)}()}_flushAnimations(I,M){const $=new zr,ne=[],me=new Map,Be=[],He=new Map,wt=new Map,Ht=new Map,Hn=new Set;this.disabledNodes.forEach(sr=>{Hn.add(sr);const On=this.driver.query(sr,".ng-animate-queued",!0);for(let hr=0;hr<On.length;hr++)Hn.add(On[hr])});const qn=this.bodyNode,Wr=Array.from(this.statesByElement.keys()),kr=us(Wr,this.collectedEnterElements),Cr=new Map;let Dr=0;kr.forEach((sr,On)=>{const hr=Pi+Dr++;Cr.set(On,hr),sr.forEach(li=>ws(li,hr))});const ni=[],qe=new Set,Rt=new Set;for(let sr=0;sr<this.collectedLeaveElements.length;sr++){const On=this.collectedLeaveElements[sr],hr=On[xi];hr&&hr.setForRemoval&&(ni.push(On),qe.add(On),hr.hasAnimation?this.driver.query(On,".ng-star-inserted",!0).forEach(li=>qe.add(li)):Rt.add(On))}const Tt=new Map,Pn=us(Wr,Array.from(qe));Pn.forEach((sr,On)=>{const hr=xr+Dr++;Tt.set(On,hr),sr.forEach(li=>ws(li,hr))}),I.push(()=>{kr.forEach((sr,On)=>{const hr=Cr.get(On);sr.forEach(li=>Ai(li,hr))}),Pn.forEach((sr,On)=>{const hr=Tt.get(On);sr.forEach(li=>Ai(li,hr))}),ni.forEach(sr=>{this.processLeaveNode(sr)})});const yr=[],Yr=[];for(let sr=this._namespaceList.length-1;sr>=0;sr--)this._namespaceList[sr].drainQueuedTransitions(M).forEach(hr=>{const li=hr.player,x=hr.element;if(yr.push(li),this.collectedEnterElements.length){const kn=x[xi];if(kn&&kn.setForMove){if(kn.previousTriggersValues&&kn.previousTriggersValues.has(hr.triggerName)){const _i=kn.previousTriggersValues.get(hr.triggerName),Br=this.statesByElement.get(hr.element);if(Br&&Br.has(hr.triggerName)){const Fr=Br.get(hr.triggerName);Fr.value=_i,Br.set(hr.triggerName,Fr)}}return void li.destroy()}}const J=!qn||!this.driver.containsElement(qn,x),B=Tt.get(x),ue=Cr.get(x),we=this._buildInstruction(hr,$,ue,B,J);if(we.errors&&we.errors.length)return void Yr.push(we);if(J)return li.onStart(()=>on(x,we.fromStyles)),li.onDestroy(()=>ze(x,we.toStyles)),void ne.push(li);if(hr.isFallbackTransition)return li.onStart(()=>on(x,we.fromStyles)),li.onDestroy(()=>ze(x,we.toStyles)),void ne.push(li);const Et=[];we.timelines.forEach(kn=>{kn.stretchStartingKeyframe=!0,this.disabledNodes.has(kn.element)||Et.push(kn)}),we.timelines=Et,$.append(x,we.timelines),Be.push({instruction:we,player:li,element:x}),we.queriedElements.forEach(kn=>jn(He,kn,[]).push(li)),we.preStyleProps.forEach((kn,_i)=>{if(kn.size){let Br=wt.get(_i);Br||wt.set(_i,Br=new Set),kn.forEach((Fr,Pr)=>Br.add(Pr))}}),we.postStyleProps.forEach((kn,_i)=>{let Br=Ht.get(_i);Br||Ht.set(_i,Br=new Set),kn.forEach((Fr,Pr)=>Br.add(Pr))})});if(Yr.length){const sr=[];Yr.forEach(On=>{sr.push(function hn(se,I){return new a.vHH(3505,!1)}())}),yr.forEach(On=>On.destroy()),this.reportError(sr)}const ui=new Map,lr=new Map;Be.forEach(sr=>{const On=sr.element;$.has(On)&&(lr.set(On,On),this._beforeAnimationBuild(sr.player.namespaceId,sr.instruction,ui))}),ne.forEach(sr=>{const On=sr.element;this._getPreviousPlayers(On,!1,sr.namespaceId,sr.triggerName,null).forEach(li=>{jn(ui,On,[]).push(li),li.destroy()})});const Bs=ni.filter(sr=>Oa(sr,wt,Ht)),Vi=new Map;Ls(Vi,this.driver,Rt,Ht,ee.l3).forEach(sr=>{Oa(sr,wt,Ht)&&Bs.push(sr)});const _u=new Map;kr.forEach((sr,On)=>{Ls(_u,this.driver,new Set(sr),wt,ee.k1)}),Bs.forEach(sr=>{const On=Vi.get(sr),hr=_u.get(sr);Vi.set(sr,new Map([...Array.from(On?.entries()??[]),...Array.from(hr?.entries()??[])]))});const Ps=[],ba=[],Fi={};Be.forEach(sr=>{const{element:On,player:hr,instruction:li}=sr;if($.has(On)){if(Hn.has(On))return hr.onDestroy(()=>ze(On,li.toStyles)),hr.disabled=!0,hr.overrideTotalTime(li.totalTime),void ne.push(hr);let x=Fi;if(lr.size>1){let B=On;const ue=[];for(;B=B.parentNode;){const we=lr.get(B);if(we){x=we;break}ue.push(B)}ue.forEach(we=>lr.set(we,x))}const J=this._buildAnimation(hr.namespaceId,li,ui,me,_u,Vi);if(hr.setRealPlayer(J),x===Fi)Ps.push(hr);else{const B=this.playersByElement.get(x);B&&B.length&&(hr.parentPlayer=yt(B)),ne.push(hr)}}else on(On,li.fromStyles),hr.onDestroy(()=>ze(On,li.toStyles)),ba.push(hr),Hn.has(On)&&ne.push(hr)}),ba.forEach(sr=>{const On=me.get(sr.element);if(On&&On.length){const hr=yt(On);sr.setRealPlayer(hr)}}),ne.forEach(sr=>{sr.parentPlayer?sr.syncPlayerEvents(sr.parentPlayer):sr.destroy()});for(let sr=0;sr<ni.length;sr++){const On=ni[sr],hr=On[xi];if(Ai(On,xr),hr&&hr.hasAnimation)continue;let li=[];if(He.size){let J=He.get(On);J&&J.length&&li.push(...J);let B=this.driver.query(On,Rr,!0);for(let ue=0;ue<B.length;ue++){let we=He.get(B[ue]);we&&we.length&&li.push(...we)}}const x=li.filter(J=>!J.destroyed);x.length?Ei(this,On,x):this.processLeaveNode(On)}return ni.length=0,Ps.forEach(sr=>{this.players.push(sr),sr.onDone(()=>{sr.destroy();const On=this.players.indexOf(sr);this.players.splice(On,1)}),sr.play()}),Ps}elementContainsData(I,M){let $=!1;const ne=M[xi];return ne&&ne.setForRemoval&&($=!0),this.playersByElement.has(M)&&($=!0),this.playersByQueriedElement.has(M)&&($=!0),this.statesByElement.has(M)&&($=!0),this._fetchNamespace(I).elementContainsData(M)||$}afterFlush(I){this._flushFns.push(I)}afterFlushAnimationsDone(I){this._whenQuietFns.push(I)}_getPreviousPlayers(I,M,$,ne,me){let Be=[];if(M){const He=this.playersByQueriedElement.get(I);He&&(Be=He)}else{const He=this.playersByElement.get(I);if(He){const wt=!me||me==oo;He.forEach(Ht=>{Ht.queued||!wt&&Ht.triggerName!=ne||Be.push(Ht)})}}return($||ne)&&(Be=Be.filter(He=>!($&&$!=He.namespaceId||ne&&ne!=He.triggerName))),Be}_beforeAnimationBuild(I,M,$){const me=M.element,Be=M.isRemovalTransition?void 0:I,He=M.isRemovalTransition?void 0:M.triggerName;for(const wt of M.timelines){const Ht=wt.element,Hn=Ht!==me,qn=jn($,Ht,[]);this._getPreviousPlayers(Ht,Hn,Be,He,M.toState).forEach(kr=>{const Cr=kr.getRealPlayer();Cr.beforeDestroy&&Cr.beforeDestroy(),kr.destroy(),qn.push(kr)})}on(me,M.fromStyles)}_buildAnimation(I,M,$,ne,me,Be){const He=M.triggerName,wt=M.element,Ht=[],Hn=new Set,qn=new Set,Wr=M.timelines.map(Cr=>{const Dr=Cr.element;Hn.add(Dr);const ni=Dr[xi];if(ni&&ni.removedBeforeQueried)return new ee.ZN(Cr.duration,Cr.delay);const qe=Dr!==wt,Rt=function is(se){const I=[];return As(se,I),I}(($.get(Dr)||ga).map(ui=>ui.getRealPlayer())).filter(ui=>!!ui.element&&ui.element===Dr),Tt=me.get(Dr),Pn=Be.get(Dr),yr=Ke(0,this._normalizer,0,Cr.keyframes,Tt,Pn),Yr=this._buildPlayer(Cr,yr,Rt);if(Cr.subTimeline&&ne&&qn.add(Dr),qe){const ui=new $a(I,He,Dr);ui.setRealPlayer(Yr),Ht.push(ui)}return Yr});Ht.forEach(Cr=>{jn(this.playersByQueriedElement,Cr.element,[]).push(Cr),Cr.onDone(()=>function So(se,I,M){let $=se.get(I);if($){if($.length){const ne=$.indexOf(M);$.splice(ne,1)}0==$.length&&se.delete(I)}return $}(this.playersByQueriedElement,Cr.element,Cr))}),Hn.forEach(Cr=>ws(Cr,vs));const kr=yt(Wr);return kr.onDestroy(()=>{Hn.forEach(Cr=>Ai(Cr,vs)),ze(wt,M.toStyles)}),qn.forEach(Cr=>{jn(ne,Cr,[]).push(kr)}),kr}_buildPlayer(I,M,$){return M.length>0?this.driver.animate(I.element,M,I.duration,I.delay,I.easing,$):new ee.ZN(I.duration,I.delay)}}class $a{constructor(I,M,$){this.namespaceId=I,this.triggerName=M,this.element=$,this._player=new ee.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(I){this._containsRealPlayer||(this._player=I,this._queuedCallbacks.forEach((M,$)=>{M.forEach(ne=>pt(I,$,void 0,ne))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(I.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(I){this.totalTime=I}syncPlayerEvents(I){const M=this._player;M.triggerCallback&&I.onStart(()=>M.triggerCallback("start")),I.onDone(()=>this.finish()),I.onDestroy(()=>this.destroy())}_queueEvent(I,M){jn(this._queuedCallbacks,I,[]).push(M)}onDone(I){this.queued&&this._queueEvent("done",I),this._player.onDone(I)}onStart(I){this.queued&&this._queueEvent("start",I),this._player.onStart(I)}onDestroy(I){this.queued&&this._queueEvent("destroy",I),this._player.onDestroy(I)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(I){this.queued||this._player.setPosition(I)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(I){const M=this._player;M.triggerCallback&&M.triggerCallback(I)}}function wo(se){return se&&1===se.nodeType}function za(se,I){const M=se.style.display;return se.style.display=I??"none",M}function Ls(se,I,M,$,ne){const me=[];M.forEach(wt=>me.push(za(wt)));const Be=[];$.forEach((wt,Ht)=>{const Hn=new Map;wt.forEach(qn=>{const Wr=I.computeStyle(Ht,qn,ne);Hn.set(qn,Wr),(!Wr||0==Wr.length)&&(Ht[xi]=Ma,Be.push(Ht))}),se.set(Ht,Hn)});let He=0;return M.forEach(wt=>za(wt,me[He++])),Be}function us(se,I){const M=new Map;if(se.forEach(He=>M.set(He,[])),0==I.length)return M;const $=1,ne=new Set(I),me=new Map;function Be(He){if(!He)return $;let wt=me.get(He);if(wt)return wt;const Ht=He.parentNode;return wt=M.has(Ht)?Ht:ne.has(Ht)?$:Be(Ht),me.set(He,wt),wt}return I.forEach(He=>{const wt=Be(He);wt!==$&&M.get(wt).push(He)}),M}function ws(se,I){se.classList?.add(I)}function Ai(se,I){se.classList?.remove(I)}function Ei(se,I,M){yt(M).onDone(()=>se.processLeaveNode(I))}function As(se,I){for(let M=0;M<se.length;M++){const $=se[M];$ instanceof ee.ZE?As($.players,I):I.push($)}}function Oa(se,I,M){const $=M.get(se);if(!$)return!1;let ne=I.get(se);return ne?$.forEach(me=>ne.add(me)):I.set(se,$),M.delete(se),!0}class mo{constructor(I,M,$){this.bodyNode=I,this._driver=M,this._normalizer=$,this._triggerCache={},this.onRemovalComplete=(ne,me)=>{},this._transitionEngine=new ou(I,M,$),this._timelineEngine=new pa(I,M,$),this._transitionEngine.onRemovalComplete=(ne,me)=>this.onRemovalComplete(ne,me)}registerTrigger(I,M,$,ne,me){const Be=I+"-"+ne;let He=this._triggerCache[Be];if(!He){const wt=[],Ht=[],Hn=$r(this._driver,me,wt,Ht);if(wt.length)throw function Zt(se,I){return new a.vHH(3404,!1)}();He=function Na(se,I,M){return new ti(se,I,M)}(ne,Hn,this._normalizer),this._triggerCache[Be]=He}this._transitionEngine.registerTrigger(M,ne,He)}register(I,M){this._transitionEngine.register(I,M)}destroy(I,M){this._transitionEngine.destroy(I,M)}onInsert(I,M,$,ne){this._transitionEngine.insertNode(I,M,$,ne)}onRemove(I,M,$,ne){this._transitionEngine.removeNode(I,M,ne||!1,$)}disableAnimations(I,M){this._transitionEngine.markElementAsDisabled(I,M)}process(I,M,$,ne){if("@"==$.charAt(0)){const[me,Be]=pr($);this._timelineEngine.command(me,M,Be,ne)}else this._transitionEngine.trigger(I,M,$,ne)}listen(I,M,$,ne,me){if("@"==$.charAt(0)){const[Be,He]=pr($);return this._timelineEngine.listen(Be,M,He,me)}return this._transitionEngine.listen(I,M,$,ne,me)}flush(I=-1){this._transitionEngine.flush(I)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let au=(()=>{class se{constructor(M,$,ne){this._element=M,this._startStyles=$,this._endStyles=ne,this._state=0;let me=se.initialStylesByElement.get(M);me||se.initialStylesByElement.set(M,me=new Map),this._initialStyles=me}start(){this._state<1&&(this._startStyles&&ze(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ze(this._element,this._initialStyles),this._endStyles&&(ze(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(se.initialStylesByElement.delete(this._element),this._startStyles&&(on(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(on(this._element,this._endStyles),this._endStyles=null),ze(this._element,this._initialStyles),this._state=3)}}return se.initialStylesByElement=new WeakMap,se})();function Ko(se){let I=null;return se.forEach((M,$)=>{(function Vo(se){return"display"===se||"position"===se})($)&&(I=I||new Map,I.set($,M))}),I}class Os{constructor(I,M,$,ne){this.element=I,this.keyframes=M,this.options=$,this._specialStyles=ne,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=$.duration,this._delay=$.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(I=>I()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const I=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,I,this.options),this._finalKeyframe=I.length?I[I.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(I){const M=[];return I.forEach($=>{M.push(Object.fromEntries($))}),M}_triggerWebAnimation(I,M,$){return I.animate(this._convertKeyframesToObject(M),$)}onStart(I){this._originalOnStartFns.push(I),this._onStartFns.push(I)}onDone(I){this._originalOnDoneFns.push(I),this._onDoneFns.push(I)}onDestroy(I){this._onDestroyFns.push(I)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(I=>I()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(I=>I()),this._onDestroyFns=[])}setPosition(I){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=I*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const I=new Map;this.hasStarted()&&this._finalKeyframe.forEach(($,ne)=>{"offset"!==ne&&I.set(ne,this._finished?$:an(this.element,ne))}),this.currentSnapshot=I}triggerCallback(I){const M="start"===I?this._onStartFns:this._onDoneFns;M.forEach($=>$()),M.length=0}}class _a{validateStyleProperty(I){return!0}validateAnimatableStyleProperty(I){return!0}matchesElement(I,M){return!1}containsElement(I,M){return br(I,M)}getParentElement(I){return Jt(I)}query(I,M,$){return In(I,M,$)}computeStyle(I,M,$){return window.getComputedStyle(I)[M]}animate(I,M,$,ne,me,Be=[]){const wt={duration:$,delay:ne,fill:0==ne?"both":"forwards"};me&&(wt.easing=me);const Ht=new Map,Hn=Be.filter(kr=>kr instanceof Os);(function Ws(se,I){return 0===se||0===I})($,ne)&&Hn.forEach(kr=>{kr.currentSnapshot.forEach((Cr,Dr)=>Ht.set(Dr,Cr))});let qn=function qt(se){return se.length?se[0]instanceof Map?se:se.map(I=>ln(I)):[]}(M).map(kr=>ve(kr));qn=function St(se,I,M){if(M.size&&I.length){let $=I[0],ne=[];if(M.forEach((me,Be)=>{$.has(Be)||ne.push(Be),$.set(Be,me)}),ne.length)for(let me=1;me<I.length;me++){let Be=I[me];ne.forEach(He=>Be.set(He,an(se,He)))}}return I}(I,qn,Ht);const Wr=function Ys(se,I){let M=null,$=null;return Array.isArray(I)&&I.length?(M=Ko(I[0]),I.length>1&&($=Ko(I[I.length-1]))):I instanceof Map&&(M=Ko(I)),M||$?new au(se,M,$):null}(I,qn);return new Os(I,qn,wt,Wr)}}var ya=Y(4666);let _r=(()=>{class se extends ee._j{constructor(M,$){super(),this._nextAnimationId=0,this._renderer=M.createRenderer($.body,{id:"0",encapsulation:a.ifc.None,styles:[],data:{animation:[]}})}build(M){const $=this._nextAnimationId.toString();this._nextAnimationId++;const ne=Array.isArray(M)?(0,ee.vP)(M):M;return z(this._renderer,null,$,"register",[ne]),new ao($,this._renderer)}}return se.\u0275fac=function(M){return new(M||se)(a.LFG(a.FYo),a.LFG(ya.K0))},se.\u0275prov=a.Yz7({token:se,factory:se.\u0275fac}),se})();class ao extends ee.LC{constructor(I,M){super(),this._id=I,this._renderer=M}create(I,M){return new K(this._id,I,M||{},this._renderer)}}class K{constructor(I,M,$,ne){this.id=I,this.element=M,this._renderer=ne,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",$)}_listen(I,M){return this._renderer.listen(this.element,`@@${this.id}:${I}`,M)}_command(I,...M){return z(this._renderer,this.element,this.id,I,M)}onDone(I){this._listen("done",I)}onStart(I){this._listen("start",I)}onDestroy(I){this._listen("destroy",I)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(I){this._command("setPosition",I)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function z(se,I,M,$,ne){return se.setProperty(I,`@@${M}:${$}`,ne)}const L="@",le="@.disabled";let Pt=(()=>{class se{constructor(M,$,ne){this.delegate=M,this.engine=$,this._zone=ne,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),$.onRemovalComplete=(me,Be)=>{const He=Be?.parentNode(me);He&&Be.removeChild(He,me)}}createRenderer(M,$){const me=this.delegate.createRenderer(M,$);if(!(M&&$&&$.data&&$.data.animation)){let Hn=this._rendererCache.get(me);return Hn||(Hn=new pn("",me,this.engine,()=>this._rendererCache.delete(me)),this._rendererCache.set(me,Hn)),Hn}const Be=$.id,He=$.id+"-"+this._currentId;this._currentId++,this.engine.register(He,M);const wt=Hn=>{Array.isArray(Hn)?Hn.forEach(wt):this.engine.registerTrigger(Be,He,M,Hn.name,Hn)};return $.data.animation.forEach(wt),new Es(this,He,me,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(M,$,ne){M>=0&&M<this._microtaskId?this._zone.run(()=>$(ne)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(me=>{const[Be,He]=me;Be(He)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([$,ne]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return se.\u0275fac=function(M){return new(M||se)(a.LFG(a.FYo),a.LFG(mo),a.LFG(a.R0b))},se.\u0275prov=a.Yz7({token:se,factory:se.\u0275fac}),se})();class pn{constructor(I,M,$,ne){this.namespaceId=I,this.delegate=M,this.engine=$,this._onDestroy=ne,this.destroyNode=this.delegate.destroyNode?me=>M.destroyNode(me):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(I,M){return this.delegate.createElement(I,M)}createComment(I){return this.delegate.createComment(I)}createText(I){return this.delegate.createText(I)}appendChild(I,M){this.delegate.appendChild(I,M),this.engine.onInsert(this.namespaceId,M,I,!1)}insertBefore(I,M,$,ne=!0){this.delegate.insertBefore(I,M,$),this.engine.onInsert(this.namespaceId,M,I,ne)}removeChild(I,M,$){this.engine.onRemove(this.namespaceId,M,this.delegate,$)}selectRootElement(I,M){return this.delegate.selectRootElement(I,M)}parentNode(I){return this.delegate.parentNode(I)}nextSibling(I){return this.delegate.nextSibling(I)}setAttribute(I,M,$,ne){this.delegate.setAttribute(I,M,$,ne)}removeAttribute(I,M,$){this.delegate.removeAttribute(I,M,$)}addClass(I,M){this.delegate.addClass(I,M)}removeClass(I,M){this.delegate.removeClass(I,M)}setStyle(I,M,$,ne){this.delegate.setStyle(I,M,$,ne)}removeStyle(I,M,$){this.delegate.removeStyle(I,M,$)}setProperty(I,M,$){M.charAt(0)==L&&M==le?this.disableAnimations(I,!!$):this.delegate.setProperty(I,M,$)}setValue(I,M){this.delegate.setValue(I,M)}listen(I,M,$){return this.delegate.listen(I,M,$)}disableAnimations(I,M){this.engine.disableAnimations(I,M)}}class Es extends pn{constructor(I,M,$,ne,me){super(M,$,ne,me),this.factory=I,this.namespaceId=M}setProperty(I,M,$){M.charAt(0)==L?"."==M.charAt(1)&&M==le?this.disableAnimations(I,$=void 0===$||!!$):this.engine.process(this.namespaceId,I,M.slice(1),$):this.delegate.setProperty(I,M,$)}listen(I,M,$){if(M.charAt(0)==L){const ne=function xt(se){switch(se){case"body":return document.body;case"document":return document;case"window":return window;default:return se}}(I);let me=M.slice(1),Be="";return me.charAt(0)!=L&&([me,Be]=function Hr(se){const I=se.indexOf(".");return[se.substring(0,I),se.slice(I+1)]}(me)),this.engine.listen(this.namespaceId,ne,me,Be,He=>{this.factory.scheduleListenerCallback(He._data||-1,$,He)})}return this.delegate.listen(I,M,$)}}const Ra=[{provide:ee._j,useClass:_r},{provide:Sr,useFactory:function Ka(){return new bs}},{provide:mo,useClass:(()=>{class se extends mo{constructor(M,$,ne,me){super(M.body,$,ne)}ngOnDestroy(){this.flush()}}return se.\u0275fac=function(M){return new(M||se)(a.LFG(ya.K0),a.LFG(ei),a.LFG(Sr),a.LFG(a.z2F))},se.\u0275prov=a.Yz7({token:se,factory:se.\u0275fac}),se})()},{provide:a.FYo,useFactory:function ls(se,I,M){return new Pt(se,I,M)},deps:[V.se,mo,a.R0b]}],va=[{provide:ei,useFactory:()=>new _a},{provide:a.QbO,useValue:"BrowserAnimations"},...Ra],Eo=[{provide:ei,useClass:si},{provide:a.QbO,useValue:"NoopAnimations"},...Ra];let ra=(()=>{class se{static withConfig(M){return{ngModule:se,providers:M.disableAnimations?Eo:va}}}return se.\u0275fac=function(M){return new(M||se)},se.\u0275mod=a.oAB({type:se}),se.\u0275inj=a.cJS({providers:va,imports:[V.b2]}),se})()},4497:(Nn,lt,Y)=>{"use strict";Y.d(lt,{Dx:()=>br,H7:()=>Oe,b2:()=>hi,q6:()=>di,se:()=>Dn});var a=Y(4666),V=Y(2560);class ee extends a.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class fe extends ee{static makeCurrent(){(0,a.HT)(new fe)}onAndCancel(Me,ge,Re){return Me.addEventListener(ge,Re,!1),()=>{Me.removeEventListener(ge,Re,!1)}}dispatchEvent(Me,ge){Me.dispatchEvent(ge)}remove(Me){Me.parentNode&&Me.parentNode.removeChild(Me)}createElement(Me,ge){return(ge=ge||this.getDefaultDocument()).createElement(Me)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Me){return Me.nodeType===Node.ELEMENT_NODE}isShadowRoot(Me){return Me instanceof DocumentFragment}getGlobalEventTarget(Me,ge){return"window"===ge?window:"document"===ge?Me:"body"===ge?Me.body:null}getBaseHref(Me){const ge=function Te(){return re=re||document.querySelector("base"),re?re.getAttribute("href"):null}();return null==ge?null:function $e(ke){je=je||document.createElement("a"),je.setAttribute("href",ke);const Me=je.pathname;return"/"===Me.charAt(0)?Me:`/${Me}`}(ge)}resetBaseElement(){re=null}getUserAgent(){return window.navigator.userAgent}getCookie(Me){return(0,a.Mx)(document.cookie,Me)}}let je,re=null;const et=new V.OlP("TRANSITION_ID"),be=[{provide:V.ip1,useFactory:function De(ke,Me,ge){return()=>{ge.get(V.CZH).donePromise.then(()=>{const Re=(0,a.q)(),mt=Me.querySelectorAll(`style[ng-transition="${ke}"]`);for(let Xt=0;Xt<mt.length;Xt++)Re.remove(mt[Xt])})}},deps:[et,a.K0,V.zs3],multi:!0}];let Vt=(()=>{class ke{build(){return new XMLHttpRequest}}return ke.\u0275fac=function(ge){return new(ge||ke)},ke.\u0275prov=V.Yz7({token:ke,factory:ke.\u0275fac}),ke})();const st=new V.OlP("EventManagerPlugins");let Ft=(()=>{class ke{constructor(ge,Re){this._zone=Re,this._eventNameToPlugin=new Map,ge.forEach(mt=>{mt.manager=this}),this._plugins=ge.slice().reverse()}addEventListener(ge,Re,mt){return this._findPluginFor(Re).addEventListener(ge,Re,mt)}addGlobalEventListener(ge,Re,mt){return this._findPluginFor(Re).addGlobalEventListener(ge,Re,mt)}getZone(){return this._zone}_findPluginFor(ge){const Re=this._eventNameToPlugin.get(ge);if(Re)return Re;const mt=this._plugins;for(let Xt=0;Xt<mt.length;Xt++){const Vn=mt[Xt];if(Vn.supports(ge))return this._eventNameToPlugin.set(ge,Vn),Vn}throw new Error(`No event manager plugin found for event ${ge}`)}}return ke.\u0275fac=function(ge){return new(ge||ke)(V.LFG(st),V.LFG(V.R0b))},ke.\u0275prov=V.Yz7({token:ke,factory:ke.\u0275fac}),ke})();class Gt{constructor(Me){this._doc=Me}addGlobalEventListener(Me,ge,Re){const mt=(0,a.q)().getGlobalEventTarget(this._doc,Me);if(!mt)throw new Error(`Unsupported event target ${mt} for event ${ge}`);return this.addEventListener(mt,ge,Re)}}let at=(()=>{class ke{constructor(){this.usageCount=new Map}addStyles(ge){for(const Re of ge)1===this.changeUsageCount(Re,1)&&this.onStyleAdded(Re)}removeStyles(ge){for(const Re of ge)0===this.changeUsageCount(Re,-1)&&this.onStyleRemoved(Re)}onStyleRemoved(ge){}onStyleAdded(ge){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(ge,Re){const mt=this.usageCount;let Xt=mt.get(ge)??0;return Xt+=Re,Xt>0?mt.set(ge,Xt):mt.delete(ge),Xt}ngOnDestroy(){for(const ge of this.getAllStyles())this.onStyleRemoved(ge);this.usageCount.clear()}}return ke.\u0275fac=function(ge){return new(ge||ke)},ke.\u0275prov=V.Yz7({token:ke,factory:ke.\u0275fac}),ke})(),ht=(()=>{class ke extends at{constructor(ge){super(),this.doc=ge,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(ge){for(const Re of this.hostNodes)this.addStyleToHost(Re,ge)}onStyleRemoved(ge){const Re=this.styleRef;Re.get(ge)?.forEach(Xt=>Xt.remove()),Re.delete(ge)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(ge){this.hostNodes.add(ge);for(const Re of this.getAllStyles())this.addStyleToHost(ge,Re)}removeHost(ge){this.hostNodes.delete(ge)}addStyleToHost(ge,Re){const mt=this.doc.createElement("style");mt.textContent=Re,ge.appendChild(mt);const Xt=this.styleRef.get(Re);Xt?Xt.push(mt):this.styleRef.set(Re,[mt])}resetHostNodes(){const ge=this.hostNodes;ge.clear(),ge.add(this.doc.head)}}return ke.\u0275fac=function(ge){return new(ge||ke)(V.LFG(a.K0))},ke.\u0275prov=V.Yz7({token:ke,factory:ke.\u0275fac}),ke})();const Ce={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Kt=/%COMP%/g,ft=new V.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function en(ke,Me){return Me.flat(100).map(ge=>ge.replace(Kt,ke))}function Bn(ke){return Me=>{if("__ngUnwrap__"===Me)return ke;!1===ke(Me)&&(Me.preventDefault(),Me.returnValue=!1)}}let Dn=(()=>{class ke{constructor(ge,Re,mt,Xt){this.eventManager=ge,this.sharedStylesHost=Re,this.appId=mt,this.removeStylesOnCompDestory=Xt,this.rendererByCompId=new Map,this.defaultRenderer=new qi(ge)}createRenderer(ge,Re){if(!ge||!Re)return this.defaultRenderer;const mt=this.getOrCreateRenderer(ge,Re);return mt instanceof Lt?mt.applyToHost(ge):mt instanceof Wt&&mt.applyStyles(),mt}getOrCreateRenderer(ge,Re){const mt=this.rendererByCompId;let Xt=mt.get(Re.id);if(!Xt){const Vn=this.eventManager,Ir=this.sharedStylesHost,gi=this.removeStylesOnCompDestory;switch(Re.encapsulation){case V.ifc.Emulated:Xt=new Lt(Vn,Ir,Re,this.appId,gi);break;case V.ifc.ShadowDom:return new Ct(Vn,Ir,ge,Re);default:Xt=new Wt(Vn,Ir,Re,gi)}Xt.onDestroy=()=>mt.delete(Re.id),mt.set(Re.id,Xt)}return Xt}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return ke.\u0275fac=function(ge){return new(ge||ke)(V.LFG(Ft),V.LFG(ht),V.LFG(V.AFp),V.LFG(ft))},ke.\u0275prov=V.Yz7({token:ke,factory:ke.\u0275fac}),ke})();class qi{constructor(Me){this.eventManager=Me,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Me,ge){return ge?document.createElementNS(Ce[ge]||ge,Me):document.createElement(Me)}createComment(Me){return document.createComment(Me)}createText(Me){return document.createTextNode(Me)}appendChild(Me,ge){(Ot(Me)?Me.content:Me).appendChild(ge)}insertBefore(Me,ge,Re){Me&&(Ot(Me)?Me.content:Me).insertBefore(ge,Re)}removeChild(Me,ge){Me&&Me.removeChild(ge)}selectRootElement(Me,ge){let Re="string"==typeof Me?document.querySelector(Me):Me;if(!Re)throw new Error(`The selector "${Me}" did not match any elements`);return ge||(Re.textContent=""),Re}parentNode(Me){return Me.parentNode}nextSibling(Me){return Me.nextSibling}setAttribute(Me,ge,Re,mt){if(mt){ge=mt+":"+ge;const Xt=Ce[mt];Xt?Me.setAttributeNS(Xt,ge,Re):Me.setAttribute(ge,Re)}else Me.setAttribute(ge,Re)}removeAttribute(Me,ge,Re){if(Re){const mt=Ce[Re];mt?Me.removeAttributeNS(mt,ge):Me.removeAttribute(`${Re}:${ge}`)}else Me.removeAttribute(ge)}addClass(Me,ge){Me.classList.add(ge)}removeClass(Me,ge){Me.classList.remove(ge)}setStyle(Me,ge,Re,mt){mt&(V.JOm.DashCase|V.JOm.Important)?Me.style.setProperty(ge,Re,mt&V.JOm.Important?"important":""):Me.style[ge]=Re}removeStyle(Me,ge,Re){Re&V.JOm.DashCase?Me.style.removeProperty(ge):Me.style[ge]=""}setProperty(Me,ge,Re){Me[ge]=Re}setValue(Me,ge){Me.nodeValue=ge}listen(Me,ge,Re){return"string"==typeof Me?this.eventManager.addGlobalEventListener(Me,ge,Bn(Re)):this.eventManager.addEventListener(Me,ge,Bn(Re))}}function Ot(ke){return"TEMPLATE"===ke.tagName&&void 0!==ke.content}class Ct extends qi{constructor(Me,ge,Re,mt){super(Me),this.sharedStylesHost=ge,this.hostEl=Re,this.shadowRoot=Re.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Xt=en(mt.id,mt.styles);for(const Vn of Xt){const Ir=document.createElement("style");Ir.textContent=Vn,this.shadowRoot.appendChild(Ir)}}nodeOrShadowRoot(Me){return Me===this.hostEl?this.shadowRoot:Me}appendChild(Me,ge){return super.appendChild(this.nodeOrShadowRoot(Me),ge)}insertBefore(Me,ge,Re){return super.insertBefore(this.nodeOrShadowRoot(Me),ge,Re)}removeChild(Me,ge){return super.removeChild(this.nodeOrShadowRoot(Me),ge)}parentNode(Me){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Me)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Wt extends qi{constructor(Me,ge,Re,mt,Xt=Re.id){super(Me),this.sharedStylesHost=ge,this.removeStylesOnCompDestory=mt,this.rendererUsageCount=0,this.styles=en(Xt,Re.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Lt extends Wt{constructor(Me,ge,Re,mt,Xt){const Vn=mt+"-"+Re.id;super(Me,ge,Re,Xt,Vn),this.contentAttr=function Ye(ke){return"_ngcontent-%COMP%".replace(Kt,ke)}(Vn),this.hostAttr=function Zt(ke){return"_nghost-%COMP%".replace(Kt,ke)}(Vn)}applyToHost(Me){this.applyStyles(),this.setAttribute(Me,this.hostAttr,"")}createElement(Me,ge){const Re=super.createElement(Me,ge);return super.setAttribute(Re,this.contentAttr,""),Re}}let $t=(()=>{class ke extends Gt{constructor(ge){super(ge)}supports(ge){return!0}addEventListener(ge,Re,mt){return ge.addEventListener(Re,mt,!1),()=>this.removeEventListener(ge,Re,mt)}removeEventListener(ge,Re,mt){return ge.removeEventListener(Re,mt)}}return ke.\u0275fac=function(ge){return new(ge||ke)(V.LFG(a.K0))},ke.\u0275prov=V.Yz7({token:ke,factory:ke.\u0275fac}),ke})();const hn=["alt","control","meta","shift"],yn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},vn={alt:ke=>ke.altKey,control:ke=>ke.ctrlKey,meta:ke=>ke.metaKey,shift:ke=>ke.shiftKey};let Ge=(()=>{class ke extends Gt{constructor(ge){super(ge)}supports(ge){return null!=ke.parseEventName(ge)}addEventListener(ge,Re,mt){const Xt=ke.parseEventName(Re),Vn=ke.eventCallback(Xt.fullKey,mt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,a.q)().onAndCancel(ge,Xt.domEventName,Vn))}static parseEventName(ge){const Re=ge.toLowerCase().split("."),mt=Re.shift();if(0===Re.length||"keydown"!==mt&&"keyup"!==mt)return null;const Xt=ke._normalizeKey(Re.pop());let Vn="",Ir=Re.indexOf("code");if(Ir>-1&&(Re.splice(Ir,1),Vn="code."),hn.forEach(Ws=>{const St=Re.indexOf(Ws);St>-1&&(Re.splice(St,1),Vn+=Ws+".")}),Vn+=Xt,0!=Re.length||0===Xt.length)return null;const gi={};return gi.domEventName=mt,gi.fullKey=Vn,gi}static matchEventFullKeyCode(ge,Re){let mt=yn[ge.key]||ge.key,Xt="";return Re.indexOf("code.")>-1&&(mt=ge.code,Xt="code."),!(null==mt||!mt)&&(mt=mt.toLowerCase()," "===mt?mt="space":"."===mt&&(mt="dot"),hn.forEach(Vn=>{Vn!==mt&&(0,vn[Vn])(ge)&&(Xt+=Vn+".")}),Xt+=mt,Xt===Re)}static eventCallback(ge,Re,mt){return Xt=>{ke.matchEventFullKeyCode(Xt,ge)&&mt.runGuarded(()=>Re(Xt))}}static _normalizeKey(ge){return"esc"===ge?"escape":ge}}return ke.\u0275fac=function(ge){return new(ge||ke)(V.LFG(a.K0))},ke.\u0275prov=V.Yz7({token:ke,factory:ke.\u0275fac}),ke})();const di=(0,V.eFA)(V._c5,"browser",[{provide:V.Lbi,useValue:a.bD},{provide:V.g9A,useValue:function jn(){fe.makeCurrent()},multi:!0},{provide:a.K0,useFactory:function ii(){return(0,V.RDi)(document),document},deps:[]}]),Jt=new V.OlP(""),wn=[{provide:V.rWj,useClass:class xe{addToWindow(Me){V.dqk.getAngularTestability=(Re,mt=!0)=>{const Xt=Me.findTestabilityInTree(Re,mt);if(null==Xt)throw new Error("Could not find testability for element.");return Xt},V.dqk.getAllAngularTestabilities=()=>Me.getAllTestabilities(),V.dqk.getAllAngularRootElements=()=>Me.getAllRootElements(),V.dqk.frameworkStabilizers||(V.dqk.frameworkStabilizers=[]),V.dqk.frameworkStabilizers.push(Re=>{const mt=V.dqk.getAllAngularTestabilities();let Xt=mt.length,Vn=!1;const Ir=function(gi){Vn=Vn||gi,Xt--,0==Xt&&Re(Vn)};mt.forEach(function(gi){gi.whenStable(Ir)})})}findTestabilityInTree(Me,ge,Re){return null==ge?null:Me.getTestability(ge)??(Re?(0,a.q)().isShadowRoot(ge)?this.findTestabilityInTree(Me,ge.host,!0):this.findTestabilityInTree(Me,ge.parentElement,!0):null)}},deps:[]},{provide:V.lri,useClass:V.dDg,deps:[V.R0b,V.eoX,V.rWj]},{provide:V.dDg,useClass:V.dDg,deps:[V.R0b,V.eoX,V.rWj]}],jr=[{provide:V.zSh,useValue:"root"},{provide:V.qLn,useFactory:function pr(){return new V.qLn},deps:[]},{provide:st,useClass:$t,multi:!0,deps:[a.K0,V.R0b,V.Lbi]},{provide:st,useClass:Ge,multi:!0,deps:[a.K0]},{provide:Dn,useClass:Dn,deps:[Ft,ht,V.AFp,ft]},{provide:V.FYo,useExisting:Dn},{provide:at,useExisting:ht},{provide:ht,useClass:ht,deps:[a.K0]},{provide:Ft,useClass:Ft,deps:[st,V.R0b]},{provide:a.JF,useClass:Vt,deps:[]},[]];let hi=(()=>{class ke{constructor(ge){}static withServerTransition(ge){return{ngModule:ke,providers:[{provide:V.AFp,useValue:ge.appId},{provide:et,useExisting:V.AFp},be]}}}return ke.\u0275fac=function(ge){return new(ge||ke)(V.LFG(Jt,12))},ke.\u0275mod=V.oAB({type:ke}),ke.\u0275inj=V.cJS({providers:[...jr,...wn],imports:[a.ez,V.hGG]}),ke})(),br=(()=>{class ke{constructor(ge){this._doc=ge}getTitle(){return this._doc.title}setTitle(ge){this._doc.title=ge||""}}return ke.\u0275fac=function(ge){return new(ge||ke)(V.LFG(a.K0))},ke.\u0275prov=V.Yz7({token:ke,factory:function(ge){let Re=null;return Re=ge?new ge:function fr(){return new br((0,V.LFG)(a.K0))}(),Re},providedIn:"root"}),ke})();typeof window<"u"&&window;let Oe=(()=>{class ke{}return ke.\u0275fac=function(ge){return new(ge||ke)},ke.\u0275prov=V.Yz7({token:ke,factory:function(ge){let Re=null;return Re=ge?new(ge||ke):V.LFG(ze),Re},providedIn:"root"}),ke})(),ze=(()=>{class ke extends Oe{constructor(ge){super(),this._doc=ge}sanitize(ge,Re){if(null==Re)return null;switch(ge){case V.q3G.NONE:return Re;case V.q3G.HTML:return(0,V.qzn)(Re,"HTML")?(0,V.z3N)(Re):(0,V.EiD)(this._doc,String(Re)).toString();case V.q3G.STYLE:return(0,V.qzn)(Re,"Style")?(0,V.z3N)(Re):Re;case V.q3G.SCRIPT:if((0,V.qzn)(Re,"Script"))return(0,V.z3N)(Re);throw new Error("unsafe value used in a script context");case V.q3G.URL:return(0,V.qzn)(Re,"URL")?(0,V.z3N)(Re):(0,V.mCW)(String(Re));case V.q3G.RESOURCE_URL:if((0,V.qzn)(Re,"ResourceURL"))return(0,V.z3N)(Re);throw new Error(`unsafe value used in a resource URL context (see ${V.JZr})`);default:throw new Error(`Unexpected SecurityContext ${ge} (see ${V.JZr})`)}}bypassSecurityTrustHtml(ge){return(0,V.JVY)(ge)}bypassSecurityTrustStyle(ge){return(0,V.L6k)(ge)}bypassSecurityTrustScript(ge){return(0,V.eBb)(ge)}bypassSecurityTrustUrl(ge){return(0,V.LAX)(ge)}bypassSecurityTrustResourceUrl(ge){return(0,V.pB0)(ge)}}return ke.\u0275fac=function(ge){return new(ge||ke)(V.LFG(a.K0))},ke.\u0275prov=V.Yz7({token:ke,factory:function(ge){let Re=null;return Re=ge?new ge:function ut(ke){return new ze(ke.get(a.K0))}(V.LFG(V.zs3)),Re},providedIn:"root"}),ke})()},8803:(Nn,lt,Y)=>{"use strict";Y.d(lt,{gz:()=>Bo,F0:()=>tn,rH:()=>yu,Od:()=>Fn,Bz:()=>Ja,lC:()=>ma});var a=Y(2560),V=Y(3609),ee=Y(745),fe=Y(6317),re=Y(4423),Te=Y(6562),je=Y(9319),$e=Y(833),et=Y(4987);function De(S){return new $e.y(O=>{(0,et.Xf)(S()).subscribe(O)})}var be=Y(629),xe=Y(2971);function Vt(S,O){const E=(0,xe.m)(S)?S:()=>S,F=q=>q.error(E());return new $e.y(O?q=>O.schedule(F,0,q):F)}var st=Y(591),Ft=Y(7714),Gt=Y(1944),at=Y(3945);function ht(){return(0,Gt.e)((S,O)=>{let E=null;S._refCount++;const F=(0,at.x)(O,void 0,void 0,void 0,()=>{if(!S||S._refCount<=0||0<--S._refCount)return void(E=null);const q=S._connection,ae=E;E=null,q&&(!ae||q===ae)&&q.unsubscribe(),O.unsubscribe()});S.subscribe(F),F.closed||(E=S.connect())})}class Ce extends $e.y{constructor(O,E){super(),this.source=O,this.subjectFactory=E,this._subject=null,this._refCount=0,this._connection=null,(0,Gt.A)(O)&&(this.lift=O.lift)}_subscribe(O){return this.getSubject().subscribe(O)}getSubject(){const O=this._subject;return(!O||O.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:O}=this;this._subject=this._connection=null,O?.unsubscribe()}connect(){let O=this._connection;if(!O){O=this._connection=new Ft.w0;const E=this.getSubject();O.add(this.source.subscribe((0,at.x)(E,void 0,()=>{this._teardown(),E.complete()},F=>{this._teardown(),E.error(F)},()=>this._teardown()))),O.closed&&(this._connection=null,O=Ft.w0.EMPTY)}return O}refCount(){return ht()(this)}}var Kt=Y(253),ct=Y(4666),Se=Y(635),Je=Y(2673),Yt=Y(9295),Ut=Y(4874),ft=Y(116),Ye=Y(9525),Zt=Y(155),en=Y(3853),Bn=Y(9337);function Dn(S){return(0,Gt.e)((O,E)=>{let ae,F=null,q=!1;F=O.subscribe((0,at.x)(E,void 0,void 0,pe=>{ae=(0,et.Xf)(S(pe,Dn(S)(O))),F?(F.unsubscribe(),F=null,ae.subscribe(E)):q=!0})),q&&(F.unsubscribe(),F=null,ae.subscribe(E))})}var qi=Y(4351);function It(S){return S<=0?()=>st.E:(0,Gt.e)((O,E)=>{let F=[];O.subscribe((0,at.x)(E,q=>{F.push(q),S<F.length&&F.shift()},()=>{for(const q of F)E.next(q);E.complete()},void 0,()=>{F=null}))})}var _t=Y(7354),Ot=Y(4744),Ct=Y(9173);function Wt(S,O){const E=arguments.length>=2;return F=>F.pipe(S?(0,ft.h)((q,ae)=>S(q,ae,F)):Ct.y,It(1),E?(0,Ot.d)(O):(0,_t.T)(()=>new re.K))}var $t=Y(73),hn=Y(2313),yn=Y(1308),vn=Y(4497);const Ge="primary",yt=Symbol("RouteTitle");class Ke{constructor(O){this.params=O||{}}has(O){return Object.prototype.hasOwnProperty.call(this.params,O)}get(O){if(this.has(O)){const E=this.params[O];return Array.isArray(E)?E[0]:E}return null}getAll(O){if(this.has(O)){const E=this.params[O];return Array.isArray(E)?E:[E]}return[]}get keys(){return Object.keys(this.params)}}function pt(S){return new Ke(S)}function Tn(S,O,E){const F=E.path.split("/");if(F.length>S.length||"full"===E.pathMatch&&(O.hasChildren()||F.length<S.length))return null;const q={};for(let ae=0;ae<F.length;ae++){const pe=F[ae],rt=S[ae];if(pe.startsWith(":"))q[pe.substring(1)]=rt;else if(pe!==rt.path)return null}return{consumed:S.slice(0,F.length),posParams:q}}function jn(S,O){const E=S?Object.keys(S):void 0,F=O?Object.keys(O):void 0;if(!E||!F||E.length!=F.length)return!1;let q;for(let ae=0;ae<E.length;ae++)if(q=E[ae],!pr(S[q],O[q]))return!1;return!0}function pr(S,O){if(Array.isArray(S)&&Array.isArray(O)){if(S.length!==O.length)return!1;const E=[...S].sort(),F=[...O].sort();return E.every((q,ae)=>F[ae]===q)}return S===O}function ii(S){return Array.prototype.concat.apply([],S)}function rs(S){return S.length>0?S[S.length-1]:null}function Jt(S,O){for(const E in S)S.hasOwnProperty(E)&&O(S[E],E)}function wn(S){return(0,a.CqO)(S)?S:(0,a.QGY)(S)?(0,V.D)(Promise.resolve(S)):(0,ee.of)(S)}const jr=!1,hi={exact:function fr(S,O,E){if(!Pi(S.segments,O.segments)||!si(S.segments,O.segments,E)||S.numberOfChildren!==O.numberOfChildren)return!1;for(const F in O.children)if(!S.children[F]||!fr(S.children[F],O.children[F],E))return!1;return!0},subset:In},Vr={exact:function Gs(S,O){return jn(S,O)},subset:function br(S,O){return Object.keys(O).length<=Object.keys(S).length&&Object.keys(O).every(E=>pr(S[E],O[E]))},ignored:()=>!0};function bi(S,O,E){return hi[E.paths](S.root,O.root,E.matrixParams)&&Vr[E.queryParams](S.queryParams,O.queryParams)&&!("exact"===E.fragment&&S.fragment!==O.fragment)}function In(S,O,E){return bn(S,O,O.segments,E)}function bn(S,O,E,F){if(S.segments.length>E.length){const q=S.segments.slice(0,E.length);return!(!Pi(q,E)||O.hasChildren()||!si(q,E,F))}if(S.segments.length===E.length){if(!Pi(S.segments,E)||!si(S.segments,E,F))return!1;for(const q in O.children)if(!S.children[q]||!In(S.children[q],O.children[q],F))return!1;return!0}{const q=E.slice(0,S.segments.length),ae=E.slice(S.segments.length);return!!(Pi(S.segments,q)&&si(S.segments,q,F)&&S.children[Ge])&&bn(S.children[Ge],O,ae,F)}}function si(S,O,E){return O.every((F,q)=>Vr[E](S[q].parameters,F.parameters))}class ei{constructor(O=new Wn([],{}),E={},F=null){this.root=O,this.queryParams=E,this.fragment=F}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=pt(this.queryParams)),this._queryParamMap}toString(){return vs.serialize(this)}}class Wn{constructor(O,E){this.segments=O,this.children=E,this.parent=null,Jt(E,(F,q)=>F.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Rr(this)}}class fi{constructor(O,E){this.path=O,this.parameters=E}get parameterMap(){return this._parameterMap||(this._parameterMap=pt(this.parameters)),this._parameterMap}toString(){return Ee(this)}}function Pi(S,O){return S.length===O.length&&S.every((E,F)=>E.path===O[F].path)}let fs=(()=>{class S{}return S.\u0275fac=function(E){return new(E||S)},S.\u0275prov=a.Yz7({token:S,factory:function(){return new wr},providedIn:"root"}),S})();class wr{parse(O){const E=new Re(O);return new ei(E.parseRootSegment(),E.parseQueryParams(),E.parseFragment())}serialize(O){const E=`/${oi(O.root,!0)}`,F=function Oe(S){const O=Object.keys(S).map(E=>{const F=S[E];return Array.isArray(F)?F.map(q=>`${At(E)}=${At(q)}`).join("&"):`${At(E)}=${At(F)}`}).filter(E=>!!E);return O.length?`?${O.join("&")}`:""}(O.queryParams);return`${E}${F}${"string"==typeof O.fragment?`#${function Le(S){return encodeURI(S)}(O.fragment)}`:""}`}}const vs=new wr;function Rr(S){return S.segments.map(O=>Ee(O)).join("/")}function oi(S,O){if(!S.hasChildren())return Rr(S);if(O){const E=S.children[Ge]?oi(S.children[Ge],!1):"",F=[];return Jt(S.children,(q,ae)=>{ae!==Ge&&F.push(`${ae}:${oi(q,!1)}`)}),F.length>0?`${E}(${F.join("//")})`:E}{const E=function xr(S,O){let E=[];return Jt(S.children,(F,q)=>{q===Ge&&(E=E.concat(O(F,q)))}),Jt(S.children,(F,q)=>{q!==Ge&&(E=E.concat(O(F,q)))}),E}(S,(F,q)=>q===Ge?[oi(S.children[Ge],!1)]:[`${q}:${oi(F,!1)}`]);return 1===Object.keys(S.children).length&&null!=S.children[Ge]?`${Rr(S)}/${E[0]}`:`${Rr(S)}/(${E.join("//")})`}}function pi(S){return encodeURIComponent(S).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function At(S){return pi(S).replace(/%3B/gi,";")}function Ue(S){return pi(S).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ln(S){return decodeURIComponent(S)}function qt(S){return ln(S.replace(/\+/g,"%20"))}function Ee(S){return`${Ue(S.path)}${function ve(S){return Object.keys(S).map(O=>`;${Ue(O)}=${Ue(S[O])}`).join("")}(S.parameters)}`}const ut=/^[^\/()?;=#]+/;function ze(S){const O=S.match(ut);return O?O[0]:""}const on=/^[^=?&#]+/,Me=/^[^&#]+/;class Re{constructor(O){this.url=O,this.remaining=O}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Wn([],{}):new Wn([],this.parseChildren())}parseQueryParams(){const O={};if(this.consumeOptional("?"))do{this.parseQueryParam(O)}while(this.consumeOptional("&"));return O}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const O=[];for(this.peekStartsWith("(")||O.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),O.push(this.parseSegment());let E={};this.peekStartsWith("/(")&&(this.capture("/"),E=this.parseParens(!0));let F={};return this.peekStartsWith("(")&&(F=this.parseParens(!1)),(O.length>0||Object.keys(E).length>0)&&(F[Ge]=new Wn(O,E)),F}parseSegment(){const O=ze(this.remaining);if(""===O&&this.peekStartsWith(";"))throw new a.vHH(4009,jr);return this.capture(O),new fi(ln(O),this.parseMatrixParams())}parseMatrixParams(){const O={};for(;this.consumeOptional(";");)this.parseParam(O);return O}parseParam(O){const E=ze(this.remaining);if(!E)return;this.capture(E);let F="";if(this.consumeOptional("=")){const q=ze(this.remaining);q&&(F=q,this.capture(F))}O[ln(E)]=ln(F)}parseQueryParam(O){const E=function ke(S){const O=S.match(on);return O?O[0]:""}(this.remaining);if(!E)return;this.capture(E);let F="";if(this.consumeOptional("=")){const pe=function ge(S){const O=S.match(Me);return O?O[0]:""}(this.remaining);pe&&(F=pe,this.capture(F))}const q=qt(E),ae=qt(F);if(O.hasOwnProperty(q)){let pe=O[q];Array.isArray(pe)||(pe=[pe],O[q]=pe),pe.push(ae)}else O[q]=ae}parseParens(O){const E={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const F=ze(this.remaining),q=this.remaining[F.length];if("/"!==q&&")"!==q&&";"!==q)throw new a.vHH(4010,jr);let ae;F.indexOf(":")>-1?(ae=F.slice(0,F.indexOf(":")),this.capture(ae),this.capture(":")):O&&(ae=Ge);const pe=this.parseChildren();E[ae]=1===Object.keys(pe).length?pe[Ge]:new Wn([],pe),this.consumeOptional("//")}return E}peekStartsWith(O){return this.remaining.startsWith(O)}consumeOptional(O){return!!this.peekStartsWith(O)&&(this.remaining=this.remaining.substring(O.length),!0)}capture(O){if(!this.consumeOptional(O))throw new a.vHH(4011,jr)}}function mt(S){return S.segments.length>0?new Wn([],{[Ge]:S}):S}function Xt(S){const O={};for(const F of Object.keys(S.children)){const ae=Xt(S.children[F]);(ae.segments.length>0||ae.hasChildren())&&(O[F]=ae)}return function Vn(S){if(1===S.numberOfChildren&&S.children[Ge]){const O=S.children[Ge];return new Wn(S.segments.concat(O.segments),O.children)}return S}(new Wn(S.segments,O))}function Ir(S){return S instanceof ei}const gi=!1;function an(S,O,E,F,q){if(0===E.length)return gr(O.root,O.root,O.root,F,q);const ae=function Ur(S){if("string"==typeof S[0]&&1===S.length&&"/"===S[0])return new ai(!0,0,S);let O=0,E=!1;const F=S.reduce((q,ae,pe)=>{if("object"==typeof ae&&null!=ae){if(ae.outlets){const rt={};return Jt(ae.outlets,(nn,An)=>{rt[An]="string"==typeof nn?nn.split("/"):nn}),[...q,{outlets:rt}]}if(ae.segmentPath)return[...q,ae.segmentPath]}return"string"!=typeof ae?[...q,ae]:0===pe?(ae.split("/").forEach((rt,nn)=>{0==nn&&"."===rt||(0==nn&&""===rt?E=!0:".."===rt?O++:""!=rt&&q.push(rt))}),q):[...q,ae]},[]);return new ai(E,O,F)}(E);return ae.toRoot()?gr(O.root,O.root,new Wn([],{}),F,q):function pe(nn){const An=function Ga(S,O,E,F){if(S.isAbsolute)return new ji(O.root,!0,0);if(-1===F)return new ji(E,E===O.root,0);return function Wo(S,O,E){let F=S,q=O,ae=E;for(;ae>q;){if(ae-=q,F=F.parent,!F)throw new a.vHH(4005,gi&&"Invalid number of '../'");q=F.segments.length}return new ji(F,!1,q-ae)}(E,F+(Kn(S.commands[0])?0:1),S.numberOfDoubleDots)}(ae,O,S.snapshot?._urlSegment,nn),Jn=An.processChildren?En(An.segmentGroup,An.index,ae.commands):as(An.segmentGroup,An.index,ae.commands);return gr(O.root,An.segmentGroup,Jn,F,q)}(S.snapshot?._lastPathIndex)}function Kn(S){return"object"==typeof S&&null!=S&&!S.outlets&&!S.segmentPath}function tr(S){return"object"==typeof S&&null!=S&&S.outlets}function gr(S,O,E,F,q){let pe,ae={};F&&Jt(F,(nn,An)=>{ae[An]=Array.isArray(nn)?nn.map(Jn=>`${Jn}`):`${nn}`}),pe=S===O?E:Zn(S,O,E);const rt=mt(Xt(pe));return new ei(rt,ae,q)}function Zn(S,O,E){const F={};return Jt(S.children,(q,ae)=>{F[ae]=q===O?E:Zn(q,O,E)}),new Wn(S.segments,F)}class ai{constructor(O,E,F){if(this.isAbsolute=O,this.numberOfDoubleDots=E,this.commands=F,O&&F.length>0&&Kn(F[0]))throw new a.vHH(4003,gi&&"Root segment cannot have matrix parameters");const q=F.find(tr);if(q&&q!==rs(F))throw new a.vHH(4004,gi&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ji{constructor(O,E,F){this.segmentGroup=O,this.processChildren=E,this.index=F}}function as(S,O,E){if(S||(S=new Wn([],{})),0===S.segments.length&&S.hasChildren())return En(S,O,E);const F=function Or(S,O,E){let F=0,q=O;const ae={match:!1,pathIndex:0,commandIndex:0};for(;q<S.segments.length;){if(F>=E.length)return ae;const pe=S.segments[q],rt=E[F];if(tr(rt))break;const nn=`${rt}`,An=F<E.length-1?E[F+1]:null;if(q>0&&void 0===nn)break;if(nn&&An&&"object"==typeof An&&void 0===An.outlets){if(!Yi(nn,An,pe))return ae;F+=2}else{if(!Yi(nn,{},pe))return ae;F++}q++}return{match:!0,pathIndex:q,commandIndex:F}}(S,O,E),q=E.slice(F.commandIndex);if(F.match&&F.pathIndex<S.segments.length){const ae=new Wn(S.segments.slice(0,F.pathIndex),{});return ae.children[Ge]=new Wn(S.segments.slice(F.pathIndex),S.children),En(ae,0,q)}return F.match&&0===q.length?new Wn(S.segments,{}):F.match&&!S.hasChildren()?wi(S,O,E):F.match?En(S,0,q):wi(S,O,E)}function En(S,O,E){if(0===E.length)return new Wn(S.segments,{});{const F=function Aa(S){return tr(S[0])?S[0].outlets:{[Ge]:S}}(E),q={};if(!F[Ge]&&S.children[Ge]&&1===S.numberOfChildren&&0===S.children[Ge].segments.length){const ae=En(S.children[Ge],O,E);return new Wn(S.segments,ae.children)}return Jt(F,(ae,pe)=>{"string"==typeof ae&&(ae=[ae]),null!==ae&&(q[pe]=as(S.children[pe],O,ae))}),Jt(S.children,(ae,pe)=>{void 0===F[pe]&&(q[pe]=ae)}),new Wn(S.segments,q)}}function wi(S,O,E){const F=S.segments.slice(0,O);let q=0;for(;q<E.length;){const ae=E[q];if(tr(ae)){const nn=Fs(ae.outlets);return new Wn(F,nn)}if(0===q&&Kn(E[0])){F.push(new fi(S.segments[O].path,$r(E[0]))),q++;continue}const pe=tr(ae)?ae.outlets[Ge]:`${ae}`,rt=q<E.length-1?E[q+1]:null;pe&&rt&&Kn(rt)?(F.push(new fi(pe,$r(rt))),q+=2):(F.push(new fi(pe,{})),q++)}return new Wn(F,{})}function Fs(S){const O={};return Jt(S,(E,F)=>{"string"==typeof E&&(E=[E]),null!==E&&(O[F]=wi(new Wn([],{}),0,E))}),O}function $r(S){const O={};return Jt(S,(E,F)=>O[F]=`${E}`),O}function Yi(S,O,E){return S==E.path&&jn(O,E.parameters)}const Ts="imperative";class Xr{constructor(O,E){this.id=O,this.url=E}}class Ks extends Xr{constructor(O,E,F="imperative",q=null){super(O,E),this.type=0,this.navigationTrigger=F,this.restoredState=q}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Is extends Xr{constructor(O,E,F){super(O,E),this.urlAfterRedirects=F,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Er extends Xr{constructor(O,E,F,q){super(O,E),this.reason=F,this.code=q,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class bo extends Xr{constructor(O,E,F,q){super(O,E),this.reason=F,this.code=q,this.type=16}}class qs extends Xr{constructor(O,E,F,q){super(O,E),this.error=F,this.target=q,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class no extends Xr{constructor(O,E,F,q){super(O,E),this.urlAfterRedirects=F,this.state=q,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ro extends Xr{constructor(O,E,F,q){super(O,E),this.urlAfterRedirects=F,this.state=q,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zr extends Xr{constructor(O,E,F,q,ae){super(O,E),this.urlAfterRedirects=F,this.state=q,this.shouldActivate=ae,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class na extends Xr{constructor(O,E,F,q){super(O,E),this.urlAfterRedirects=F,this.state=q,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class io extends Xr{constructor(O,E,F,q){super(O,E),this.urlAfterRedirects=F,this.state=q,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class js{constructor(O){this.route=O,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ko{constructor(O){this.route=O,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Zi{constructor(O){this.snapshot=O,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Si{constructor(O){this.snapshot=O,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class so{constructor(O){this.snapshot=O,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class po{constructor(O){this.snapshot=O,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qe{constructor(O,E,F){this.routerEvent=O,this.position=E,this.anchor=F,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let zt=(()=>{class S{createUrlTree(E,F,q,ae,pe,rt){return an(E||F.root,q,ae,pe,rt)}}return S.\u0275fac=function(E){return new(E||S)},S.\u0275prov=a.Yz7({token:S,factory:S.\u0275fac}),S})(),mr=(()=>{class S{}return S.\u0275fac=function(E){return new(E||S)},S.\u0275prov=a.Yz7({token:S,factory:function(O){return zt.\u0275fac(O)},providedIn:"root"}),S})();class Sr{constructor(O){this._root=O}get root(){return this._root.value}parent(O){const E=this.pathFromRoot(O);return E.length>1?E[E.length-2]:null}children(O){const E=Tr(O,this._root);return E?E.children.map(F=>F.value):[]}firstChild(O){const E=Tr(O,this._root);return E&&E.children.length>0?E.children[0].value:null}siblings(O){const E=qr(O,this._root);return E.length<2?[]:E[E.length-2].children.map(q=>q.value).filter(q=>q!==O)}pathFromRoot(O){return qr(O,this._root).map(E=>E.value)}}function Tr(S,O){if(S===O.value)return O;for(const E of O.children){const F=Tr(S,E);if(F)return F}return null}function qr(S,O){if(S===O.value)return[O];for(const E of O.children){const F=qr(S,E);if(F.length)return F.unshift(O),F}return[]}class bs{constructor(O,E){this.value=O,this.children=E}toString(){return`TreeNode(${this.value})`}}function Fo(S){const O={};return S&&S.children.forEach(E=>O[E.value.outlet]=E),O}class mi extends Sr{constructor(O,E){super(O),this.snapshot=E,$i(this,O)}toString(){return this.snapshot.toString()}}function fa(S,O){const E=function Lo(S,O){const pe=new Na([],{},{},"",{},Ge,O,null,S.root,-1,{});return new ti("",new bs(pe,[]))}(S,O),F=new fe.X([new fi("",{})]),q=new fe.X({}),ae=new fe.X({}),pe=new fe.X({}),rt=new fe.X(""),nn=new Bo(F,q,pe,rt,ae,Ge,O,E.root);return nn.snapshot=E.root,new mi(new bs(nn,[]),E)}class Bo{constructor(O,E,F,q,ae,pe,rt,nn){this.url=O,this.params=E,this.queryParams=F,this.fragment=q,this.data=ae,this.outlet=pe,this.component=rt,this.title=this.data?.pipe((0,Se.U)(An=>An[yt]))??(0,ee.of)(void 0),this._futureSnapshot=nn}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Se.U)(O=>pt(O)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Se.U)(O=>pt(O)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function gu(S,O="emptyOnly"){const E=S.pathFromRoot;let F=0;if("always"!==O)for(F=E.length-1;F>=1;){const q=E[F],ae=E[F-1];if(q.routeConfig&&""===q.routeConfig.path)F--;else{if(ae.component)break;F--}}return function Co(S){return S.reduce((O,E)=>({params:{...O.params,...E.params},data:{...O.data,...E.data},resolve:{...E.data,...O.resolve,...E.routeConfig?.data,...E._resolvedData}}),{params:{},data:{},resolve:{}})}(E.slice(F))}class Na{get title(){return this.data?.[yt]}constructor(O,E,F,q,ae,pe,rt,nn,An,Jn,Di){this.url=O,this.params=E,this.queryParams=F,this.fragment=q,this.data=ae,this.outlet=pe,this.component=rt,this.routeConfig=nn,this._urlSegment=An,this._lastPathIndex=Jn,this._resolve=Di}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=pt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=pt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(F=>F.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ti extends Sr{constructor(O,E){super(E),this.url=O,$i(this,E)}toString(){return su(this._root)}}function $i(S,O){O.value._routerState=S,O.children.forEach(E=>$i(S,E))}function su(S){const O=S.children.length>0?` { ${S.children.map(su).join(", ")} } `:"";return`${S.value}${O}`}function Vu(S){if(S.snapshot){const O=S.snapshot,E=S._futureSnapshot;S.snapshot=E,jn(O.queryParams,E.queryParams)||S.queryParams.next(E.queryParams),O.fragment!==E.fragment&&S.fragment.next(E.fragment),jn(O.params,E.params)||S.params.next(E.params),function zn(S,O){if(S.length!==O.length)return!1;for(let E=0;E<S.length;++E)if(!jn(S[E],O[E]))return!1;return!0}(O.url,E.url)||S.url.next(E.url),jn(O.data,E.data)||S.data.next(E.data)}else S.snapshot=S._futureSnapshot,S.data.next(S._futureSnapshot.data)}function pa(S,O){const E=jn(S.params,O.params)&&function Ii(S,O){return Pi(S,O)&&S.every((E,F)=>jn(E.parameters,O[F].parameters))}(S.url,O.url);return E&&!(!S.parent!=!O.parent)&&(!S.parent||pa(S.parent,O.parent))}function Hu(S,O,E){if(E&&S.shouldReuseRoute(O.value,E.value.snapshot)){const F=E.value;F._futureSnapshot=O.value;const q=function Io(S,O,E){return O.children.map(F=>{for(const q of E.children)if(S.shouldReuseRoute(F.value,q.value.snapshot))return Hu(S,F,q);return Hu(S,F)})}(S,O,E);return new bs(F,q)}{if(S.shouldAttach(O.value)){const ae=S.retrieve(O.value);if(null!==ae){const pe=ae.route;return pe.value._futureSnapshot=O.value,pe.children=O.children.map(rt=>Hu(S,rt)),pe}}const F=function Ss(S){return new Bo(new fe.X(S.url),new fe.X(S.params),new fe.X(S.queryParams),new fe.X(S.fragment),new fe.X(S.data),S.outlet,S.component,S)}(O.value),q=O.children.map(ae=>Hu(S,ae));return new bs(F,q)}}const mu="ngNavigationCancelingError";function ps(S,O){const{redirectTo:E,navigationBehaviorOptions:F}=Ir(O)?{redirectTo:O,navigationBehaviorOptions:void 0}:O,q=ga(!1,0,O);return q.url=E,q.navigationBehaviorOptions=F,q}function ga(S,O,E){const F=new Error("NavigationCancelingError: "+(S||""));return F[mu]=!0,F.cancellationCode=O,E&&(F.url=E),F}function Bi(S){return Ma(S)&&Ir(S.url)}function Ma(S){return S&&S[mu]}class xi{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new ki,this.attachRef=null}}let ki=(()=>{class S{constructor(){this.contexts=new Map}onChildOutletCreated(E,F){const q=this.getOrCreateContext(E);q.outlet=F,this.contexts.set(E,q)}onChildOutletDestroyed(E){const F=this.getContext(E);F&&(F.outlet=null,F.attachRef=null)}onOutletDeactivated(){const E=this.contexts;return this.contexts=new Map,E}onOutletReAttached(E){this.contexts=E}getOrCreateContext(E){let F=this.getContext(E);return F||(F=new xi,this.contexts.set(E,F)),F}getContext(E){return this.contexts.get(E)||null}}return S.\u0275fac=function(E){return new(E||S)},S.\u0275prov=a.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();const oo=!1;let ma=(()=>{class S{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ge,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.attachEvents=new a.vpe,this.detachEvents=new a.vpe,this.parentContexts=(0,a.f3M)(ki),this.location=(0,a.f3M)(a.s_b),this.changeDetector=(0,a.f3M)(a.sBO),this.environmentInjector=(0,a.f3M)(a.lqb)}ngOnChanges(E){if(E.name){const{firstChange:F,previousValue:q}=E.name;if(F)return;this.isTrackedInParentContexts(q)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(q)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(E){return this.parentContexts.getContext(E)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const E=this.parentContexts.getContext(this.name);E?.route&&(E.attachRef?this.attach(E.attachRef,E.route):this.activateWith(E.route,E.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new a.vHH(4012,oo);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new a.vHH(4012,oo);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new a.vHH(4012,oo);this.location.detach();const E=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(E.instance),E}attach(E,F){this.activated=E,this._activatedRoute=F,this.location.insert(E.hostView),this.attachEvents.emit(E.instance)}deactivate(){if(this.activated){const E=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(E)}}activateWith(E,F){if(this.isActivated)throw new a.vHH(4013,oo);this._activatedRoute=E;const q=this.location,pe=E.snapshot.component,rt=this.parentContexts.getOrCreateContext(this.name).children,nn=new ja(E,rt,q.injector);if(F&&function ou(S){return!!S.resolveComponentFactory}(F)){const An=F.resolveComponentFactory(pe);this.activated=q.createComponent(An,q.length,nn)}else this.activated=q.createComponent(pe,{index:q.length,injector:nn,environmentInjector:F??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return S.\u0275fac=function(E){return new(E||S)},S.\u0275dir=a.lG2({type:S,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[a.TTD]}),S})();class ja{constructor(O,E,F){this.route=O,this.childContexts=E,this.parent=F}get(O,E){return O===Bo?this.route:O===ki?this.childContexts:this.parent.get(O,E)}}let $a=(()=>{class S{}return S.\u0275fac=function(E){return new(E||S)},S.\u0275cmp=a.Xpm({type:S,selectors:[["ng-component"]],standalone:!0,features:[a.jDz],decls:1,vars:0,template:function(E,F){1&E&&a._UZ(0,"router-outlet")},dependencies:[ma],encapsulation:2}),S})();function So(S,O){return S.providers&&!S._injector&&(S._injector=(0,a.MMx)(S.providers,O,`Route: ${S.path}`)),S._injector??O}function Ei(S){const O=S.children&&S.children.map(Ei),E=O?{...S,children:O}:{...S};return!E.component&&!E.loadComponent&&(O||E.loadChildren)&&E.outlet&&E.outlet!==Ge&&(E.component=$a),E}function is(S){return S.outlet||Ge}function As(S,O){const E=S.filter(F=>is(F)===O);return E.push(...S.filter(F=>is(F)!==O)),E}function Wa(S){if(!S)return null;if(S.routeConfig?._injector)return S.routeConfig._injector;for(let O=S.parent;O;O=O.parent){const E=O.routeConfig;if(E?._loadedInjector)return E._loadedInjector;if(E?._injector)return E._injector}return null}class mo{constructor(O,E,F,q){this.routeReuseStrategy=O,this.futureState=E,this.currState=F,this.forwardEvent=q}activate(O){const E=this.futureState._root,F=this.currState?this.currState._root:null;this.deactivateChildRoutes(E,F,O),Vu(this.futureState.root),this.activateChildRoutes(E,F,O)}deactivateChildRoutes(O,E,F){const q=Fo(E);O.children.forEach(ae=>{const pe=ae.value.outlet;this.deactivateRoutes(ae,q[pe],F),delete q[pe]}),Jt(q,(ae,pe)=>{this.deactivateRouteAndItsChildren(ae,F)})}deactivateRoutes(O,E,F){const q=O.value,ae=E?E.value:null;if(q===ae)if(q.component){const pe=F.getContext(q.outlet);pe&&this.deactivateChildRoutes(O,E,pe.children)}else this.deactivateChildRoutes(O,E,F);else ae&&this.deactivateRouteAndItsChildren(E,F)}deactivateRouteAndItsChildren(O,E){O.value.component&&this.routeReuseStrategy.shouldDetach(O.value.snapshot)?this.detachAndStoreRouteSubtree(O,E):this.deactivateRouteAndOutlet(O,E)}detachAndStoreRouteSubtree(O,E){const F=E.getContext(O.value.outlet),q=F&&O.value.component?F.children:E,ae=Fo(O);for(const pe of Object.keys(ae))this.deactivateRouteAndItsChildren(ae[pe],q);if(F&&F.outlet){const pe=F.outlet.detach(),rt=F.children.onOutletDeactivated();this.routeReuseStrategy.store(O.value.snapshot,{componentRef:pe,route:O,contexts:rt})}}deactivateRouteAndOutlet(O,E){const F=E.getContext(O.value.outlet),q=F&&O.value.component?F.children:E,ae=Fo(O);for(const pe of Object.keys(ae))this.deactivateRouteAndItsChildren(ae[pe],q);F&&(F.outlet&&(F.outlet.deactivate(),F.children.onOutletDeactivated()),F.attachRef=null,F.resolver=null,F.route=null)}activateChildRoutes(O,E,F){const q=Fo(E);O.children.forEach(ae=>{this.activateRoutes(ae,q[ae.value.outlet],F),this.forwardEvent(new po(ae.value.snapshot))}),O.children.length&&this.forwardEvent(new Si(O.value.snapshot))}activateRoutes(O,E,F){const q=O.value,ae=E?E.value:null;if(Vu(q),q===ae)if(q.component){const pe=F.getOrCreateContext(q.outlet);this.activateChildRoutes(O,E,pe.children)}else this.activateChildRoutes(O,E,F);else if(q.component){const pe=F.getOrCreateContext(q.outlet);if(this.routeReuseStrategy.shouldAttach(q.snapshot)){const rt=this.routeReuseStrategy.retrieve(q.snapshot);this.routeReuseStrategy.store(q.snapshot,null),pe.children.onOutletReAttached(rt.contexts),pe.attachRef=rt.componentRef,pe.route=rt.route.value,pe.outlet&&pe.outlet.attach(rt.componentRef,rt.route.value),Vu(rt.route.value),this.activateChildRoutes(O,null,pe.children)}else{const rt=Wa(q.snapshot),nn=rt?.get(a._Vd)??null;pe.attachRef=null,pe.route=q,pe.resolver=nn,pe.injector=rt,pe.outlet&&pe.outlet.activateWith(q,pe.injector),this.activateChildRoutes(O,null,pe.children)}}else this.activateChildRoutes(O,null,F)}}class Ys{constructor(O){this.path=O,this.route=this.path[this.path.length-1]}}class au{constructor(O,E){this.component=O,this.route=E}}function Ko(S,O,E){const F=S._root;return _a(F,O?O._root:null,E,[F.value])}function Os(S,O){const E=Symbol(),F=O.get(S,E);return F===E?"function"!=typeof S||(0,a.Z0I)(S)?O.get(S):S:F}function _a(S,O,E,F,q={canDeactivateChecks:[],canActivateChecks:[]}){const ae=Fo(O);return S.children.forEach(pe=>{(function ya(S,O,E,F,q={canDeactivateChecks:[],canActivateChecks:[]}){const ae=S.value,pe=O?O.value:null,rt=E?E.getContext(S.value.outlet):null;if(pe&&ae.routeConfig===pe.routeConfig){const nn=function _r(S,O,E){if("function"==typeof E)return E(S,O);switch(E){case"pathParamsChange":return!Pi(S.url,O.url);case"pathParamsOrQueryParamsChange":return!Pi(S.url,O.url)||!jn(S.queryParams,O.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!pa(S,O)||!jn(S.queryParams,O.queryParams);default:return!pa(S,O)}}(pe,ae,ae.routeConfig.runGuardsAndResolvers);nn?q.canActivateChecks.push(new Ys(F)):(ae.data=pe.data,ae._resolvedData=pe._resolvedData),_a(S,O,ae.component?rt?rt.children:null:E,F,q),nn&&rt&&rt.outlet&&rt.outlet.isActivated&&q.canDeactivateChecks.push(new au(rt.outlet.component,pe))}else pe&&ao(O,rt,q),q.canActivateChecks.push(new Ys(F)),_a(S,null,ae.component?rt?rt.children:null:E,F,q)})(pe,ae[pe.value.outlet],E,F.concat([pe.value]),q),delete ae[pe.value.outlet]}),Jt(ae,(pe,rt)=>ao(pe,E.getContext(rt),q)),q}function ao(S,O,E){const F=Fo(S),q=S.value;Jt(F,(ae,pe)=>{ao(ae,q.component?O?O.children.getContext(pe):null:O,E)}),E.canDeactivateChecks.push(new au(q.component&&O&&O.outlet&&O.outlet.isActivated?O.outlet.component:null,q))}function K(S){return"function"==typeof S}function _o(S){return S instanceof re.K||"EmptyError"===S?.name}const Ka=Symbol("INITIAL_VALUE");function ls(){return(0,Je.w)(S=>(0,Te.a)(S.map(O=>O.pipe((0,Yt.q)(1),(0,Ut.O)(Ka)))).pipe((0,Se.U)(O=>{for(const E of O)if(!0!==E){if(E===Ka)return Ka;if(!1===E||E instanceof ei)return E}return!0}),(0,ft.h)(O=>O!==Ka),(0,Yt.q)(1)))}function M(S){return(0,be.z)((0,Bn.b)(O=>{if(Ir(O))throw ps(0,O)}),(0,Se.U)(O=>!0===O))}const ne={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function me(S,O,E,F,q){const ae=Be(S,O,E);return ae.matched?function $(S,O,E,F){const q=O.canMatch;if(!q||0===q.length)return(0,ee.of)(!0);const ae=q.map(pe=>{const rt=Os(pe,S);return wn(function Es(S){return S&&K(S.canMatch)}(rt)?rt.canMatch(O,E):S.runInContext(()=>rt(O,E)))});return(0,ee.of)(ae).pipe(ls(),M())}(F=So(O,F),O,E).pipe((0,Se.U)(pe=>!0===pe?ae:{...ne})):(0,ee.of)(ae)}function Be(S,O,E){if(""===O.path)return"full"===O.pathMatch&&(S.hasChildren()||E.length>0)?{...ne}:{matched:!0,consumedSegments:[],remainingSegments:E,parameters:{},positionalParamSegments:{}};const q=(O.matcher||Tn)(E,S,O);if(!q)return{...ne};const ae={};Jt(q.posParams,(rt,nn)=>{ae[nn]=rt.path});const pe=q.consumed.length>0?{...ae,...q.consumed[q.consumed.length-1].parameters}:ae;return{matched:!0,consumedSegments:q.consumed,remainingSegments:E.slice(q.consumed.length),parameters:pe,positionalParamSegments:q.posParams??{}}}function He(S,O,E,F){if(E.length>0&&function Hn(S,O,E){return E.some(F=>Wr(S,O,F)&&is(F)!==Ge)}(S,E,F)){const ae=new Wn(O,function Ht(S,O,E,F){const q={};q[Ge]=F,F._sourceSegment=S,F._segmentIndexShift=O.length;for(const ae of E)if(""===ae.path&&is(ae)!==Ge){const pe=new Wn([],{});pe._sourceSegment=S,pe._segmentIndexShift=O.length,q[is(ae)]=pe}return q}(S,O,F,new Wn(E,S.children)));return ae._sourceSegment=S,ae._segmentIndexShift=O.length,{segmentGroup:ae,slicedSegments:[]}}if(0===E.length&&function qn(S,O,E){return E.some(F=>Wr(S,O,F))}(S,E,F)){const ae=new Wn(S.segments,function wt(S,O,E,F,q){const ae={};for(const pe of F)if(Wr(S,E,pe)&&!q[is(pe)]){const rt=new Wn([],{});rt._sourceSegment=S,rt._segmentIndexShift=O.length,ae[is(pe)]=rt}return{...q,...ae}}(S,O,E,F,S.children));return ae._sourceSegment=S,ae._segmentIndexShift=O.length,{segmentGroup:ae,slicedSegments:E}}const q=new Wn(S.segments,S.children);return q._sourceSegment=S,q._segmentIndexShift=O.length,{segmentGroup:q,slicedSegments:E}}function Wr(S,O,E){return(!(S.hasChildren()||O.length>0)||"full"!==E.pathMatch)&&""===E.path}function kr(S,O,E,F){return!!(is(S)===F||F!==Ge&&Wr(O,E,S))&&("**"===S.path||Be(O,S,E).matched)}function Cr(S,O,E){return 0===O.length&&!S.children[E]}const Dr=!1;class ni{constructor(O){this.segmentGroup=O||null}}class qe{constructor(O){this.urlTree=O}}function Rt(S){return Vt(new ni(S))}function Tt(S){return Vt(new qe(S))}class ui{constructor(O,E,F,q,ae){this.injector=O,this.configLoader=E,this.urlSerializer=F,this.urlTree=q,this.config=ae,this.allowRedirects=!0}apply(){const O=He(this.urlTree.root,[],[],this.config).segmentGroup,E=new Wn(O.segments,O.children);return this.expandSegmentGroup(this.injector,this.config,E,Ge).pipe((0,Se.U)(ae=>this.createUrlTree(Xt(ae),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Dn(ae=>{if(ae instanceof qe)return this.allowRedirects=!1,this.match(ae.urlTree);throw ae instanceof ni?this.noMatchError(ae):ae}))}match(O){return this.expandSegmentGroup(this.injector,this.config,O.root,Ge).pipe((0,Se.U)(q=>this.createUrlTree(Xt(q),O.queryParams,O.fragment))).pipe(Dn(q=>{throw q instanceof ni?this.noMatchError(q):q}))}noMatchError(O){return new a.vHH(4002,Dr)}createUrlTree(O,E,F){const q=mt(O);return new ei(q,E,F)}expandSegmentGroup(O,E,F,q){return 0===F.segments.length&&F.hasChildren()?this.expandChildren(O,E,F).pipe((0,Se.U)(ae=>new Wn([],ae))):this.expandSegment(O,F,E,F.segments,q,!0)}expandChildren(O,E,F){const q=[];for(const ae of Object.keys(F.children))"primary"===ae?q.unshift(ae):q.push(ae);return(0,V.D)(q).pipe((0,en.b)(ae=>{const pe=F.children[ae],rt=As(E,ae);return this.expandSegmentGroup(O,rt,pe,ae).pipe((0,Se.U)(nn=>({segment:nn,outlet:ae})))}),(0,qi.R)((ae,pe)=>(ae[pe.outlet]=pe.segment,ae),{}),Wt())}expandSegment(O,E,F,q,ae,pe){return(0,V.D)(F).pipe((0,en.b)(rt=>this.expandSegmentAgainstRoute(O,E,F,rt,q,ae,pe).pipe(Dn(An=>{if(An instanceof ni)return(0,ee.of)(null);throw An}))),(0,Zt.P)(rt=>!!rt),Dn((rt,nn)=>{if(_o(rt))return Cr(E,q,ae)?(0,ee.of)(new Wn([],{})):Rt(E);throw rt}))}expandSegmentAgainstRoute(O,E,F,q,ae,pe,rt){return kr(q,E,ae,pe)?void 0===q.redirectTo?this.matchSegmentAgainstRoute(O,E,q,ae,pe):rt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(O,E,F,q,ae,pe):Rt(E):Rt(E)}expandSegmentAgainstRouteUsingRedirect(O,E,F,q,ae,pe){return"**"===q.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(O,F,q,pe):this.expandRegularSegmentAgainstRouteUsingRedirect(O,E,F,q,ae,pe)}expandWildCardWithParamsAgainstRouteUsingRedirect(O,E,F,q){const ae=this.applyRedirectCommands([],F.redirectTo,{});return F.redirectTo.startsWith("/")?Tt(ae):this.lineralizeSegments(F,ae).pipe((0,Ye.z)(pe=>{const rt=new Wn(pe,{});return this.expandSegment(O,rt,E,pe,q,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(O,E,F,q,ae,pe){const{matched:rt,consumedSegments:nn,remainingSegments:An,positionalParamSegments:Jn}=Be(E,q,ae);if(!rt)return Rt(E);const Di=this.applyRedirectCommands(nn,q.redirectTo,Jn);return q.redirectTo.startsWith("/")?Tt(Di):this.lineralizeSegments(q,Di).pipe((0,Ye.z)(uo=>this.expandSegment(O,E,F,uo.concat(An),pe,!1)))}matchSegmentAgainstRoute(O,E,F,q,ae){return"**"===F.path?(O=So(F,O),F.loadChildren?(F._loadedRoutes?(0,ee.of)({routes:F._loadedRoutes,injector:F._loadedInjector}):this.configLoader.loadChildren(O,F)).pipe((0,Se.U)(rt=>(F._loadedRoutes=rt.routes,F._loadedInjector=rt.injector,new Wn(q,{})))):(0,ee.of)(new Wn(q,{}))):me(E,F,q,O).pipe((0,Je.w)(({matched:pe,consumedSegments:rt,remainingSegments:nn})=>pe?this.getChildConfig(O=F._injector??O,F,q).pipe((0,Ye.z)(Jn=>{const Di=Jn.injector??O,uo=Jn.routes,{segmentGroup:cs,slicedSegments:sa}=He(E,rt,nn,uo),Ea=new Wn(cs.segments,cs.children);if(0===sa.length&&Ea.hasChildren())return this.expandChildren(Di,uo,Ea).pipe((0,Se.U)(Ku=>new Wn(rt,Ku)));if(0===uo.length&&0===sa.length)return(0,ee.of)(new Wn(rt,{}));const Ji=is(F)===ae;return this.expandSegment(Di,Ea,uo,sa,Ji?Ge:ae,!0).pipe((0,Se.U)(Nu=>new Wn(rt.concat(Nu.segments),Nu.children)))})):Rt(E)))}getChildConfig(O,E,F){return E.children?(0,ee.of)({routes:E.children,injector:O}):E.loadChildren?void 0!==E._loadedRoutes?(0,ee.of)({routes:E._loadedRoutes,injector:E._loadedInjector}):function I(S,O,E,F){const q=O.canLoad;if(void 0===q||0===q.length)return(0,ee.of)(!0);const ae=q.map(pe=>{const rt=Os(pe,S);return wn(function L(S){return S&&K(S.canLoad)}(rt)?rt.canLoad(O,E):S.runInContext(()=>rt(O,E)))});return(0,ee.of)(ae).pipe(ls(),M())}(O,E,F).pipe((0,Ye.z)(q=>q?this.configLoader.loadChildren(O,E).pipe((0,Bn.b)(ae=>{E._loadedRoutes=ae.routes,E._loadedInjector=ae.injector})):function yr(S){return Vt(ga(Dr,3))}())):(0,ee.of)({routes:[],injector:O})}lineralizeSegments(O,E){let F=[],q=E.root;for(;;){if(F=F.concat(q.segments),0===q.numberOfChildren)return(0,ee.of)(F);if(q.numberOfChildren>1||!q.children[Ge])return O.redirectTo,Vt(new a.vHH(4e3,Dr));q=q.children[Ge]}}applyRedirectCommands(O,E,F){return this.applyRedirectCreateUrlTree(E,this.urlSerializer.parse(E),O,F)}applyRedirectCreateUrlTree(O,E,F,q){const ae=this.createSegmentGroup(O,E.root,F,q);return new ei(ae,this.createQueryParams(E.queryParams,this.urlTree.queryParams),E.fragment)}createQueryParams(O,E){const F={};return Jt(O,(q,ae)=>{if("string"==typeof q&&q.startsWith(":")){const rt=q.substring(1);F[ae]=E[rt]}else F[ae]=q}),F}createSegmentGroup(O,E,F,q){const ae=this.createSegments(O,E.segments,F,q);let pe={};return Jt(E.children,(rt,nn)=>{pe[nn]=this.createSegmentGroup(O,rt,F,q)}),new Wn(ae,pe)}createSegments(O,E,F,q){return E.map(ae=>ae.path.startsWith(":")?this.findPosParam(O,ae,q):this.findOrReturn(ae,F))}findPosParam(O,E,F){const q=F[E.path.substring(1)];if(!q)throw new a.vHH(4001,Dr);return q}findOrReturn(O,E){let F=0;for(const q of E){if(q.path===O.path)return E.splice(F),q;F++}return O}}class Vi{}class Ps{constructor(O,E,F,q,ae,pe,rt){this.injector=O,this.rootComponentType=E,this.config=F,this.urlTree=q,this.url=ae,this.paramsInheritanceStrategy=pe,this.urlSerializer=rt}recognize(){const O=He(this.urlTree.root,[],[],this.config.filter(E=>void 0===E.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,O,Ge).pipe((0,Se.U)(E=>{if(null===E)return null;const F=new Na([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ge,this.rootComponentType,null,this.urlTree.root,-1,{}),q=new bs(F,E),ae=new ti(this.url,q);return this.inheritParamsAndData(ae._root),ae}))}inheritParamsAndData(O){const E=O.value,F=gu(E,this.paramsInheritanceStrategy);E.params=Object.freeze(F.params),E.data=Object.freeze(F.data),O.children.forEach(q=>this.inheritParamsAndData(q))}processSegmentGroup(O,E,F,q){return 0===F.segments.length&&F.hasChildren()?this.processChildren(O,E,F):this.processSegment(O,E,F,F.segments,q)}processChildren(O,E,F){return(0,V.D)(Object.keys(F.children)).pipe((0,en.b)(q=>{const ae=F.children[q],pe=As(E,q);return this.processSegmentGroup(O,pe,ae,q)}),(0,qi.R)((q,ae)=>q&&ae?(q.push(...ae),q):null),function Lt(S,O=!1){return(0,Gt.e)((E,F)=>{let q=0;E.subscribe((0,at.x)(F,ae=>{const pe=S(ae,q++);(pe||O)&&F.next(ae),!pe&&F.complete()}))})}(q=>null!==q),(0,Ot.d)(null),Wt(),(0,Se.U)(q=>{if(null===q)return null;const ae=On(q);return function ba(S){S.sort((O,E)=>O.value.outlet===Ge?-1:E.value.outlet===Ge?1:O.value.outlet.localeCompare(E.value.outlet))}(ae),ae}))}processSegment(O,E,F,q,ae){return(0,V.D)(E).pipe((0,en.b)(pe=>this.processSegmentAgainstRoute(pe._injector??O,pe,F,q,ae)),(0,Zt.P)(pe=>!!pe),Dn(pe=>{if(_o(pe))return Cr(F,q,ae)?(0,ee.of)([]):(0,ee.of)(null);throw pe}))}processSegmentAgainstRoute(O,E,F,q,ae){if(E.redirectTo||!kr(E,F,q,ae))return(0,ee.of)(null);let pe;if("**"===E.path){const rt=q.length>0?rs(q).parameters:{},nn=x(F)+q.length,An=new Na(q,rt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,B(E),is(E),E.component??E._loadedComponent??null,E,li(F),nn,ue(E));pe=(0,ee.of)({snapshot:An,consumedSegments:[],remainingSegments:[]})}else pe=me(F,E,q,O).pipe((0,Se.U)(({matched:rt,consumedSegments:nn,remainingSegments:An,parameters:Jn})=>{if(!rt)return null;const Di=x(F)+nn.length;return{snapshot:new Na(nn,Jn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,B(E),is(E),E.component??E._loadedComponent??null,E,li(F),Di,ue(E)),consumedSegments:nn,remainingSegments:An}}));return pe.pipe((0,Je.w)(rt=>{if(null===rt)return(0,ee.of)(null);const{snapshot:nn,consumedSegments:An,remainingSegments:Jn}=rt;O=E._injector??O;const Di=E._loadedInjector??O,uo=function Fi(S){return S.children?S.children:S.loadChildren?S._loadedRoutes:[]}(E),{segmentGroup:cs,slicedSegments:sa}=He(F,An,Jn,uo.filter(Ji=>void 0===Ji.redirectTo));if(0===sa.length&&cs.hasChildren())return this.processChildren(Di,uo,cs).pipe((0,Se.U)(Ji=>null===Ji?null:[new bs(nn,Ji)]));if(0===uo.length&&0===sa.length)return(0,ee.of)([new bs(nn,[])]);const Ea=is(E)===ae;return this.processSegment(Di,uo,cs,sa,Ea?Ge:ae).pipe((0,Se.U)(Ji=>null===Ji?null:[new bs(nn,Ji)]))}))}}function sr(S){const O=S.value.routeConfig;return O&&""===O.path&&void 0===O.redirectTo}function On(S){const O=[],E=new Set;for(const F of S){if(!sr(F)){O.push(F);continue}const q=O.find(ae=>F.value.routeConfig===ae.value.routeConfig);void 0!==q?(q.children.push(...F.children),E.add(q)):O.push(F)}for(const F of E){const q=On(F.children);O.push(new bs(F.value,q))}return O.filter(F=>!E.has(F))}function li(S){let O=S;for(;O._sourceSegment;)O=O._sourceSegment;return O}function x(S){let O=S,E=O._segmentIndexShift??0;for(;O._sourceSegment;)O=O._sourceSegment,E+=O._segmentIndexShift??0;return E-1}function B(S){return S.data||{}}function ue(S){return S.resolve||{}}function Fr(S){return"string"==typeof S.title||null===S.title}function Pr(S){return(0,Je.w)(O=>{const E=S(O);return E?(0,V.D)(E).pipe((0,Se.U)(()=>O)):(0,ee.of)(O)})}const Ni=new a.OlP("ROUTES");let Zr=(()=>{class S{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,a.f3M)(a.Sil)}loadComponent(E){if(this.componentLoaders.get(E))return this.componentLoaders.get(E);if(E._loadedComponent)return(0,ee.of)(E._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(E);const F=wn(E.loadComponent()).pipe((0,Se.U)(Ui),(0,Bn.b)(ae=>{this.onLoadEndListener&&this.onLoadEndListener(E),E._loadedComponent=ae}),(0,hn.x)(()=>{this.componentLoaders.delete(E)})),q=new Ce(F,()=>new Kt.x).pipe(ht());return this.componentLoaders.set(E,q),q}loadChildren(E,F){if(this.childrenLoaders.get(F))return this.childrenLoaders.get(F);if(F._loadedRoutes)return(0,ee.of)({routes:F._loadedRoutes,injector:F._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(F);const ae=this.loadModuleFactoryOrRoutes(F.loadChildren).pipe((0,Se.U)(rt=>{this.onLoadEndListener&&this.onLoadEndListener(F);let nn,An,Jn=!1;Array.isArray(rt)?An=rt:(nn=rt.create(E).injector,An=ii(nn.get(Ni,[],a.XFs.Self|a.XFs.Optional)));return{routes:An.map(Ei),injector:nn}}),(0,hn.x)(()=>{this.childrenLoaders.delete(F)})),pe=new Ce(ae,()=>new Kt.x).pipe(ht());return this.childrenLoaders.set(F,pe),pe}loadModuleFactoryOrRoutes(E){return wn(E()).pipe((0,Se.U)(Ui),(0,Ye.z)(F=>F instanceof a.YKP||Array.isArray(F)?(0,ee.of)(F):(0,V.D)(this.compiler.compileModuleAsync(F))))}}return S.\u0275fac=function(E){return new(E||S)},S.\u0275prov=a.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();function Ui(S){return function Uo(S){return S&&"object"==typeof S&&"default"in S}(S)?S.default:S}let Ar=(()=>{class S{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Kt.x,this.configLoader=(0,a.f3M)(Zr),this.environmentInjector=(0,a.f3M)(a.lqb),this.urlSerializer=(0,a.f3M)(fs),this.rootContexts=(0,a.f3M)(ki),this.navigationId=0,this.afterPreactivation=()=>(0,ee.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=q=>this.events.next(new ko(q)),this.configLoader.onLoadStartListener=q=>this.events.next(new js(q))}complete(){this.transitions?.complete()}handleNavigationRequest(E){const F=++this.navigationId;this.transitions?.next({...this.transitions.value,...E,id:F})}setupNavigations(E){return this.transitions=new fe.X({id:0,targetPageId:0,currentUrlTree:E.currentUrlTree,currentRawUrl:E.currentUrlTree,extractedUrl:E.urlHandlingStrategy.extract(E.currentUrlTree),urlAfterRedirects:E.urlHandlingStrategy.extract(E.currentUrlTree),rawUrl:E.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ts,restoredState:null,currentSnapshot:E.routerState.snapshot,targetSnapshot:null,currentRouterState:E.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,ft.h)(F=>0!==F.id),(0,Se.U)(F=>({...F,extractedUrl:E.urlHandlingStrategy.extract(F.rawUrl)})),(0,Je.w)(F=>{let q=!1,ae=!1;return(0,ee.of)(F).pipe((0,Bn.b)(pe=>{this.currentNavigation={id:pe.id,initialUrl:pe.rawUrl,extractedUrl:pe.extractedUrl,trigger:pe.source,extras:pe.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Je.w)(pe=>{const rt=E.browserUrlTree.toString(),nn=!E.navigated||pe.extractedUrl.toString()!==rt||rt!==E.currentUrlTree.toString();if(!nn&&"reload"!==(pe.extras.onSameUrlNavigation??E.onSameUrlNavigation)){const Jn="";return this.events.next(new bo(pe.id,E.serializeUrl(F.rawUrl),Jn,0)),E.rawUrlTree=pe.rawUrl,pe.resolve(null),st.E}if(E.urlHandlingStrategy.shouldProcessUrl(pe.rawUrl))return yi(pe.source)&&(E.browserUrlTree=pe.extractedUrl),(0,ee.of)(pe).pipe((0,Je.w)(Jn=>{const Di=this.transitions?.getValue();return this.events.next(new Ks(Jn.id,this.urlSerializer.serialize(Jn.extractedUrl),Jn.source,Jn.restoredState)),Di!==this.transitions?.getValue()?st.E:Promise.resolve(Jn)}),function lr(S,O,E,F){return(0,Je.w)(q=>function Yr(S,O,E,F,q){return new ui(S,O,E,F,q).apply()}(S,O,E,q.extractedUrl,F).pipe((0,Se.U)(ae=>({...q,urlAfterRedirects:ae}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,E.config),(0,Bn.b)(Jn=>{this.currentNavigation={...this.currentNavigation,finalUrl:Jn.urlAfterRedirects},F.urlAfterRedirects=Jn.urlAfterRedirects}),function we(S,O,E,F,q){return(0,Ye.z)(ae=>function _u(S,O,E,F,q,ae,pe="emptyOnly"){return new Ps(S,O,E,F,q,pe,ae).recognize().pipe((0,Je.w)(rt=>null===rt?function Rs(S){return new $e.y(O=>O.error(S))}(new Vi):(0,ee.of)(rt)))}(S,O,E,ae.urlAfterRedirects,F.serialize(ae.urlAfterRedirects),F,q).pipe((0,Se.U)(pe=>({...ae,targetSnapshot:pe}))))}(this.environmentInjector,this.rootComponentType,E.config,this.urlSerializer,E.paramsInheritanceStrategy),(0,Bn.b)(Jn=>{if(F.targetSnapshot=Jn.targetSnapshot,"eager"===E.urlUpdateStrategy){if(!Jn.extras.skipLocationChange){const uo=E.urlHandlingStrategy.merge(Jn.urlAfterRedirects,Jn.rawUrl);E.setBrowserUrl(uo,Jn)}E.browserUrlTree=Jn.urlAfterRedirects}const Di=new no(Jn.id,this.urlSerializer.serialize(Jn.extractedUrl),this.urlSerializer.serialize(Jn.urlAfterRedirects),Jn.targetSnapshot);this.events.next(Di)}));if(nn&&E.urlHandlingStrategy.shouldProcessUrl(E.rawUrlTree)){const{id:Jn,extractedUrl:Di,source:uo,restoredState:cs,extras:sa}=pe,Ea=new Ks(Jn,this.urlSerializer.serialize(Di),uo,cs);this.events.next(Ea);const Ji=fa(Di,this.rootComponentType).snapshot;return F={...pe,targetSnapshot:Ji,urlAfterRedirects:Di,extras:{...sa,skipLocationChange:!1,replaceUrl:!1}},(0,ee.of)(F)}{const Jn="";return this.events.next(new bo(pe.id,E.serializeUrl(F.extractedUrl),Jn,1)),E.rawUrlTree=pe.rawUrl,pe.resolve(null),st.E}}),(0,Bn.b)(pe=>{const rt=new ro(pe.id,this.urlSerializer.serialize(pe.extractedUrl),this.urlSerializer.serialize(pe.urlAfterRedirects),pe.targetSnapshot);this.events.next(rt)}),(0,Se.U)(pe=>F={...pe,guards:Ko(pe.targetSnapshot,pe.currentSnapshot,this.rootContexts)}),function Ra(S,O){return(0,Ye.z)(E=>{const{targetSnapshot:F,currentSnapshot:q,guards:{canActivateChecks:ae,canDeactivateChecks:pe}}=E;return 0===pe.length&&0===ae.length?(0,ee.of)({...E,guardsResult:!0}):function va(S,O,E,F){return(0,V.D)(S).pipe((0,Ye.z)(q=>function se(S,O,E,F,q){const ae=O&&O.routeConfig?O.routeConfig.canDeactivate:null;if(!ae||0===ae.length)return(0,ee.of)(!0);const pe=ae.map(rt=>{const nn=Wa(O)??q,An=Os(rt,nn);return wn(function pn(S){return S&&K(S.canDeactivate)}(An)?An.canDeactivate(S,O,E,F):nn.runInContext(()=>An(S,O,E,F))).pipe((0,Zt.P)())});return(0,ee.of)(pe).pipe(ls())}(q.component,q.route,E,O,F)),(0,Zt.P)(q=>!0!==q,!0))}(pe,F,q,S).pipe((0,Ye.z)(rt=>rt&&function z(S){return"boolean"==typeof S}(rt)?function Eo(S,O,E,F){return(0,V.D)(O).pipe((0,en.b)(q=>(0,je.z)(function dl(S,O){return null!==S&&O&&O(new Zi(S)),(0,ee.of)(!0)}(q.route.parent,F),function ra(S,O){return null!==S&&O&&O(new so(S)),(0,ee.of)(!0)}(q.route,F),function Gu(S,O,E){const F=O[O.length-1],ae=O.slice(0,O.length-1).reverse().map(pe=>function Vo(S){const O=S.routeConfig?S.routeConfig.canActivateChild:null;return O&&0!==O.length?{node:S,guards:O}:null}(pe)).filter(pe=>null!==pe).map(pe=>De(()=>{const rt=pe.guards.map(nn=>{const An=Wa(pe.node)??E,Jn=Os(nn,An);return wn(function Pt(S){return S&&K(S.canActivateChild)}(Jn)?Jn.canActivateChild(F,S):An.runInContext(()=>Jn(F,S))).pipe((0,Zt.P)())});return(0,ee.of)(rt).pipe(ls())}));return(0,ee.of)(ae).pipe(ls())}(S,q.path,E),function hl(S,O,E){const F=O.routeConfig?O.routeConfig.canActivate:null;if(!F||0===F.length)return(0,ee.of)(!0);const q=F.map(ae=>De(()=>{const pe=Wa(O)??E,rt=Os(ae,pe);return wn(function le(S){return S&&K(S.canActivate)}(rt)?rt.canActivate(O,S):pe.runInContext(()=>rt(O,S))).pipe((0,Zt.P)())}));return(0,ee.of)(q).pipe(ls())}(S,q.route,E))),(0,Zt.P)(q=>!0!==q,!0))}(F,ae,S,O):(0,ee.of)(rt)),(0,Se.U)(rt=>({...E,guardsResult:rt})))})}(this.environmentInjector,pe=>this.events.next(pe)),(0,Bn.b)(pe=>{if(F.guardsResult=pe.guardsResult,Ir(pe.guardsResult))throw ps(0,pe.guardsResult);const rt=new zr(pe.id,this.urlSerializer.serialize(pe.extractedUrl),this.urlSerializer.serialize(pe.urlAfterRedirects),pe.targetSnapshot,!!pe.guardsResult);this.events.next(rt)}),(0,ft.h)(pe=>!!pe.guardsResult||(E.restoreHistory(pe),this.cancelNavigationTransition(pe,"",3),!1)),Pr(pe=>{if(pe.guards.canActivateChecks.length)return(0,ee.of)(pe).pipe((0,Bn.b)(rt=>{const nn=new na(rt.id,this.urlSerializer.serialize(rt.extractedUrl),this.urlSerializer.serialize(rt.urlAfterRedirects),rt.targetSnapshot);this.events.next(nn)}),(0,Je.w)(rt=>{let nn=!1;return(0,ee.of)(rt).pipe(function Et(S,O){return(0,Ye.z)(E=>{const{targetSnapshot:F,guards:{canActivateChecks:q}}=E;if(!q.length)return(0,ee.of)(E);let ae=0;return(0,V.D)(q).pipe((0,en.b)(pe=>function jt(S,O,E,F){const q=S.routeConfig,ae=S._resolve;return void 0!==q?.title&&!Fr(q)&&(ae[yt]=q.title),function kn(S,O,E,F){const q=function _i(S){return[...Object.keys(S),...Object.getOwnPropertySymbols(S)]}(S);if(0===q.length)return(0,ee.of)({});const ae={};return(0,V.D)(q).pipe((0,Ye.z)(pe=>function Br(S,O,E,F){const q=Wa(O)??F,ae=Os(S,q);return wn(ae.resolve?ae.resolve(O,E):q.runInContext(()=>ae(O,E)))}(S[pe],O,E,F).pipe((0,Zt.P)(),(0,Bn.b)(rt=>{ae[pe]=rt}))),It(1),(0,$t.h)(ae),Dn(pe=>_o(pe)?st.E:Vt(pe)))}(ae,S,O,F).pipe((0,Se.U)(pe=>(S._resolvedData=pe,S.data=gu(S,E).resolve,q&&Fr(q)&&(S.data[yt]=q.title),null)))}(pe.route,F,S,O)),(0,Bn.b)(()=>ae++),It(1),(0,Ye.z)(pe=>ae===q.length?(0,ee.of)(E):st.E))})}(E.paramsInheritanceStrategy,this.environmentInjector),(0,Bn.b)({next:()=>nn=!0,complete:()=>{nn||(E.restoreHistory(rt),this.cancelNavigationTransition(rt,"",2))}}))}),(0,Bn.b)(rt=>{const nn=new io(rt.id,this.urlSerializer.serialize(rt.extractedUrl),this.urlSerializer.serialize(rt.urlAfterRedirects),rt.targetSnapshot);this.events.next(nn)}))}),Pr(pe=>{const rt=nn=>{const An=[];nn.routeConfig?.loadComponent&&!nn.routeConfig._loadedComponent&&An.push(this.configLoader.loadComponent(nn.routeConfig).pipe((0,Bn.b)(Jn=>{nn.component=Jn}),(0,Se.U)(()=>{})));for(const Jn of nn.children)An.push(...rt(Jn));return An};return(0,Te.a)(rt(pe.targetSnapshot.root)).pipe((0,Ot.d)(),(0,Yt.q)(1))}),Pr(()=>this.afterPreactivation()),(0,Se.U)(pe=>{const rt=function Uu(S,O,E){const F=Hu(S,O._root,E?E._root:void 0);return new mi(F,O)}(E.routeReuseStrategy,pe.targetSnapshot,pe.currentRouterState);return F={...pe,targetRouterState:rt}}),(0,Bn.b)(pe=>{E.currentUrlTree=pe.urlAfterRedirects,E.rawUrlTree=E.urlHandlingStrategy.merge(pe.urlAfterRedirects,pe.rawUrl),E.routerState=pe.targetRouterState,"deferred"===E.urlUpdateStrategy&&(pe.extras.skipLocationChange||E.setBrowserUrl(E.rawUrlTree,pe),E.browserUrlTree=pe.urlAfterRedirects)}),((S,O,E)=>(0,Se.U)(F=>(new mo(O,F.targetRouterState,F.currentRouterState,E).activate(S),F)))(this.rootContexts,E.routeReuseStrategy,pe=>this.events.next(pe)),(0,Yt.q)(1),(0,Bn.b)({next:pe=>{q=!0,this.lastSuccessfulNavigation=this.currentNavigation,E.navigated=!0,this.events.next(new Is(pe.id,this.urlSerializer.serialize(pe.extractedUrl),this.urlSerializer.serialize(E.currentUrlTree))),E.titleStrategy?.updateTitle(pe.targetRouterState.snapshot),pe.resolve(!0)},complete:()=>{q=!0}}),(0,hn.x)(()=>{q||ae||this.cancelNavigationTransition(F,"",1),this.currentNavigation?.id===F.id&&(this.currentNavigation=null)}),Dn(pe=>{if(ae=!0,Ma(pe)){Bi(pe)||(E.navigated=!0,E.restoreHistory(F,!0));const rt=new Er(F.id,this.urlSerializer.serialize(F.extractedUrl),pe.message,pe.cancellationCode);if(this.events.next(rt),Bi(pe)){const nn=E.urlHandlingStrategy.merge(pe.url,E.rawUrlTree),An={skipLocationChange:F.extras.skipLocationChange,replaceUrl:"eager"===E.urlUpdateStrategy||yi(F.source)};E.scheduleNavigation(nn,Ts,null,An,{resolve:F.resolve,reject:F.reject,promise:F.promise})}else F.resolve(!1)}else{E.restoreHistory(F,!0);const rt=new qs(F.id,this.urlSerializer.serialize(F.extractedUrl),pe,F.targetSnapshot??void 0);this.events.next(rt);try{F.resolve(E.errorHandler(pe))}catch(nn){F.reject(nn)}}return st.E}))}))}cancelNavigationTransition(E,F,q){const ae=new Er(E.id,this.urlSerializer.serialize(E.extractedUrl),F,q);this.events.next(ae),E.resolve(!1)}}return S.\u0275fac=function(E){return new(E||S)},S.\u0275prov=a.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();function yi(S){return S!==Ts}let Zs=(()=>{class S{buildTitle(E){let F,q=E.root;for(;void 0!==q;)F=this.getResolvedTitleForRoute(q)??F,q=q.children.find(ae=>ae.outlet===Ge);return F}getResolvedTitleForRoute(E){return E.data[yt]}}return S.\u0275fac=function(E){return new(E||S)},S.\u0275prov=a.Yz7({token:S,factory:function(){return(0,a.f3M)(Yo)},providedIn:"root"}),S})(),Yo=(()=>{class S extends Zs{constructor(E){super(),this.title=E}updateTitle(E){const F=this.buildTitle(E);void 0!==F&&this.title.setTitle(F)}}return S.\u0275fac=function(E){return new(E||S)(a.LFG(vn.Dx))},S.\u0275prov=a.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})(),ju=(()=>{class S{}return S.\u0275fac=function(E){return new(E||S)},S.\u0275prov=a.Yz7({token:S,factory:function(){return(0,a.f3M)(Jc)},providedIn:"root"}),S})();class Cu{shouldDetach(O){return!1}store(O,E){}shouldAttach(O){return!1}retrieve(O){return null}shouldReuseRoute(O,E){return O.routeConfig===E.routeConfig}}let Jc=(()=>{class S extends Cu{}return S.\u0275fac=function(){let O;return function(F){return(O||(O=a.n5z(S)))(F||S)}}(),S.\u0275prov=a.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();const ss=new a.OlP("",{providedIn:"root",factory:()=>({})});let Cs=(()=>{class S{}return S.\u0275fac=function(E){return new(E||S)},S.\u0275prov=a.Yz7({token:S,factory:function(){return(0,a.f3M)(uu)},providedIn:"root"}),S})(),uu=(()=>{class S{shouldProcessUrl(E){return!0}extract(E){return E}merge(E,F){return E}}return S.\u0275fac=function(E){return new(E||S)},S.\u0275prov=a.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();function gn(S){throw S}function Js(S,O,E){return O.parse("/")}const Ao={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},qa={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let tn=(()=>{class S{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,a.f3M)(a.c2e),this.isNgZoneEnabled=!1,this.options=(0,a.f3M)(ss,{optional:!0})||{},this.errorHandler=this.options.errorHandler||gn,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Js,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,a.f3M)(Cs),this.routeReuseStrategy=(0,a.f3M)(ju),this.urlCreationStrategy=(0,a.f3M)(mr),this.titleStrategy=(0,a.f3M)(Zs),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=ii((0,a.f3M)(Ni,{optional:!0})??[]),this.navigationTransitions=(0,a.f3M)(Ar),this.urlSerializer=(0,a.f3M)(fs),this.location=(0,a.f3M)(ct.Ye),this.isNgZoneEnabled=(0,a.f3M)(a.R0b)instanceof a.R0b&&a.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ei,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=fa(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(E=>{this.lastSuccessfulId=E.id,this.currentPageId=this.browserPageId??0},E=>{this.console.warn(`Unhandled Navigation Error: ${E}`)})}resetRootComponentType(E){this.routerState.root.component=E,this.navigationTransitions.rootComponentType=E}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const E=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Ts,E)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(E=>{const F="popstate"===E.type?"popstate":"hashchange";"popstate"===F&&setTimeout(()=>{this.navigateToSyncWithBrowser(E.url,F,E.state)},0)}))}navigateToSyncWithBrowser(E,F,q){const ae={replaceUrl:!0},pe=q?.navigationId?q:null;if(q){const nn={...q};delete nn.navigationId,delete nn.\u0275routerPageId,0!==Object.keys(nn).length&&(ae.state=nn)}const rt=this.parseUrl(E);this.scheduleNavigation(rt,F,pe,ae)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(E){this.config=E.map(Ei),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(E,F={}){const{relativeTo:q,queryParams:ae,fragment:pe,queryParamsHandling:rt,preserveFragment:nn}=F,An=nn?this.currentUrlTree.fragment:pe;let Jn=null;switch(rt){case"merge":Jn={...this.currentUrlTree.queryParams,...ae};break;case"preserve":Jn=this.currentUrlTree.queryParams;break;default:Jn=ae||null}return null!==Jn&&(Jn=this.removeEmptyProps(Jn)),this.urlCreationStrategy.createUrlTree(q,this.routerState,this.currentUrlTree,E,Jn,An??null)}navigateByUrl(E,F={skipLocationChange:!1}){const q=Ir(E)?E:this.parseUrl(E),ae=this.urlHandlingStrategy.merge(q,this.rawUrlTree);return this.scheduleNavigation(ae,Ts,null,F)}navigate(E,F={skipLocationChange:!1}){return function cr(S){for(let O=0;O<S.length;O++){const E=S[O];if(null==E)throw new a.vHH(4008,false)}}(E),this.navigateByUrl(this.createUrlTree(E,F),F)}serializeUrl(E){return this.urlSerializer.serialize(E)}parseUrl(E){let F;try{F=this.urlSerializer.parse(E)}catch(q){F=this.malformedUriErrorHandler(q,this.urlSerializer,E)}return F}isActive(E,F){let q;if(q=!0===F?{...Ao}:!1===F?{...qa}:F,Ir(E))return bi(this.currentUrlTree,E,q);const ae=this.parseUrl(E);return bi(this.currentUrlTree,ae,q)}removeEmptyProps(E){return Object.keys(E).reduce((F,q)=>{const ae=E[q];return null!=ae&&(F[q]=ae),F},{})}scheduleNavigation(E,F,q,ae,pe){if(this.disposed)return Promise.resolve(!1);let rt,nn,An,Jn;return pe?(rt=pe.resolve,nn=pe.reject,An=pe.promise):An=new Promise((Di,uo)=>{rt=Di,nn=uo}),Jn="computed"===this.canceledNavigationResolution?q&&q.\u0275routerPageId?q.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:Jn,source:F,restoredState:q,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:E,extras:ae,resolve:rt,reject:nn,promise:An,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),An.catch(Di=>Promise.reject(Di))}setBrowserUrl(E,F){const q=this.urlSerializer.serialize(E);if(this.location.isCurrentPathEqualTo(q)||F.extras.replaceUrl){const pe={...F.extras.state,...this.generateNgRouterState(F.id,this.browserPageId)};this.location.replaceState(q,"",pe)}else{const ae={...F.extras.state,...this.generateNgRouterState(F.id,F.targetPageId)};this.location.go(q,"",ae)}}restoreHistory(E,F=!1){if("computed"===this.canceledNavigationResolution){const ae=this.currentPageId-(this.browserPageId??this.currentPageId);0!==ae?this.location.historyGo(ae):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===ae&&(this.resetState(E),this.browserUrlTree=E.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(F&&this.resetState(E),this.resetUrlToCurrentUrlTree())}resetState(E){this.routerState=E.currentRouterState,this.currentUrlTree=E.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,E.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(E,F){return"computed"===this.canceledNavigationResolution?{navigationId:E,\u0275routerPageId:F}:{navigationId:E}}}return S.\u0275fac=function(E){return new(E||S)},S.\u0275prov=a.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})(),yu=(()=>{class S{constructor(E,F,q,ae,pe,rt){this.router=E,this.route=F,this.tabIndexAttribute=q,this.renderer=ae,this.el=pe,this.locationStrategy=rt,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Kt.x;const nn=pe.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===nn||"area"===nn,this.isAnchorElement?this.subscription=E.events.subscribe(An=>{An instanceof Is&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(E){this._preserveFragment=(0,a.D6c)(E)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(E){this._skipLocationChange=(0,a.D6c)(E)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(E){this._replaceUrl=(0,a.D6c)(E)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(E){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",E)}ngOnChanges(E){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(E){null!=E?(this.commands=Array.isArray(E)?E:[E],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(E,F,q,ae,pe){return!!(null===this.urlTree||this.isAnchorElement&&(0!==E||F||q||ae||pe||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const E=null===this.href?null:(0,a.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",E)}applyAttributeValue(E,F){const q=this.renderer,ae=this.el.nativeElement;null!==F?q.setAttribute(ae,E,F):q.removeAttribute(ae,E)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return S.\u0275fac=function(E){return new(E||S)(a.Y36(tn),a.Y36(Bo),a.$8M("tabindex"),a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(ct.S$))},S.\u0275dir=a.lG2({type:S,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(E,F){1&E&&a.NdJ("click",function(ae){return F.onClick(ae.button,ae.ctrlKey,ae.shiftKey,ae.altKey,ae.metaKey)}),2&E&&a.uIk("target",F.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[a.TTD]}),S})(),Fn=(()=>{class S{get isActive(){return this._isActive}constructor(E,F,q,ae,pe){this.router=E,this.element=F,this.renderer=q,this.cdr=ae,this.link=pe,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new a.vpe,this.routerEventsSubscription=E.events.subscribe(rt=>{rt instanceof Is&&this.update()})}ngAfterContentInit(){(0,ee.of)(this.links.changes,(0,ee.of)(null)).pipe((0,yn.J)()).subscribe(E=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const E=[...this.links.toArray(),this.link].filter(F=>!!F).map(F=>F.onChanges);this.linkInputChangesSubscription=(0,V.D)(E).pipe((0,yn.J)()).subscribe(F=>{this._isActive!==this.isLinkActive(this.router)(F)&&this.update()})}set routerLinkActive(E){const F=Array.isArray(E)?E:E.split(" ");this.classes=F.filter(q=>!!q)}ngOnChanges(E){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||Promise.resolve().then(()=>{const E=this.hasActiveLinks();this._isActive!==E&&(this._isActive=E,this.cdr.markForCheck(),this.classes.forEach(F=>{E?this.renderer.addClass(this.element.nativeElement,F):this.renderer.removeClass(this.element.nativeElement,F)}),E&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(E))})}isLinkActive(E){const F=function Nt(S){return!!S.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return q=>!!q.urlTree&&E.isActive(q.urlTree,F)}hasActiveLinks(){const E=this.isLinkActive(this.router);return this.link&&E(this.link)||this.links.some(E)}}return S.\u0275fac=function(E){return new(E||S)(a.Y36(tn),a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(a.sBO),a.Y36(yu,8))},S.\u0275dir=a.lG2({type:S,selectors:[["","routerLinkActive",""]],contentQueries:function(E,F,q){if(1&E&&a.Suo(q,yu,5),2&E){let ae;a.iGM(ae=a.CRH())&&(F.links=ae)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[a.TTD]}),S})();class rn{}let fl=(()=>{class S{constructor(E,F,q,ae,pe){this.router=E,this.injector=q,this.preloadingStrategy=ae,this.loader=pe}setUpPreloading(){this.subscription=this.router.events.pipe((0,ft.h)(E=>E instanceof Is),(0,en.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(E,F){const q=[];for(const ae of F){ae.providers&&!ae._injector&&(ae._injector=(0,a.MMx)(ae.providers,E,`Route: ${ae.path}`));const pe=ae._injector??E,rt=ae._loadedInjector??pe;(ae.loadChildren&&!ae._loadedRoutes&&void 0===ae.canLoad||ae.loadComponent&&!ae._loadedComponent)&&q.push(this.preloadConfig(pe,ae)),(ae.children||ae._loadedRoutes)&&q.push(this.processRoutes(rt,ae.children??ae._loadedRoutes))}return(0,V.D)(q).pipe((0,yn.J)())}preloadConfig(E,F){return this.preloadingStrategy.preload(F,()=>{let q;q=F.loadChildren&&void 0===F.canLoad?this.loader.loadChildren(E,F):(0,ee.of)(null);const ae=q.pipe((0,Ye.z)(pe=>null===pe?(0,ee.of)(void 0):(F._loadedRoutes=pe.routes,F._loadedInjector=pe.injector,this.processRoutes(pe.injector??E,pe.routes))));if(F.loadComponent&&!F._loadedComponent){const pe=this.loader.loadComponent(F);return(0,V.D)([ae,pe]).pipe((0,yn.J)())}return ae})}}return S.\u0275fac=function(E){return new(E||S)(a.LFG(tn),a.LFG(a.Sil),a.LFG(a.lqb),a.LFG(rn),a.LFG(Zr))},S.\u0275prov=a.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();const Tl=new a.OlP("");let kl=(()=>{class S{constructor(E,F,q,ae,pe={}){this.urlSerializer=E,this.transitions=F,this.viewportScroller=q,this.zone=ae,this.options=pe,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},pe.scrollPositionRestoration=pe.scrollPositionRestoration||"disabled",pe.anchorScrolling=pe.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(E=>{E instanceof Ks?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=E.navigationTrigger,this.restoredId=E.restoredState?E.restoredState.navigationId:0):E instanceof Is&&(this.lastId=E.id,this.scheduleScrollEvent(E,this.urlSerializer.parse(E.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(E=>{E instanceof Qe&&(E.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(E.position):E.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(E.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(E,F){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Qe(E,"popstate"===this.lastSource?this.store[this.restoredId]:null,F))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return S.\u0275fac=function(E){a.$Z()},S.\u0275prov=a.Yz7({token:S,factory:S.\u0275fac}),S})();var Qs=(()=>((Qs=Qs||{})[Qs.COMPLETE=0]="COMPLETE",Qs[Qs.FAILED=1]="FAILED",Qs[Qs.REDIRECTING=2]="REDIRECTING",Qs))();const lu=!1;function Ya(S,O){return{\u0275kind:S,\u0275providers:O}}const Ho=new a.OlP("",{providedIn:"root",factory:()=>!1});function os(){const S=(0,a.f3M)(a.zs3);return O=>{const E=S.get(a.z2F);if(O!==E.components[0])return;const F=S.get(tn),q=S.get(nr);1===S.get(Go)&&F.initialNavigation(),S.get(mn,null,a.XFs.Optional)?.setUpPreloading(),S.get(Tl,null,a.XFs.Optional)?.init(),F.resetRootComponentType(E.componentTypes[0]),q.closed||(q.next(),q.complete(),q.unsubscribe())}}const nr=new a.OlP(lu?"bootstrap done indicator":"",{factory:()=>new Kt.x}),Go=new a.OlP(lu?"initial navigation":"",{providedIn:"root",factory:()=>1});function Xs(){let S=[];return S=lu?[{provide:a.Xts,multi:!0,useFactory:()=>{const O=(0,a.f3M)(tn);return()=>O.events.subscribe(E=>{console.group?.(`Router Event: ${E.constructor.name}`),console.log(function We(S){if(!("type"in S))return`Unknown Router Event: ${S.constructor.name}`;switch(S.type){case 14:return`ActivationEnd(path: '${S.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${S.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${S.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${S.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${S.id}, url: '${S.url}', urlAfterRedirects: '${S.urlAfterRedirects}', state: ${S.state}, shouldActivate: ${S.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${S.id}, url: '${S.url}', urlAfterRedirects: '${S.urlAfterRedirects}', state: ${S.state})`;case 2:return`NavigationCancel(id: ${S.id}, url: '${S.url}')`;case 16:return`NavigationSkipped(id: ${S.id}, url: '${S.url}')`;case 1:return`NavigationEnd(id: ${S.id}, url: '${S.url}', urlAfterRedirects: '${S.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${S.id}, url: '${S.url}', error: ${S.error})`;case 0:return`NavigationStart(id: ${S.id}, url: '${S.url}')`;case 6:return`ResolveEnd(id: ${S.id}, url: '${S.url}', urlAfterRedirects: '${S.urlAfterRedirects}', state: ${S.state})`;case 5:return`ResolveStart(id: ${S.id}, url: '${S.url}', urlAfterRedirects: '${S.urlAfterRedirects}', state: ${S.state})`;case 10:return`RouteConfigLoadEnd(path: ${S.route.path})`;case 9:return`RouteConfigLoadStart(path: ${S.route.path})`;case 4:return`RoutesRecognized(id: ${S.id}, url: '${S.url}', urlAfterRedirects: '${S.urlAfterRedirects}', state: ${S.state})`;case 15:return`Scroll(anchor: '${S.anchor}', position: '${S.position?`${S.position[0]}, ${S.position[1]}`:null}')`}}(E)),console.log(E),console.groupEnd?.()})}}]:[],Ya(1,S)}const mn=new a.OlP(lu?"router preloader":"");function Za(S){return Ya(0,[{provide:mn,useExisting:fl},{provide:rn,useExisting:S}])}const Do=!1,Fa=new a.OlP(Do?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),zu=[ct.Ye,{provide:fs,useClass:wr},tn,ki,{provide:Bo,useFactory:function cu(S){return S.routerState.root},deps:[tn]},Zr,Do?{provide:Ho,useValue:!0}:[]];function Xc(){return new a.PXZ("Router",tn)}let Ja=(()=>{class S{constructor(E){}static forRoot(E,F){return{ngModule:S,providers:[zu,Do&&F?.enableTracing?Xs().\u0275providers:[],{provide:Ni,multi:!0,useValue:E},{provide:Fa,useFactory:Wu,deps:[[tn,new a.FiY,new a.tp0]]},{provide:ss,useValue:F||{}},F?.useHash?{provide:ct.S$,useClass:ct.Do}:{provide:ct.S$,useClass:ct.b0},{provide:Tl,useFactory:()=>{const S=(0,a.f3M)(ct.EM),O=(0,a.f3M)(a.R0b),E=(0,a.f3M)(ss),F=(0,a.f3M)(Ar),q=(0,a.f3M)(fs);return E.scrollOffset&&S.setOffset(E.scrollOffset),new kl(q,F,S,O,E)}},F?.preloadingStrategy?Za(F.preloadingStrategy).\u0275providers:[],{provide:a.PXZ,multi:!0,useFactory:Xc},F?.initialNavigation?wa(F):[],[{provide:nt,useFactory:os},{provide:a.tb,multi:!0,useExisting:nt}]]}}static forChild(E){return{ngModule:S,providers:[{provide:Ni,multi:!0,useValue:E}]}}}return S.\u0275fac=function(E){return new(E||S)(a.LFG(Fa,8))},S.\u0275mod=a.oAB({type:S}),S.\u0275inj=a.cJS({imports:[$a]}),S})();function Wu(S){if(Do&&S)throw new a.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function wa(S){return["disabled"===S.initialNavigation?Ya(3,[{provide:a.ip1,multi:!0,useFactory:()=>{const O=(0,a.f3M)(tn);return()=>{O.setUpLocationChangeListener()}}},{provide:Go,useValue:2}]).\u0275providers:[],"enabledBlocking"===S.initialNavigation?Ya(2,[{provide:Go,useValue:0},{provide:a.ip1,multi:!0,deps:[a.zs3],useFactory:O=>{const E=O.get(ct.V_,Promise.resolve());return()=>E.then(()=>new Promise(F=>{const q=O.get(tn),ae=O.get(nr);(function Pa(S,O){S.events.pipe((0,ft.h)(E=>E instanceof Is||E instanceof Er||E instanceof qs||E instanceof bo),(0,Se.U)(E=>E instanceof Is||E instanceof bo?Qs.COMPLETE:E instanceof Er&&(0===E.code||1===E.code)?Qs.REDIRECTING:Qs.FAILED),(0,ft.h)(E=>E!==Qs.REDIRECTING),(0,Yt.q)(1)).subscribe(()=>{O()})})(q,()=>{F(!0)}),O.get(Ar).afterPreactivation=()=>(F(!0),ae.closed?(0,ee.of)(void 0):ae),q.initialNavigation()}))}}]).\u0275providers:[]]}const nt=new a.OlP(Do?"Router Initializer":"")},5003:(Nn,lt,Y)=>{"use strict";Y.d(lt,{Z:()=>Ft});var a=Y(7748),V=Y(4692),ee=Y(8559),fe=Y(8118);class re{constructor(at,ht){this._delegate=at,this.firebase=ht,(0,ee._addComponent)(at,new V.wA("app-compat",()=>this,"PUBLIC")),this.container=at.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(at){this._delegate.automaticDataCollectionEnabled=at}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(at=>{this._delegate.checkDestroyed(),at()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,ee.deleteApp)(this._delegate)))}_getService(at,ht=ee._DEFAULT_ENTRY_NAME){var Ce;this._delegate.checkDestroyed();const Kt=this._delegate.container.getProvider(at);return!Kt.isInitialized()&&"EXPLICIT"===(null===(Ce=Kt.getComponent())||void 0===Ce?void 0:Ce.instantiationMode)&&Kt.initialize(),Kt.getImmediate({identifier:ht})}_removeServiceInstance(at,ht=ee._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(at).clearInstance(ht)}_addComponent(at){(0,ee._addComponent)(this._delegate,at)}_addOrOverwriteComponent(at){(0,ee._addOrOverwriteComponent)(this._delegate,at)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const je=new a.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),De=function et(){const Gt=function $e(Gt){const at={},ht={__esModule:!0,initializeApp:function ct(Ut,ft={}){const Ye=ee.initializeApp(Ut,ft);if((0,a.r3)(at,Ye.name))return at[Ye.name];const Zt=new Gt(Ye,ht);return at[Ye.name]=Zt,Zt},app:Kt,registerVersion:ee.registerVersion,setLogLevel:ee.setLogLevel,onLog:ee.onLog,apps:null,SDK_VERSION:ee.SDK_VERSION,INTERNAL:{registerComponent:function Je(Ut){const ft=Ut.name,Ye=ft.replace("-compat","");if(ee._registerComponent(Ut)&&"PUBLIC"===Ut.type){const Zt=(en=Kt())=>{if("function"!=typeof en[Ye])throw je.create("invalid-app-argument",{appName:ft});return en[Ye]()};void 0!==Ut.serviceProps&&(0,a.ZB)(Zt,Ut.serviceProps),ht[Ye]=Zt,Gt.prototype[Ye]=function(...en){return this._getService.bind(this,ft).apply(this,Ut.multipleInstances?en:[])}}return"PUBLIC"===Ut.type?ht[Ye]:null},removeApp:function Ce(Ut){delete at[Ut]},useAsService:function Yt(Ut,ft){return"serverAuth"===ft?null:ft},modularAPIs:ee}};function Kt(Ut){if(!(0,a.r3)(at,Ut=Ut||ee._DEFAULT_ENTRY_NAME))throw je.create("no-app",{appName:Ut});return at[Ut]}return ht.default=ht,Object.defineProperty(ht,"apps",{get:function Se(){return Object.keys(at).map(Ut=>at[Ut])}}),Kt.App=Gt,ht}(re);return Gt.INTERNAL=Object.assign(Object.assign({},Gt.INTERNAL),{createFirebaseNamespace:et,extendNamespace:function at(ht){(0,a.ZB)(Gt,ht)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),Gt}(),be=new fe.Yd("@firebase/app-compat");if((0,a.jU)()&&void 0!==self.firebase){be.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Gt=self.firebase.SDK_VERSION;Gt&&Gt.indexOf("LITE")>=0&&be.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ft=De;!function st(Gt){(0,ee.registerVersion)("@firebase/app-compat","0.2.12",Gt)}()},8559:(Nn,lt,Y)=>{"use strict";Y.r(lt),Y.d(lt,{FirebaseError:()=>fe.ZR,SDK_VERSION:()=>fs,_DEFAULT_ENTRY_NAME:()=>bi,_addComponent:()=>In,_addOrOverwriteComponent:()=>bn,_apps:()=>fr,_clearComponents:()=>fi,_components:()=>br,_getProvider:()=>ei,_registerComponent:()=>si,_removeServiceInstance:()=>Wn,deleteApp:()=>oi,getApp:()=>vs,getApps:()=>Rr,initializeApp:()=>wr,onLog:()=>Le,registerVersion:()=>At,setLogLevel:()=>Ue});var a=Y(1670),V=Y(4692),ee=Y(8118),fe=Y(7748);const re=(St,dt)=>dt.some(an=>St instanceof an);let Te,je;const De=new WeakMap,be=new WeakMap,xe=new WeakMap,Vt=new WeakMap,st=new WeakMap;let at={get(St,dt,an){if(St instanceof IDBTransaction){if("done"===dt)return be.get(St);if("objectStoreNames"===dt)return St.objectStoreNames||xe.get(St);if("store"===dt)return an.objectStoreNames[1]?void 0:an.objectStore(an.objectStoreNames[0])}return ct(St[dt])},set:(St,dt,an)=>(St[dt]=an,!0),has:(St,dt)=>St instanceof IDBTransaction&&("done"===dt||"store"===dt)||dt in St};function Kt(St){return"function"==typeof St?function Ce(St){return St!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function et(){return je||(je=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(St)?function(...dt){return St.apply(Se(this),dt),ct(De.get(this))}:function(...dt){return ct(St.apply(Se(this),dt))}:function(dt,...an){const Kn=St.call(Se(this),dt,...an);return xe.set(Kn,dt.sort?dt.sort():[dt]),ct(Kn)}}(St):(St instanceof IDBTransaction&&function Gt(St){if(be.has(St))return;const dt=new Promise((an,Kn)=>{const tr=()=>{St.removeEventListener("complete",gr),St.removeEventListener("error",Zn),St.removeEventListener("abort",Zn)},gr=()=>{an(),tr()},Zn=()=>{Kn(St.error||new DOMException("AbortError","AbortError")),tr()};St.addEventListener("complete",gr),St.addEventListener("error",Zn),St.addEventListener("abort",Zn)});be.set(St,dt)}(St),re(St,function $e(){return Te||(Te=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(St,at):St)}function ct(St){if(St instanceof IDBRequest)return function Ft(St){const dt=new Promise((an,Kn)=>{const tr=()=>{St.removeEventListener("success",gr),St.removeEventListener("error",Zn)},gr=()=>{an(ct(St.result)),tr()},Zn=()=>{Kn(St.error),tr()};St.addEventListener("success",gr),St.addEventListener("error",Zn)});return dt.then(an=>{an instanceof IDBCursor&&De.set(an,St)}).catch(()=>{}),st.set(dt,St),dt}(St);if(Vt.has(St))return Vt.get(St);const dt=Kt(St);return dt!==St&&(Vt.set(St,dt),st.set(dt,St)),dt}const Se=St=>st.get(St),Ut=["get","getKey","getAll","getAllKeys","count"],ft=["put","add","delete","clear"],Ye=new Map;function Zt(St,dt){if(!(St instanceof IDBDatabase)||dt in St||"string"!=typeof dt)return;if(Ye.get(dt))return Ye.get(dt);const an=dt.replace(/FromIndex$/,""),Kn=dt!==an,tr=ft.includes(an);if(!(an in(Kn?IDBIndex:IDBObjectStore).prototype)||!tr&&!Ut.includes(an))return;const gr=function(){var Zn=(0,a.Z)(function*(ai,...Ur){const ji=this.transaction(ai,tr?"readwrite":"readonly");let Li=ji.store;return Kn&&(Li=Li.index(Ur.shift())),(yield Promise.all([Li[an](...Ur),tr&&ji.done]))[0]});return function(Ur){return Zn.apply(this,arguments)}}();return Ye.set(dt,gr),gr}!function ht(St){at=St(at)}(St=>({...St,get:(dt,an,Kn)=>Zt(dt,an)||St.get(dt,an,Kn),has:(dt,an)=>!!Zt(dt,an)||St.has(dt,an)}));class en{constructor(dt){this.container=dt}getPlatformInfoString(){return this.container.getProviders().map(an=>{if(function Bn(St){return"VERSION"===St.getComponent()?.type}(an)){const Kn=an.getImmediate();return`${Kn.library}/${Kn.version}`}return null}).filter(an=>an).join(" ")}}const Dn="@firebase/app",It=new ee.Yd("@firebase/app"),bi="[DEFAULT]",Gs={[Dn]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},fr=new Map,br=new Map;function In(St,dt){try{St.container.addComponent(dt)}catch(an){It.debug(`Component ${dt.name} failed to register with FirebaseApp ${St.name}`,an)}}function bn(St,dt){St.container.addOrOverwriteComponent(dt)}function si(St){const dt=St.name;if(br.has(dt))return It.debug(`There were multiple attempts to register component ${dt}.`),!1;br.set(dt,St);for(const an of fr.values())In(an,St);return!0}function ei(St,dt){const an=St.container.getProvider("heartbeat").getImmediate({optional:!0});return an&&an.triggerHeartbeat(),St.container.getProvider(dt)}function Wn(St,dt,an=bi){ei(St,dt).clearInstance(an)}function fi(){br.clear()}const Pi=new fe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class xr{constructor(dt,an,Kn){this._isDeleted=!1,this._options=Object.assign({},dt),this._config=Object.assign({},an),this._name=an.name,this._automaticDataCollectionEnabled=an.automaticDataCollectionEnabled,this._container=Kn,this.container.addComponent(new V.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(dt){this.checkDestroyed(),this._automaticDataCollectionEnabled=dt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(dt){this._isDeleted=dt}checkDestroyed(){if(this.isDeleted)throw Pi.create("app-deleted",{appName:this._name})}}const fs="9.22.2";function wr(St,dt={}){let an=St;"object"!=typeof dt&&(dt={name:dt});const Kn=Object.assign({name:bi,automaticDataCollectionEnabled:!1},dt),tr=Kn.name;if("string"!=typeof tr||!tr)throw Pi.create("bad-app-name",{appName:String(tr)});if(an||(an=(0,fe.aH)()),!an)throw Pi.create("no-options");const gr=fr.get(tr);if(gr){if((0,fe.vZ)(an,gr.options)&&(0,fe.vZ)(Kn,gr.config))return gr;throw Pi.create("duplicate-app",{appName:tr})}const Zn=new V.H0(tr);for(const Ur of br.values())Zn.addComponent(Ur);const ai=new xr(an,Kn,Zn);return fr.set(tr,ai),ai}function vs(St=bi){const dt=fr.get(St);if(!dt&&St===bi&&(0,fe.aH)())return wr();if(!dt)throw Pi.create("no-app",{appName:St});return dt}function Rr(){return Array.from(fr.values())}function oi(St){return pi.apply(this,arguments)}function pi(){return(pi=(0,a.Z)(function*(St){const dt=St.name;fr.has(dt)&&(fr.delete(dt),yield Promise.all(St.container.getProviders().map(an=>an.delete())),St.isDeleted=!0)})).apply(this,arguments)}function At(St,dt,an){var Kn;let tr=null!==(Kn=Gs[St])&&void 0!==Kn?Kn:St;an&&(tr+=`-${an}`);const gr=tr.match(/\s|\//),Zn=dt.match(/\s|\//);if(gr||Zn){const ai=[`Unable to register library "${tr}" with version "${dt}":`];return gr&&ai.push(`library name "${tr}" contains illegal characters (whitespace or "/")`),gr&&Zn&&ai.push("and"),Zn&&ai.push(`version name "${dt}" contains illegal characters (whitespace or "/")`),void It.warn(ai.join(" "))}si(new V.wA(`${tr}-version`,()=>({library:tr,version:dt}),"VERSION"))}function Le(St,dt){if(null!==St&&"function"!=typeof St)throw Pi.create("invalid-log-argument");(0,ee.Am)(St,dt)}function Ue(St){(0,ee.Ub)(St)}const ln="firebase-heartbeat-database",qt=1,Ee="firebase-heartbeat-store";let ve=null;function Oe(){return ve||(ve=function Je(St,dt,{blocked:an,upgrade:Kn,blocking:tr,terminated:gr}={}){const Zn=indexedDB.open(St,dt),ai=ct(Zn);return Kn&&Zn.addEventListener("upgradeneeded",Ur=>{Kn(ct(Zn.result),Ur.oldVersion,Ur.newVersion,ct(Zn.transaction),Ur)}),an&&Zn.addEventListener("blocked",Ur=>an(Ur.oldVersion,Ur.newVersion,Ur)),ai.then(Ur=>{gr&&Ur.addEventListener("close",()=>gr()),tr&&Ur.addEventListener("versionchange",ji=>tr(ji.oldVersion,ji.newVersion,ji))}).catch(()=>{}),ai}(ln,qt,{upgrade:(St,dt)=>{0===dt&&St.createObjectStore(Ee)}}).catch(St=>{throw Pi.create("idb-open",{originalErrorMessage:St.message})})),ve}function ze(){return(ze=(0,a.Z)(function*(St){try{return yield(yield Oe()).transaction(Ee).objectStore(Ee).get(Me(St))}catch(dt){if(dt instanceof fe.ZR)It.warn(dt.message);else{const an=Pi.create("idb-get",{originalErrorMessage:dt?.message});It.warn(an.message)}}})).apply(this,arguments)}function on(St,dt){return ke.apply(this,arguments)}function ke(){return(ke=(0,a.Z)(function*(St,dt){try{const Kn=(yield Oe()).transaction(Ee,"readwrite");yield Kn.objectStore(Ee).put(dt,Me(St)),yield Kn.done}catch(an){if(an instanceof fe.ZR)It.warn(an.message);else{const Kn=Pi.create("idb-set",{originalErrorMessage:an?.message});It.warn(Kn.message)}}})).apply(this,arguments)}function Me(St){return`${St.name}!${St.options.appId}`}class mt{constructor(dt){this.container=dt,this._heartbeatsCache=null;const an=this.container.getProvider("app").getImmediate();this._storage=new Ir(an),this._heartbeatsCachePromise=this._storage.read().then(Kn=>(this._heartbeatsCache=Kn,Kn))}triggerHeartbeat(){var dt=this;return(0,a.Z)(function*(){const Kn=dt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),tr=Xt();if(null===dt._heartbeatsCache&&(dt._heartbeatsCache=yield dt._heartbeatsCachePromise),dt._heartbeatsCache.lastSentHeartbeatDate!==tr&&!dt._heartbeatsCache.heartbeats.some(gr=>gr.date===tr))return dt._heartbeatsCache.heartbeats.push({date:tr,agent:Kn}),dt._heartbeatsCache.heartbeats=dt._heartbeatsCache.heartbeats.filter(gr=>{const Zn=new Date(gr.date).valueOf();return Date.now()-Zn<=2592e6}),dt._storage.overwrite(dt._heartbeatsCache)})()}getHeartbeatsHeader(){var dt=this;return(0,a.Z)(function*(){if(null===dt._heartbeatsCache&&(yield dt._heartbeatsCachePromise),null===dt._heartbeatsCache||0===dt._heartbeatsCache.heartbeats.length)return"";const an=Xt(),{heartbeatsToSend:Kn,unsentEntries:tr}=function Vn(St,dt=1024){const an=[];let Kn=St.slice();for(const tr of St){const gr=an.find(Zn=>Zn.agent===tr.agent);if(gr){if(gr.dates.push(tr.date),gi(an)>dt){gr.dates.pop();break}}else if(an.push({agent:tr.agent,dates:[tr.date]}),gi(an)>dt){an.pop();break}Kn=Kn.slice(1)}return{heartbeatsToSend:an,unsentEntries:Kn}}(dt._heartbeatsCache.heartbeats),gr=(0,fe.L)(JSON.stringify({version:2,heartbeats:Kn}));return dt._heartbeatsCache.lastSentHeartbeatDate=an,tr.length>0?(dt._heartbeatsCache.heartbeats=tr,yield dt._storage.overwrite(dt._heartbeatsCache)):(dt._heartbeatsCache.heartbeats=[],dt._storage.overwrite(dt._heartbeatsCache)),gr})()}}function Xt(){return(new Date).toISOString().substring(0,10)}class Ir{constructor(dt){this.app=dt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,a.Z)(function*(){return!!(0,fe.hl)()&&(0,fe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var dt=this;return(0,a.Z)(function*(){return(yield dt._canUseIndexedDBPromise)&&(yield function ut(St){return ze.apply(this,arguments)}(dt.app))||{heartbeats:[]}})()}overwrite(dt){var an=this;return(0,a.Z)(function*(){var Kn;if(yield an._canUseIndexedDBPromise){const gr=yield an.read();return on(an.app,{lastSentHeartbeatDate:null!==(Kn=dt.lastSentHeartbeatDate)&&void 0!==Kn?Kn:gr.lastSentHeartbeatDate,heartbeats:dt.heartbeats})}})()}add(dt){var an=this;return(0,a.Z)(function*(){var Kn;if(yield an._canUseIndexedDBPromise){const gr=yield an.read();return on(an.app,{lastSentHeartbeatDate:null!==(Kn=dt.lastSentHeartbeatDate)&&void 0!==Kn?Kn:gr.lastSentHeartbeatDate,heartbeats:[...gr.heartbeats,...dt.heartbeats]})}})()}}function gi(St){return(0,fe.L)(JSON.stringify({version:2,heartbeats:St})).length}!function Ws(St){si(new V.wA("platform-logger",dt=>new en(dt),"PRIVATE")),si(new V.wA("heartbeat",dt=>new mt(dt),"PRIVATE")),At(Dn,"0.9.12",St),At(Dn,"0.9.12","esm2017"),At("fire-js","")}("")},4692:(Nn,lt,Y)=>{"use strict";Y.d(lt,{H0:()=>$e,wA:()=>ee});var a=Y(1670),V=Y(7748);class ee{constructor(De,be,xe){this.name=De,this.instanceFactory=be,this.type=xe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(De){return this.instantiationMode=De,this}setMultipleInstances(De){return this.multipleInstances=De,this}setServiceProps(De){return this.serviceProps=De,this}setInstanceCreatedCallback(De){return this.onInstanceCreated=De,this}}const fe="[DEFAULT]";class re{constructor(De,be){this.name=De,this.container=be,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(De){const be=this.normalizeInstanceIdentifier(De);if(!this.instancesDeferred.has(be)){const xe=new V.BH;if(this.instancesDeferred.set(be,xe),this.isInitialized(be)||this.shouldAutoInitialize())try{const Vt=this.getOrInitializeService({instanceIdentifier:be});Vt&&xe.resolve(Vt)}catch{}}return this.instancesDeferred.get(be).promise}getImmediate(De){var be;const xe=this.normalizeInstanceIdentifier(De?.identifier),Vt=null!==(be=De?.optional)&&void 0!==be&&be;if(!this.isInitialized(xe)&&!this.shouldAutoInitialize()){if(Vt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:xe})}catch(st){if(Vt)return null;throw st}}getComponent(){return this.component}setComponent(De){if(De.name!==this.name)throw Error(`Mismatching Component ${De.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=De,this.shouldAutoInitialize()){if(function je(et){return"EAGER"===et.instantiationMode}(De))try{this.getOrInitializeService({instanceIdentifier:fe})}catch{}for(const[be,xe]of this.instancesDeferred.entries()){const Vt=this.normalizeInstanceIdentifier(be);try{const st=this.getOrInitializeService({instanceIdentifier:Vt});xe.resolve(st)}catch{}}}}clearInstance(De=fe){this.instancesDeferred.delete(De),this.instancesOptions.delete(De),this.instances.delete(De)}delete(){var De=this;return(0,a.Z)(function*(){const be=Array.from(De.instances.values());yield Promise.all([...be.filter(xe=>"INTERNAL"in xe).map(xe=>xe.INTERNAL.delete()),...be.filter(xe=>"_delete"in xe).map(xe=>xe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(De=fe){return this.instances.has(De)}getOptions(De=fe){return this.instancesOptions.get(De)||{}}initialize(De={}){const{options:be={}}=De,xe=this.normalizeInstanceIdentifier(De.instanceIdentifier);if(this.isInitialized(xe))throw Error(`${this.name}(${xe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Vt=this.getOrInitializeService({instanceIdentifier:xe,options:be});for(const[st,Ft]of this.instancesDeferred.entries())xe===this.normalizeInstanceIdentifier(st)&&Ft.resolve(Vt);return Vt}onInit(De,be){var xe;const Vt=this.normalizeInstanceIdentifier(be),st=null!==(xe=this.onInitCallbacks.get(Vt))&&void 0!==xe?xe:new Set;st.add(De),this.onInitCallbacks.set(Vt,st);const Ft=this.instances.get(Vt);return Ft&&De(Ft,Vt),()=>{st.delete(De)}}invokeOnInitCallbacks(De,be){const xe=this.onInitCallbacks.get(be);if(xe)for(const Vt of xe)try{Vt(De,be)}catch{}}getOrInitializeService({instanceIdentifier:De,options:be={}}){let xe=this.instances.get(De);if(!xe&&this.component&&(xe=this.component.instanceFactory(this.container,{instanceIdentifier:(et=De,et===fe?void 0:et),options:be}),this.instances.set(De,xe),this.instancesOptions.set(De,be),this.invokeOnInitCallbacks(xe,De),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,De,xe)}catch{}var et;return xe||null}normalizeInstanceIdentifier(De=fe){return this.component?this.component.multipleInstances?De:fe:De}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class $e{constructor(De){this.name=De,this.providers=new Map}addComponent(De){const be=this.getProvider(De.name);if(be.isComponentSet())throw new Error(`Component ${De.name} has already been registered with ${this.name}`);be.setComponent(De)}addOrOverwriteComponent(De){this.getProvider(De.name).isComponentSet()&&this.providers.delete(De.name),this.addComponent(De)}getProvider(De){if(this.providers.has(De))return this.providers.get(De);const be=new re(De,this);return this.providers.set(De,be),be}getProviders(){return Array.from(this.providers.values())}}},8118:(Nn,lt,Y)=>{"use strict";Y.d(lt,{Am:()=>et,Ub:()=>$e,Yd:()=>je,in:()=>V});const a=[];var V=(()=>{return(De=V||(V={}))[De.DEBUG=0]="DEBUG",De[De.VERBOSE=1]="VERBOSE",De[De.INFO=2]="INFO",De[De.WARN=3]="WARN",De[De.ERROR=4]="ERROR",De[De.SILENT=5]="SILENT",V;var De})();const ee={debug:V.DEBUG,verbose:V.VERBOSE,info:V.INFO,warn:V.WARN,error:V.ERROR,silent:V.SILENT},fe=V.INFO,re={[V.DEBUG]:"log",[V.VERBOSE]:"log",[V.INFO]:"info",[V.WARN]:"warn",[V.ERROR]:"error"},Te=(De,be,...xe)=>{if(be<De.logLevel)return;const Vt=(new Date).toISOString(),st=re[be];if(!st)throw new Error(`Attempted to log a message with an invalid logType (value: ${be})`);console[st](`[${Vt}]  ${De.name}:`,...xe)};class je{constructor(be){this.name=be,this._logLevel=fe,this._logHandler=Te,this._userLogHandler=null,a.push(this)}get logLevel(){return this._logLevel}set logLevel(be){if(!(be in V))throw new TypeError(`Invalid value "${be}" assigned to \`logLevel\``);this._logLevel=be}setLogLevel(be){this._logLevel="string"==typeof be?ee[be]:be}get logHandler(){return this._logHandler}set logHandler(be){if("function"!=typeof be)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=be}get userLogHandler(){return this._userLogHandler}set userLogHandler(be){this._userLogHandler=be}debug(...be){this._userLogHandler&&this._userLogHandler(this,V.DEBUG,...be),this._logHandler(this,V.DEBUG,...be)}log(...be){this._userLogHandler&&this._userLogHandler(this,V.VERBOSE,...be),this._logHandler(this,V.VERBOSE,...be)}info(...be){this._userLogHandler&&this._userLogHandler(this,V.INFO,...be),this._logHandler(this,V.INFO,...be)}warn(...be){this._userLogHandler&&this._userLogHandler(this,V.WARN,...be),this._logHandler(this,V.WARN,...be)}error(...be){this._userLogHandler&&this._userLogHandler(this,V.ERROR,...be),this._logHandler(this,V.ERROR,...be)}}function $e(De){a.forEach(be=>{be.setLogLevel(De)})}function et(De,be){for(const xe of a){let Vt=null;be&&be.level&&(Vt=ee[be.level]),xe.userLogHandler=null===De?null:(st,Ft,...Gt)=>{const at=Gt.map(ht=>{if(null==ht)return null;if("string"==typeof ht)return ht;if("number"==typeof ht||"boolean"==typeof ht)return ht.toString();if(ht instanceof Error)return ht.message;try{return JSON.stringify(ht)}catch{return null}}).filter(ht=>ht).join(" ");Ft>=(Vt??st.logLevel)&&De({level:V[Ft].toLowerCase(),message:at,args:Gt,type:st.name})}}}},6197:(Nn,lt,Y)=>{"use strict";Y.d(lt,{IJ:()=>hd});var a=Y(2560),V=Y(833),ee=Y(591),fe=Y(745),re=Y(253),Te=Y(4987),je=Y(9525),$e=Y(9806),et=Y(2971),De=Y(8385);const be=["addListener","removeListener"],xe=["addEventListener","removeEventListener"],Vt=["on","off"];function st(h,w,u,_){if((0,et.m)(u)&&(_=u,u=void 0),_)return st(h,w,u).pipe((0,De.Z)(_));const[N,j]=function ht(h){return(0,et.m)(h.addEventListener)&&(0,et.m)(h.removeEventListener)}(h)?xe.map(ye=>Ve=>h[ye](w,Ve,u)):function Gt(h){return(0,et.m)(h.addListener)&&(0,et.m)(h.removeListener)}(h)?be.map(Ft(h,w)):function at(h){return(0,et.m)(h.on)&&(0,et.m)(h.off)}(h)?Vt.map(Ft(h,w)):[];if(!N&&(0,$e.z)(h))return(0,je.z)(ye=>st(ye,w,u))((0,Te.Xf)(h));if(!N)throw new TypeError("Invalid event target");return new V.y(ye=>{const Ve=(...Ze)=>ye.next(1<Ze.length?Ze:Ze[0]);return N(Ve),()=>j(Ve)})}function Ft(h,w){return u=>_=>h[u](w,_)}var Ce=Y(6936),Kt=Y(9867);function Se(h=0,w,u=Ce.P){let _=-1;return null!=w&&((0,Kt.K)(w)?u=w:_=w),new V.y(N=>{let j=function ct(h){return h instanceof Date&&!isNaN(h)}(h)?+h-u.now():h;j<0&&(j=0);let ye=0;return u.schedule(function(){N.closed||(N.next(ye++),0<=_?this.schedule(void 0,_):N.complete())},j)})}const{isArray:Je}=Array;function Yt(h){return 1===h.length&&Je(h[0])?h[0]:h}var Ut=Y(3945);var Zt=Y(6317),en=Y(6562),Bn=Y(9635);const Dn=new V.y(Bn.Z);var It=Y(420);function _t(...h){const w=(0,It.jO)(h),u=Yt(h);return u.length?new V.y(_=>{let N=u.map(()=>[]),j=u.map(()=>!1);_.add(()=>{N=j=null});for(let ye=0;!_.closed&&ye<u.length;ye++)(0,Te.Xf)(u[ye]).subscribe((0,Ut.x)(_,Ve=>{if(N[ye].push(Ve),N.every(Ze=>Ze.length)){const Ze=N.map(Dt=>Dt.shift());_.next(w?w(...Ze):Ze),N.some((Dt,Bt)=>!Dt.length&&j[Bt])&&_.complete()}},()=>{j[ye]=!0,!N[ye].length&&_.complete()}));return()=>{N=j=null}}):ee.E}var Ot=Y(6646),Ct=Y(9319),Lt=Y(1944);function $t(h){return(0,Lt.e)((w,u)=>{(0,Te.Xf)(h).subscribe((0,Ut.x)(u,()=>u.complete(),Bn.Z)),!u.closed&&w.subscribe(u)})}var hn=Y(116),yn=Y(9295),vn=Y(635),Ge=Y(4874),yt=Y(8977),Ke=Y(2673),pt=Y(9337),Tn=Y(9173);function zn(...h){const w=(0,It.jO)(h);return(0,Lt.e)((u,_)=>{const N=h.length,j=new Array(N);let ye=h.map(()=>!1),Ve=!1;for(let Ze=0;Ze<N;Ze++)(0,Te.Xf)(h[Ze]).subscribe((0,Ut.x)(_,Dt=>{j[Ze]=Dt,!Ve&&!ye[Ze]&&(ye[Ze]=!0,(Ve=ye.every(Tn.y))&&(ye=null))},Bn.Z));u.subscribe((0,Ut.x)(_,Ze=>{if(Ve){const Dt=[Ze,...j];_.next(w?w(...Dt):Dt)}}))})}Y(73);var Jt=Y(4666),wn=Y(2508);function ga(h,w){}function Bi(h,w){if(1&h&&(a.TgZ(0,"button",3),a._uU(1),a.YNc(2,ga,0,0,"ng-template",4),a.qZA()),2&h){const u=w.$implicit;a.Q6J("ngbPanelToggle",u),a.xp6(1),a.hij(" ",u.title," "),a.xp6(1),a.Q6J("ngTemplateOutlet",null==u.titleTpl?null:u.titleTpl.templateRef)}}function Ma(h,w){}function xi(h,w){}function ki(h,w){if(1&h){const u=a.EpF();a.TgZ(0,"div",8),a.NdJ("ngbRef",function(N){a.CHM(u);const j=a.oxw().$implicit;return a.KtG(j.panelDiv=N)}),a.TgZ(1,"div",9),a.YNc(2,xi,0,0,"ng-template",4),a.qZA()()}if(2&h){const u=a.oxw().$implicit;a.s9C("id",u.id),a.uIk("aria-labelledby",u.id+"-header"),a.xp6(2),a.Q6J("ngTemplateOutlet",(null==u.contentTpl?null:u.contentTpl.templateRef)||null)}}Math,Math,Math;const oo=function(h,w){return{$implicit:h,opened:w}};function ma(h,w){if(1&h&&(a.TgZ(0,"div")(1,"div",5),a.YNc(2,Ma,0,0,"ng-template",6),a.qZA(),a.YNc(3,ki,3,3,"div",7),a.qZA()),2&h){const u=w.$implicit,_=a.oxw(),N=a.MAs(1);a.Tol("accordion-item "+(u.cardClass||"")),a.xp6(1),a.Tol("accordion-header "+(u.type?"bg-"+u.type:_.type?"bg-"+_.type:"")),a.MGl("id","",u.id,"-header"),a.xp6(1),a.Q6J("ngTemplateOutlet",(null==u.headerTpl?null:u.headerTpl.templateRef)||N)("ngTemplateOutletContext",a.WLB(8,oo,u,u.isOpen)),a.xp6(1),a.Q6J("ngIf",!_.destroyOnHide||u.isOpen||u.transitionRunning)}}function ja(h,w){if(1&h){const u=a.EpF();a.TgZ(0,"button",1),a.NdJ("click",function(){a.CHM(u);const N=a.oxw();return a.KtG(N.close())}),a.qZA()}}const ou=["*"];function $a(h,w){if(1&h){const u=a.EpF();a.TgZ(0,"button",6),a.NdJ("click",function(){const j=a.CHM(u).$implicit,ye=a.oxw();return ye.focus(),a.KtG(ye.select(j.id,ye.NgbSlideEventSource.INDICATOR))}),a.qZA()}if(2&h){const u=w.$implicit,_=a.oxw();a.ekj("active",u.id===_.activeId),a.uIk("aria-labelledby","slide-"+u.id)("aria-controls","slide-"+u.id)("aria-selected",u.id===_.activeId)}}function So(h,w){}function $s(h,w){if(1&h&&(a.TgZ(0,"div",7)(1,"span",8),a.SDv(2,9),a.qZA(),a.YNc(3,So,0,0,"ng-template",10),a.qZA()),2&h){const u=w.$implicit,_=w.index,N=w.count;a.Q6J("id","slide-"+u.id),a.xp6(2),a.pQV(_+1)(N),a.QtT(2),a.xp6(1),a.Q6J("ngTemplateOutlet",u.tplRef)}}function wo(h,w){if(1&h){const u=a.EpF();a.TgZ(0,"button",11),a.NdJ("click",function(){a.CHM(u);const N=a.oxw();return a.KtG(N.arrowLeft())}),a._UZ(1,"span",12),a.TgZ(2,"span",8),a.SDv(3,13),a.qZA()()}}function go(h,w){if(1&h){const u=a.EpF();a.TgZ(0,"button",14),a.NdJ("click",function(){a.CHM(u);const N=a.oxw();return a.KtG(N.arrowRight())}),a._UZ(1,"span",15),a.TgZ(2,"span",8),a.SDv(3,16),a.qZA()()}}const za=["ngbDatepickerDayView",""],Ls=["month"],us=["year"];function ws(h,w){if(1&h&&(a.TgZ(0,"option",5),a._uU(1),a.qZA()),2&h){const u=w.$implicit,_=a.oxw();a.Q6J("value",u),a.uIk("aria-label",_.i18n.getMonthFullName(u,_.date.year)),a.xp6(1),a.Oqu(_.i18n.getMonthShortName(u,_.date.year))}}function Ai(h,w){if(1&h&&(a.TgZ(0,"option",5),a._uU(1),a.qZA()),2&h){const u=w.$implicit,_=a.oxw();a.Q6J("value",u),a.xp6(1),a.Oqu(_.i18n.getYearNumerals(u))}}function Ei(h,w){if(1&h){const u=a.EpF();a.TgZ(0,"ngb-datepicker-navigation-select",7),a.NdJ("select",function(N){a.CHM(u);const j=a.oxw();return a.KtG(j.select.emit(N))}),a.qZA()}if(2&h){const u=a.oxw();a.Q6J("date",u.date)("disabled",u.disabled)("months",u.selectBoxes.months)("years",u.selectBoxes.years)}}function is(h,w){1&h&&a._UZ(0,"div",0)}function As(h,w){1&h&&a._UZ(0,"div",0)}function Wa(h,w){if(1&h&&(a.YNc(0,is,1,0,"div",9),a.TgZ(1,"div",10),a._uU(2),a.qZA(),a.YNc(3,As,1,0,"div",9)),2&h){const u=w.$implicit,_=w.index,N=a.oxw(2);a.Q6J("ngIf",_>0),a.xp6(2),a.hij(" ",N.i18n.getMonthLabel(u.firstDate)," "),a.xp6(1),a.Q6J("ngIf",_!==N.months.length-1)}}function Oa(h,w){if(1&h&&a.YNc(0,Wa,4,3,"ng-template",8),2&h){const u=a.oxw();a.Q6J("ngForOf",u.months)}}function mo(h,w){if(1&h&&(a.TgZ(0,"div",5),a._uU(1),a.qZA()),2&h){const u=a.oxw(2);a.xp6(1),a.Oqu(u.i18n.getWeekLabel())}}function Ys(h,w){if(1&h&&(a.TgZ(0,"div",6),a._uU(1),a.qZA()),2&h){const u=w.$implicit;a.xp6(1),a.Oqu(u)}}function au(h,w){if(1&h&&(a.TgZ(0,"div",2),a.YNc(1,mo,2,1,"div",3),a.YNc(2,Ys,2,1,"div",4),a.qZA()),2&h){const u=a.oxw();a.xp6(1),a.Q6J("ngIf",u.datepicker.showWeekNumbers),a.xp6(1),a.Q6J("ngForOf",u.viewModel.weekdays)}}function Ko(h,w){if(1&h&&(a.TgZ(0,"div",11),a._uU(1),a.qZA()),2&h){const u=a.oxw(2).$implicit,_=a.oxw();a.xp6(1),a.Oqu(_.i18n.getWeekNumerals(u.number))}}function Vo(h,w){}function Os(h,w){if(1&h&&a.YNc(0,Vo,0,0,"ng-template",14),2&h){const u=a.oxw().$implicit,_=a.oxw(3);a.Q6J("ngTemplateOutlet",_.datepicker.dayTemplate)("ngTemplateOutletContext",u.context)}}function _a(h,w){if(1&h){const u=a.EpF();a.TgZ(0,"div",12),a.NdJ("click",function(N){const ye=a.CHM(u).$implicit;return a.oxw(3).doSelect(ye),a.KtG(N.preventDefault())}),a.YNc(1,Os,1,2,"ng-template",13),a.qZA()}if(2&h){const u=w.$implicit;a.ekj("disabled",u.context.disabled)("hidden",u.hidden)("ngb-dp-today",u.context.today),a.Q6J("tabindex",u.tabindex),a.uIk("aria-label",u.ariaLabel),a.xp6(1),a.Q6J("ngIf",!u.hidden)}}function ya(h,w){if(1&h&&(a.TgZ(0,"div",8),a.YNc(1,Ko,2,1,"div",9),a.YNc(2,_a,2,9,"div",10),a.qZA()),2&h){const u=a.oxw().$implicit,_=a.oxw();a.xp6(1),a.Q6J("ngIf",_.datepicker.showWeekNumbers),a.xp6(1),a.Q6J("ngForOf",u.days)}}function _r(h,w){1&h&&a.YNc(0,ya,3,2,"div",7),2&h&&a.Q6J("ngIf",!w.$implicit.collapsed)}const ao=["defaultDayTemplate"],K=["content"];function z(h,w){if(1&h&&a._UZ(0,"div",8),2&h){const _=w.currentMonth,N=w.selected,j=w.disabled,ye=w.focused;a.Q6J("date",w.date)("currentMonth",_)("selected",N)("disabled",j)("focused",ye)}}function L(h,w){if(1&h&&(a.TgZ(0,"div",13),a._uU(1),a.qZA()),2&h){const u=a.oxw().$implicit,_=a.oxw(2);a.xp6(1),a.hij(" ",_.i18n.getMonthLabel(u.firstDate)," ")}}function le(h,w){if(1&h&&(a.TgZ(0,"div",10),a.YNc(1,L,2,1,"div",11),a._UZ(2,"ngb-datepicker-month",12),a.qZA()),2&h){const u=w.$implicit,_=a.oxw(2);a.xp6(1),a.Q6J("ngIf","none"===_.navigation||_.displayMonths>1&&"select"===_.navigation),a.xp6(1),a.Q6J("month",u.firstDate)}}function Pt(h,w){if(1&h&&a.YNc(0,le,3,2,"div",9),2&h){const u=a.oxw();a.Q6J("ngForOf",u.model.months)}}function pn(h,w){if(1&h){const u=a.EpF();a.TgZ(0,"ngb-datepicker-navigation",14),a.NdJ("navigate",function(N){a.CHM(u);const j=a.oxw();return a.KtG(j.onNavigateEvent(N))})("select",function(N){a.CHM(u);const j=a.oxw();return a.KtG(j.onNavigateDateSelect(N))}),a.qZA()}if(2&h){const u=a.oxw();a.Q6J("date",u.model.firstDate)("months",u.model.months)("disabled",u.model.disabled)("showSelect","select"===u.model.navigation)("prevDisabled",u.model.prevDisabled)("nextDisabled",u.model.nextDisabled)("selectBoxes",u.model.selectBoxes)}}function Es(h,w){}function xt(h,w){}const Hr=function(h){return{$implicit:h}},_o=["dialog"],Ka=["ngbNavOutlet",""];function ls(h,w){}function Ra(h,w){if(1&h&&(a.TgZ(0,"div",2),a.YNc(1,ls,0,0,"ng-template",3),a.qZA()),2&h){const u=a.oxw().$implicit,_=a.oxw();a.Q6J("item",u)("nav",_.nav)("role",_.paneRole),a.xp6(1),a.Q6J("ngTemplateOutlet",(null==u.contentTpl?null:u.contentTpl.templateRef)||null)("ngTemplateOutletContext",a.VKq(5,Hr,u.active||_.isPanelTransitioning(u)))}}function va(h,w){if(1&h&&a.YNc(0,Ra,2,7,"div",1),2&h){const u=w.$implicit,_=a.oxw();a.Q6J("ngIf",u.isPanelInDom()||_.isPanelTransitioning(u))}}function Eo(h,w){1&h&&(a.TgZ(0,"span",9),a.SDv(1,10),a.qZA())}function ra(h,w){1&h&&(a.TgZ(0,"span",9),a.SDv(1,11),a.qZA())}function dl(h,w){1&h&&(a.TgZ(0,"span",9),a.SDv(1,12),a.qZA())}function hl(h,w){1&h&&(a.TgZ(0,"span",9),a.SDv(1,13),a.qZA())}function Gu(h,w){1&h&&a._uU(0,"...")}function se(h,w){1&h&&a._uU(0),2&h&&a.Oqu(w.$implicit)}function I(h,w){}const M=function(h){return{disabled:!0,currentPage:h}};function $(h,w){if(1&h&&(a.TgZ(0,"a",18),a.YNc(1,I,0,0,"ng-template",8),a.qZA()),2&h){const u=a.oxw(2).$implicit,_=a.oxw(),N=a.MAs(9);a.xp6(1),a.Q6J("ngTemplateOutlet",(null==_.tplEllipsis?null:_.tplEllipsis.templateRef)||N)("ngTemplateOutletContext",a.VKq(2,M,u))}}function ne(h,w){}const me=function(h,w,u){return{disabled:h,$implicit:w,currentPage:u}};function Be(h,w){if(1&h){const u=a.EpF();a.TgZ(0,"a",19),a.NdJ("click",function(N){a.CHM(u);const j=a.oxw().$implicit;return a.oxw(2).selectPage(j),a.KtG(N.preventDefault())}),a.YNc(1,ne,0,0,"ng-template",8),a.qZA()}if(2&h){const u=a.oxw().$implicit,_=a.oxw(),N=_.disabled,j=_.$implicit,ye=a.oxw(),Ve=a.MAs(11);a.uIk("tabindex",N?"-1":null)("aria-disabled",N?"true":null),a.xp6(1),a.Q6J("ngTemplateOutlet",(null==ye.tplNumber?null:ye.tplNumber.templateRef)||Ve)("ngTemplateOutletContext",a.kEZ(4,me,N,u,j))}}function He(h,w){if(1&h&&(a.TgZ(0,"li",15),a.YNc(1,$,2,4,"a",16),a.YNc(2,Be,2,8,"a",17),a.qZA()),2&h){const u=w.$implicit,_=a.oxw(),N=_.$implicit,j=_.disabled,ye=a.oxw();a.ekj("active",u===N)("disabled",ye.isEllipsis(u)||j),a.uIk("aria-current",u===N?"page":null),a.xp6(1),a.Q6J("ngIf",ye.isEllipsis(u)),a.xp6(1),a.Q6J("ngIf",!ye.isEllipsis(u))}}function wt(h,w){1&h&&a.YNc(0,He,3,7,"li",14),2&h&&a.Q6J("ngForOf",w.pages)}function Ht(h,w){}const Hn=function(h,w){return{disabled:h,currentPage:w}};function qn(h,w){if(1&h){const u=a.EpF();a.TgZ(0,"li",15)(1,"a",20),a.NdJ("click",function(N){return a.CHM(u),a.oxw().selectPage(1),a.KtG(N.preventDefault())}),a.YNc(2,Ht,0,0,"ng-template",8),a.qZA()()}if(2&h){const u=a.oxw(),_=a.MAs(1);a.ekj("disabled",u.previousDisabled()),a.xp6(1),a.uIk("tabindex",u.previousDisabled()?"-1":null)("aria-disabled",u.previousDisabled()?"true":null),a.xp6(1),a.Q6J("ngTemplateOutlet",(null==u.tplFirst?null:u.tplFirst.templateRef)||_)("ngTemplateOutletContext",a.WLB(6,Hn,u.previousDisabled(),u.page))}}function Wr(h,w){}const kr=function(h){return{disabled:h}};function Cr(h,w){if(1&h){const u=a.EpF();a.TgZ(0,"li",15)(1,"a",21),a.NdJ("click",function(N){a.CHM(u);const j=a.oxw();return j.selectPage(j.page-1),a.KtG(N.preventDefault())}),a.YNc(2,Wr,0,0,"ng-template",8),a.qZA()()}if(2&h){const u=a.oxw(),_=a.MAs(3);a.ekj("disabled",u.previousDisabled()),a.xp6(1),a.uIk("tabindex",u.previousDisabled()?"-1":null)("aria-disabled",u.previousDisabled()?"true":null),a.xp6(1),a.Q6J("ngTemplateOutlet",(null==u.tplPrevious?null:u.tplPrevious.templateRef)||_)("ngTemplateOutletContext",a.VKq(6,kr,u.previousDisabled()))}}function Dr(h,w){}function ni(h,w){}function qe(h,w){if(1&h){const u=a.EpF();a.TgZ(0,"li",15)(1,"a",22),a.NdJ("click",function(N){a.CHM(u);const j=a.oxw();return j.selectPage(j.page+1),a.KtG(N.preventDefault())}),a.YNc(2,ni,0,0,"ng-template",8),a.qZA()()}if(2&h){const u=a.oxw(),_=a.MAs(5);a.ekj("disabled",u.nextDisabled()),a.xp6(1),a.uIk("tabindex",u.nextDisabled()?"-1":null)("aria-disabled",u.nextDisabled()?"true":null),a.xp6(1),a.Q6J("ngTemplateOutlet",(null==u.tplNext?null:u.tplNext.templateRef)||_)("ngTemplateOutletContext",a.WLB(6,Hn,u.nextDisabled(),u.page))}}function Rt(h,w){}function Tt(h,w){if(1&h){const u=a.EpF();a.TgZ(0,"li",15)(1,"a",23),a.NdJ("click",function(N){a.CHM(u);const j=a.oxw();return j.selectPage(j.pageCount),a.KtG(N.preventDefault())}),a.YNc(2,Rt,0,0,"ng-template",8),a.qZA()()}if(2&h){const u=a.oxw(),_=a.MAs(7);a.ekj("disabled",u.nextDisabled()),a.xp6(1),a.uIk("tabindex",u.nextDisabled()?"-1":null)("aria-disabled",u.nextDisabled()?"true":null),a.xp6(1),a.Q6J("ngTemplateOutlet",(null==u.tplLast?null:u.tplLast.templateRef)||_)("ngTemplateOutletContext",a.WLB(6,Hn,u.nextDisabled(),u.page))}}const Pn=function(h,w,u){return{$implicit:h,pages:w,disabled:u}};function lr(h,w){if(1&h&&(a.TgZ(0,"span"),a.SDv(1,1),a.ALo(2,"percent"),a.qZA()),2&h){const u=a.oxw();a.xp6(2),a.pQV(a.lcZ(2,1,u.getValue()/u.max)),a.QtT(1)}}function Bs(h,w){1&h&&a._uU(0),2&h&&a.Oqu(100===w.fill?"\u2605":"\u2606")}function Vi(h,w){}function Rs(h,w){if(1&h){const u=a.EpF();a.TgZ(0,"span",2),a._uU(1),a.qZA(),a.TgZ(2,"span",3),a.NdJ("mouseenter",function(){const j=a.CHM(u).index,ye=a.oxw();return a.KtG(ye.enter(j+1))})("click",function(){const j=a.CHM(u).index,ye=a.oxw();return a.KtG(ye.handleClick(j+1))}),a.YNc(3,Vi,0,0,"ng-template",4),a.qZA()}if(2&h){const u=w.index,_=a.oxw(),N=a.MAs(1);a.xp6(1),a.hij("(",u<_.nextRate?"*":" ",")"),a.xp6(1),a.Udp("cursor",_.isInteractive()?"pointer":"default"),a.xp6(1),a.Q6J("ngTemplateOutlet",_.starTemplate||_.starTemplateFromContent||N)("ngTemplateOutletContext",_.contexts[u])}}function _u(h,w){if(1&h){const u=a.EpF();a.TgZ(0,"button",11),a.NdJ("click",function(){a.CHM(u);const N=a.oxw();return a.KtG(N.changeHour(N.hourStep))}),a._UZ(1,"span",12),a.TgZ(2,"span",13),a.SDv(3,14),a.qZA()()}if(2&h){const u=a.oxw();a.ekj("btn-sm",u.isSmallSize)("btn-lg",u.isLargeSize)("disabled",u.disabled),a.Q6J("disabled",u.disabled)}}function Ps(h,w){if(1&h){const u=a.EpF();a.TgZ(0,"button",11),a.NdJ("click",function(){a.CHM(u);const N=a.oxw();return a.KtG(N.changeHour(-N.hourStep))}),a._UZ(1,"span",15),a.TgZ(2,"span",13),a.SDv(3,16),a.qZA()()}if(2&h){const u=a.oxw();a.ekj("btn-sm",u.isSmallSize)("btn-lg",u.isLargeSize)("disabled",u.disabled),a.Q6J("disabled",u.disabled)}}function ba(h,w){if(1&h){const u=a.EpF();a.TgZ(0,"button",11),a.NdJ("click",function(){a.CHM(u);const N=a.oxw();return a.KtG(N.changeMinute(N.minuteStep))}),a._UZ(1,"span",12),a.TgZ(2,"span",13),a.SDv(3,17),a.qZA()()}if(2&h){const u=a.oxw();a.ekj("btn-sm",u.isSmallSize)("btn-lg",u.isLargeSize)("disabled",u.disabled),a.Q6J("disabled",u.disabled)}}function Fi(h,w){if(1&h){const u=a.EpF();a.TgZ(0,"button",11),a.NdJ("click",function(){a.CHM(u);const N=a.oxw();return a.KtG(N.changeMinute(-N.minuteStep))}),a._UZ(1,"span",15),a.TgZ(2,"span",13),a.SDv(3,18),a.qZA()()}if(2&h){const u=a.oxw();a.ekj("btn-sm",u.isSmallSize)("btn-lg",u.isLargeSize)("disabled",u.disabled),a.Q6J("disabled",u.disabled)}}function sr(h,w){1&h&&(a.TgZ(0,"div",5),a._uU(1,":"),a.qZA())}function On(h,w){if(1&h){const u=a.EpF();a.TgZ(0,"button",11),a.NdJ("click",function(){a.CHM(u);const N=a.oxw(2);return a.KtG(N.changeSecond(N.secondStep))}),a._UZ(1,"span",12),a.TgZ(2,"span",13),a.SDv(3,21),a.qZA()()}if(2&h){const u=a.oxw(2);a.ekj("btn-sm",u.isSmallSize)("btn-lg",u.isLargeSize)("disabled",u.disabled),a.Q6J("disabled",u.disabled)}}function hr(h,w){if(1&h){const u=a.EpF();a.TgZ(0,"button",11),a.NdJ("click",function(){a.CHM(u);const N=a.oxw(2);return a.KtG(N.changeSecond(-N.secondStep))}),a._UZ(1,"span",15),a.TgZ(2,"span",13),a.SDv(3,22),a.qZA()()}if(2&h){const u=a.oxw(2);a.ekj("btn-sm",u.isSmallSize)("btn-lg",u.isLargeSize)("disabled",u.disabled),a.Q6J("disabled",u.disabled)}}function li(h,w){if(1&h){const u=a.EpF();a.TgZ(0,"div",19),a.YNc(1,On,4,7,"button",3),a.TgZ(2,"input",20),a.NdJ("change",function(N){a.CHM(u);const j=a.oxw();return a.KtG(j.updateSecond(N.target.value))})("blur",function(){a.CHM(u);const N=a.oxw();return a.KtG(N.handleBlur())})("input",function(N){a.CHM(u);const j=a.oxw();return a.KtG(j.formatInput(N.target))})("keydown.ArrowUp",function(N){a.CHM(u);const j=a.oxw();return j.changeSecond(j.secondStep),a.KtG(N.preventDefault())})("keydown.ArrowDown",function(N){a.CHM(u);const j=a.oxw();return j.changeSecond(-j.secondStep),a.KtG(N.preventDefault())}),a.qZA(),a.YNc(3,hr,4,7,"button",3),a.qZA()}if(2&h){const u=a.oxw();a.xp6(1),a.Q6J("ngIf",u.spinners),a.xp6(1),a.ekj("form-control-sm",u.isSmallSize)("form-control-lg",u.isLargeSize),a.Q6J("value",u.formatMinSec(null==u.model?null:u.model.second))("readOnly",u.readonlyInputs)("disabled",u.disabled),a.xp6(1),a.Q6J("ngIf",u.spinners)}}function x(h,w){1&h&&a._UZ(0,"div",5)}function J(h,w){if(1&h&&(a.ynx(0),a.SDv(1,27),a.BQk()),2&h){const u=a.oxw(2);a.xp6(1),a.pQV(u.i18n.getAfternoonPeriod()),a.QtT(1)}}function B(h,w){if(1&h&&a.SDv(0,28),2&h){const u=a.oxw(2);a.pQV(u.i18n.getMorningPeriod()),a.QtT(0)}}function ue(h,w){if(1&h){const u=a.EpF();a.TgZ(0,"div",23)(1,"button",24),a.NdJ("click",function(){a.CHM(u);const N=a.oxw();return a.KtG(N.toggleMeridian())}),a.YNc(2,J,2,1,"ng-container",25),a.YNc(3,B,1,1,"ng-template",null,26,a.W1O),a.qZA()()}if(2&h){const u=a.MAs(4),_=a.oxw();a.xp6(1),a.ekj("btn-sm",_.isSmallSize)("btn-lg",_.isLargeSize)("disabled",_.disabled),a.Q6J("disabled",_.disabled),a.xp6(1),a.Q6J("ngIf",_.model&&_.model.hour>=12)("ngIfElse",u)}}function we(h,w){if(1&h&&(a.TgZ(0,"strong",3),a._uU(1),a.qZA()),2&h){const u=a.oxw();a.xp6(1),a.Oqu(u.header)}}function Et(h,w){}function jt(h,w){if(1&h){const u=a.EpF();a.TgZ(0,"div",4),a.YNc(1,Et,0,0,"ng-template",5),a.TgZ(2,"button",6),a.NdJ("click",function(){a.CHM(u);const N=a.oxw();return a.KtG(N.hide())}),a.qZA()()}if(2&h){const u=a.oxw(),_=a.MAs(1);a.xp6(1),a.Q6J("ngTemplateOutlet",u.contentHeaderTpl||_)}}function kn(h,w){if(1&h&&(a.TgZ(0,"span"),a._uU(1),a.qZA()),2&h){const u=a.oxw().$implicit,_=a.oxw();a.Tol(_.highlightClass),a.xp6(1),a.Oqu(u)}}function _i(h,w){if(1&h&&a._uU(0),2&h){const u=a.oxw().$implicit;a.Oqu(u)}}function Br(h,w){if(1&h&&(a.YNc(0,kn,2,3,"span",1),a.YNc(1,_i,1,1,"ng-template",null,2,a.W1O)),2&h){const u=w.odd,_=a.MAs(2);a.Q6J("ngIf",u)("ngIfElse",_)}}function Zr(h){return parseInt(`${h}`,10)}function Uo(h){return null!=h?`${h}`:""}function Ui(h,w,u=0){return Math.max(Math.min(h,w),u)}function qo(h){return"string"==typeof h}function Ar(h){return!isNaN(Zr(h))}function yi(h){return"number"==typeof h&&isFinite(h)&&Math.floor(h)===h}function Zs(h){return null!=h}function ju(h){return Ar(h)?`0${h}`.slice(-2):""}function Jc(h,w){return h&&h.className&&h.className.split&&h.className.split(/\s+/).indexOf(w)>=0}function ss(h){return(h||document.body).getBoundingClientRect()}function uu(h){return h.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}const gn={animation:!0,transitionTimerDelayMs:5},Js=()=>{},{transitionTimerDelayMs:Ao}=gn,qa=new Map,tn=(h,w,u,_)=>{let N=_.context||{};const j=qa.get(w);if(j)switch(_.runningTransition){case"continue":return ee.E;case"stop":h.run(()=>j.transition$.complete()),N=Object.assign(j.context,N),qa.delete(w)}const ye=u(w,_.animation,N)||Js;if(!_.animation||"none"===window.getComputedStyle(w).transitionProperty)return h.run(()=>ye()),(0,fe.of)(void 0).pipe(function Cs(h){return w=>new V.y(u=>w.subscribe({next:ye=>h.run(()=>u.next(ye)),error:ye=>h.run(()=>u.error(ye)),complete:()=>h.run(()=>u.complete())}))}(h));const Ve=new re.x,Ze=new re.x,Dt=Ve.pipe(function Wt(...h){return w=>(0,Ct.z)(w,(0,fe.of)(...h))}(!0));qa.set(w,{transition$:Ve,complete:()=>{Ze.next(),Ze.complete()},context:N});const Bt=function Iu(h){const{transitionDelay:w,transitionDuration:u}=window.getComputedStyle(h);return 1e3*(parseFloat(w)+parseFloat(u))}(w);return h.runOutsideAngular(()=>{const Qn=st(w,"transitionend").pipe($t(Dt),(0,hn.h)(({target:Xn})=>Xn===w));(function ft(...h){return 1===(h=Yt(h)).length?(0,Te.Xf)(h[0]):new V.y(function Ye(h){return w=>{let u=[];for(let _=0;u&&!w.closed&&_<h.length;_++)u.push((0,Te.Xf)(h[_]).subscribe((0,Ut.x)(w,N=>{if(u){for(let j=0;j<u.length;j++)j!==_&&u[j].unsubscribe();u=null}w.next(N)})))}}(h))})(Se(Bt+Ao).pipe($t(Dt)),Qn,Ze).pipe($t(Dt)).subscribe(()=>{qa.delete(w),h.run(()=>{ye(),Ve.next(),Ve.complete()})})}),Ve.asObservable()},Fn=(h,w,u)=>{let{direction:_,maxSize:N,dimension:j}=u;const{classList:ye}=h;function Ve(){ye.add("collapse"),"show"===_?ye.add("show"):ye.remove("show")}if(w)return N||(N=function yu(h,w){if(typeof navigator>"u")return"0px";const{classList:u}=h,_=u.contains("show");_||u.add("show"),h.style[w]="";const N=h.getBoundingClientRect()[w]+"px";return _||u.remove("show"),N}(h,j),u.maxSize=N,h.style[j]="show"!==_?N:"0px",ye.remove("collapse"),ye.remove("collapsing"),ye.remove("show"),ss(h),ye.add("collapsing")),h.style[j]="show"===_?N:"0px",()=>{Ve(),ye.remove("collapsing"),h.style[j]=""};Ve()};let Nt=(()=>{class h{constructor(){this.animation=gn.animation}}return h.\u0275fac=function(u){return new(u||h)},h.\u0275prov=a.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})(),rn=(()=>{class h{constructor(u){this._ngbConfig=u,this.closeOthers=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(u){this._animation=u}}return h.\u0275fac=function(u){return new(u||h)(a.LFG(Nt))},h.\u0275prov=a.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})(),No=0,$u=(()=>{class h{constructor(u){this.templateRef=u}}return h.\u0275fac=function(u){return new(u||h)(a.Y36(a.Rgc))},h.\u0275dir=a.lG2({type:h,selectors:[["ng-template","ngbPanelHeader",""]],standalone:!0}),h})(),fl=(()=>{class h{constructor(u){this.templateRef=u}}return h.\u0275fac=function(u){return new(u||h)(a.Y36(a.Rgc))},h.\u0275dir=a.lG2({type:h,selectors:[["ng-template","ngbPanelTitle",""]],standalone:!0}),h})(),Tl=(()=>{class h{constructor(u){this.templateRef=u}}return h.\u0275fac=function(u){return new(u||h)(a.Y36(a.Rgc))},h.\u0275dir=a.lG2({type:h,selectors:[["ng-template","ngbPanelContent",""]],standalone:!0}),h})(),kl=(()=>{class h{constructor(){this.disabled=!1,this.id="ngb-panel-"+No++,this.isOpen=!1,this.initClassDone=!1,this.transitionRunning=!1,this.shown=new a.vpe,this.hidden=new a.vpe}ngAfterContentChecked(){this.titleTpl=this.titleTpls.first,this.headerTpl=this.headerTpls.first,this.contentTpl=this.contentTpls.first}}return h.\u0275fac=function(u){return new(u||h)},h.\u0275dir=a.lG2({type:h,selectors:[["ngb-panel"]],contentQueries:function(u,_,N){if(1&u&&(a.Suo(N,fl,4),a.Suo(N,$u,4),a.Suo(N,Tl,4)),2&u){let j;a.iGM(j=a.CRH())&&(_.titleTpls=j),a.iGM(j=a.CRH())&&(_.headerTpls=j),a.iGM(j=a.CRH())&&(_.contentTpls=j)}},inputs:{disabled:"disabled",id:"id",title:"title",type:"type",cardClass:"cardClass"},outputs:{shown:"shown",hidden:"hidden"},standalone:!0}),h})(),Qs=(()=>{class h{constructor(u){this._El=u,this.ngbRef=new a.vpe}ngOnInit(){this.ngbRef.emit(this._El.nativeElement)}ngOnDestroy(){this.ngbRef.emit(null)}}return h.\u0275fac=function(u){return new(u||h)(a.Y36(a.SBq))},h.\u0275dir=a.lG2({type:h,selectors:[["","ngbRef",""]],outputs:{ngbRef:"ngbRef"},standalone:!0}),h})(),Pa=(()=>{class h{constructor(u,_){this.accordion=u,this.panel=_}set ngbPanelToggle(u){u&&(this.panel=u)}}return h.\u0275fac=function(u){return new(u||h)(a.Y36((0,a.Gpc)(()=>lu)),a.Y36(kl,9))},h.\u0275dir=a.lG2({type:h,selectors:[["button","ngbPanelToggle",""]],hostAttrs:["type","button"],hostVars:5,hostBindings:function(u,_){1&u&&a.NdJ("click",function(){return _.accordion.toggle(_.panel.id)}),2&u&&(a.Ikx("disabled",_.panel.disabled),a.uIk("aria-expanded",_.panel.isOpen)("aria-controls",_.panel.id),a.ekj("collapsed",!_.panel.isOpen))},inputs:{ngbPanelToggle:"ngbPanelToggle"},standalone:!0}),h})(),lu=(()=>{class h{constructor(u,_,N){this._ngZone=_,this._changeDetector=N,this.activeIds=[],this.destroyOnHide=!0,this.panelChange=new a.vpe,this.shown=new a.vpe,this.hidden=new a.vpe,this.animation=u.animation,this.type=u.type,this.closeOtherPanels=u.closeOthers}isExpanded(u){return this.activeIds.indexOf(u)>-1}expand(u){this._changeOpenState(this._findPanelById(u),!0)}expandAll(){this.closeOtherPanels?0===this.activeIds.length&&this.panels.length&&this._changeOpenState(this.panels.first,!0):this.panels.forEach(u=>this._changeOpenState(u,!0))}collapse(u){this._changeOpenState(this._findPanelById(u),!1)}collapseAll(){this.panels.forEach(u=>{this._changeOpenState(u,!1)})}toggle(u){const _=this._findPanelById(u);_&&this._changeOpenState(_,!_.isOpen)}ngAfterContentChecked(){qo(this.activeIds)&&(this.activeIds=this.activeIds.split(/\s*,\s*/)),this.panels.forEach(u=>{u.isOpen=!u.disabled&&this.activeIds.indexOf(u.id)>-1}),this.activeIds.length>1&&this.closeOtherPanels&&(this._closeOthers(this.activeIds[0],!1),this._updateActiveIds()),this._ngZone.onStable.pipe((0,yn.q)(1)).subscribe(()=>{this.panels.forEach(u=>{const _=u.panelDiv;_?u.initClassDone||(u.initClassDone=!0,tn(this._ngZone,_,Fn,{animation:!1,runningTransition:"continue",context:{direction:u.isOpen?"show":"hide",dimension:"height"}})):u.initClassDone=!1})})}_changeOpenState(u,_){if(null!=u&&!u.disabled&&u.isOpen!==_){let N=!1;this.panelChange.emit({panelId:u.id,nextState:_,preventDefault:()=>{N=!0}}),N||(u.isOpen=_,u.transitionRunning=!0,_&&this.closeOtherPanels&&this._closeOthers(u.id),this._updateActiveIds(),this._runTransitions(this.animation))}}_closeOthers(u,_=!0){this.panels.forEach(N=>{N.id!==u&&N.isOpen&&(N.isOpen=!1,N.transitionRunning=_)})}_findPanelById(u){return this.panels.find(_=>_.id===u)||null}_updateActiveIds(){this.activeIds=this.panels.filter(u=>u.isOpen&&!u.disabled).map(u=>u.id)}_runTransitions(u){this._changeDetector.detectChanges(),this.panels.forEach(_=>{_.transitionRunning&&tn(this._ngZone,_.panelDiv,Fn,{animation:u,runningTransition:"stop",context:{direction:_.isOpen?"show":"hide",dimension:"height"}}).subscribe(()=>{_.transitionRunning=!1;const{id:j}=_;_.isOpen?(_.shown.emit(),this.shown.emit(j)):(_.hidden.emit(),this.hidden.emit(j))})})}}return h.\u0275fac=function(u){return new(u||h)(a.Y36(rn),a.Y36(a.R0b),a.Y36(a.sBO))},h.\u0275cmp=a.Xpm({type:h,selectors:[["ngb-accordion"]],contentQueries:function(u,_,N){if(1&u&&a.Suo(N,kl,4),2&u){let j;a.iGM(j=a.CRH())&&(_.panels=j)}},hostAttrs:["role","tablist",1,"accordion"],hostVars:1,hostBindings:function(u,_){2&u&&a.uIk("aria-multiselectable",!_.closeOtherPanels)},inputs:{animation:"animation",activeIds:"activeIds",closeOtherPanels:["closeOthers","closeOtherPanels"],destroyOnHide:"destroyOnHide",type:"type"},outputs:{panelChange:"panelChange",shown:"shown",hidden:"hidden"},exportAs:["ngbAccordion"],standalone:!0,features:[a.jDz],decls:3,vars:1,consts:[["ngbPanelHeader",""],["t",""],["ngFor","",3,"ngForOf"],[1,"accordion-button",3,"ngbPanelToggle"],[3,"ngTemplateOutlet"],["role","tab",3,"id"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","tabpanel",3,"id","ngbRef",4,"ngIf"],["role","tabpanel",3,"id","ngbRef"],[1,"accordion-body"]],template:function(u,_){1&u&&(a.YNc(0,Bi,3,3,"ng-template",0,1,a.W1O),a.YNc(2,ma,4,11,"ng-template",2)),2&u&&(a.xp6(2),a.Q6J("ngForOf",_.panels))},dependencies:[Jt.ax,Jt.tP,Pa,Qs,$u,Jt.O5],encapsulation:2}),h})(),Qc=(()=>{class h{}return h.\u0275fac=function(u){return new(u||h)},h.\u0275mod=a.oAB({type:h}),h.\u0275inj=a.cJS({imports:[lu]}),h})();const Xs=({classList:h})=>{h.remove("show")};let mn=(()=>{class h{constructor(u){this._ngbConfig=u,this.dismissible=!0,this.type="warning"}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(u){this._animation=u}}return h.\u0275fac=function(u){return new(u||h)(a.LFG(Nt))},h.\u0275prov=a.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})(),Za=(()=>{class h{constructor(u,_,N,j){this._renderer=_,this._element=N,this._zone=j,this.closed=new a.vpe,this.dismissible=u.dismissible,this.type=u.type,this.animation=u.animation}close(){const u=tn(this._zone,this._element.nativeElement,Xs,{animation:this.animation,runningTransition:"continue"});return u.subscribe(()=>this.closed.emit()),u}ngOnChanges(u){const _=u.type;_&&!_.firstChange&&(this._renderer.removeClass(this._element.nativeElement,`alert-${_.previousValue}`),this._renderer.addClass(this._element.nativeElement,`alert-${_.currentValue}`))}ngOnInit(){this._renderer.addClass(this._element.nativeElement,`alert-${this.type}`)}}return h.\u0275fac=function(u){return new(u||h)(a.Y36(mn),a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(a.R0b))},h.\u0275cmp=a.Xpm({type:h,selectors:[["ngb-alert"]],hostAttrs:["role","alert",1,"alert","show"],hostVars:4,hostBindings:function(u,_){2&u&&a.ekj("fade",_.animation)("alert-dismissible",_.dismissible)},inputs:{animation:"animation",dismissible:"dismissible",type:"type"},outputs:{closed:"closed"},exportAs:["ngbAlert"],standalone:!0,features:[a.TTD,a.jDz],ngContentSelectors:ou,decls:2,vars:1,consts:function(){let w;return w=$localize`:@@ngb.alert.close:Close`,[["type","button","class","btn-close","aria-label",w,3,"click",4,"ngIf"],["type","button","aria-label",w,1,"btn-close",3,"click"]]},template:function(u,_){1&u&&(a.F$t(),a.Hsn(0),a.YNc(1,ja,1,0,"button",0)),2&u&&(a.xp6(1),a.Q6J("ngIf",_.dismissible))},dependencies:[Jt.O5],styles:["ngb-alert{display:block}\n"],encapsulation:2,changeDetection:0}),h})(),tc=(()=>{class h{}return h.\u0275fac=function(u){return new(u||h)},h.\u0275mod=a.oAB({type:h}),h.\u0275inj=a.cJS({imports:[Za]}),h})();var ka=(()=>{return(h=ka||(ka={})).START="start",h.END="end",ka;var h})();const zd=({classList:h})=>h.contains("carousel-item-start")||h.contains("carousel-item-end"),Do=h=>{h.remove("carousel-item-start"),h.remove("carousel-item-end")},nc=h=>{Do(h),h.remove("carousel-item-prev"),h.remove("carousel-item-next")},Fa=(h,w,{direction:u})=>{const{classList:_}=h;return w?(zd(h)?Do(_):(_.add("carousel-item-"+(u===ka.START?"next":"prev")),ss(h),_.add("carousel-item-"+u)),()=>{nc(_),_.add("active")}):(Do(_),nc(_),void _.add("active"))},zu=(h,w,{direction:u})=>{const{classList:_}=h;return w?(zd(h)?Do(_):_.add("carousel-item-"+u),()=>{nc(_),_.remove("active")}):(Do(_),nc(_),void _.remove("active"))};let Xc=(()=>{class h{constructor(u){this._ngbConfig=u,this.interval=5e3,this.wrap=!0,this.keyboard=!0,this.pauseOnHover=!0,this.pauseOnFocus=!0,this.showNavigationArrows=!0,this.showNavigationIndicators=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(u){this._animation=u}}return h.\u0275fac=function(u){return new(u||h)(a.LFG(Nt))},h.\u0275prov=a.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})(),Ja=0,gs=(()=>{class h{constructor(u){this.tplRef=u,this.id="ngb-slide-"+Ja++,this.slid=new a.vpe}}return h.\u0275fac=function(u){return new(u||h)(a.Y36(a.Rgc))},h.\u0275dir=a.lG2({type:h,selectors:[["ng-template","ngbSlide",""]],inputs:{id:"id"},outputs:{slid:"slid"},standalone:!0}),h})(),Cl=(()=>{class h{constructor(u,_,N,j,ye){this._platformId=_,this._ngZone=N,this._cd=j,this._container=ye,this.NgbSlideEventSource=Zo,this._destroy$=new re.x,this._interval$=new Zt.X(0),this._mouseHover$=new Zt.X(!1),this._focused$=new Zt.X(!1),this._pauseOnHover$=new Zt.X(!1),this._pauseOnFocus$=new Zt.X(!1),this._pause$=new Zt.X(!1),this._wrap$=new Zt.X(!1),this.slide=new a.vpe,this.slid=new a.vpe,this._transitionIds=null,this.animation=u.animation,this.interval=u.interval,this.wrap=u.wrap,this.keyboard=u.keyboard,this.pauseOnHover=u.pauseOnHover,this.pauseOnFocus=u.pauseOnFocus,this.showNavigationArrows=u.showNavigationArrows,this.showNavigationIndicators=u.showNavigationIndicators}set interval(u){this._interval$.next(u)}get interval(){return this._interval$.value}set wrap(u){this._wrap$.next(u)}get wrap(){return this._wrap$.value}set pauseOnHover(u){this._pauseOnHover$.next(u)}get pauseOnHover(){return this._pauseOnHover$.value}set pauseOnFocus(u){this._pauseOnFocus$.next(u)}get pauseOnFocus(){return this._pauseOnFocus$.value}set mouseHover(u){this._mouseHover$.next(u)}get mouseHover(){return this._mouseHover$.value}set focused(u){this._focused$.next(u)}get focused(){return this._focused$.value}arrowLeft(){this.focus(),this.prev(Zo.ARROW_LEFT)}arrowRight(){this.focus(),this.next(Zo.ARROW_RIGHT)}ngAfterContentInit(){(0,Jt.NF)(this._platformId)&&this._ngZone.runOutsideAngular(()=>{const u=(0,en.a)([this.slide.pipe((0,vn.U)(_=>_.current),(0,Ge.O)(this.activeId)),this._wrap$,this.slides.changes.pipe((0,Ge.O)(null))]).pipe((0,vn.U)(([_,N])=>{const j=this.slides.toArray(),ye=this._getSlideIdxById(_);return N?j.length>1:ye<j.length-1}),(0,yt.x)());(0,en.a)([this._pause$,this._pauseOnHover$,this._mouseHover$,this._pauseOnFocus$,this._focused$,this._interval$,u]).pipe((0,vn.U)(([_,N,j,ye,Ve,Ze,Dt])=>_||N&&j||ye&&Ve||!Dt?0:Ze),(0,yt.x)(),(0,Ke.w)(_=>_>0?Se(_,_):Dn),$t(this._destroy$)).subscribe(()=>this._ngZone.run(()=>this.next(Zo.TIMER)))}),this.slides.changes.pipe($t(this._destroy$)).subscribe(()=>{this._transitionIds?.forEach(u=>(h=>{qa.get(h)?.complete()})(this._getSlideElement(u))),this._transitionIds=null,this._cd.markForCheck(),this._ngZone.onStable.pipe((0,yn.q)(1)).subscribe(()=>{for(const{id:u}of this.slides){const _=this._getSlideElement(u);u===this.activeId?_.classList.add("active"):_.classList.remove("active")}})})}ngAfterContentChecked(){let u=this._getSlideById(this.activeId);this.activeId=u?u.id:this.slides.length?this.slides.first.id:""}ngAfterViewInit(){if(this.activeId){const u=this._getSlideElement(this.activeId);u&&u.classList.add("active")}}ngOnDestroy(){this._destroy$.next()}select(u,_){this._cycleToSelected(u,this._getSlideEventDirection(this.activeId,u),_)}prev(u){this._cycleToSelected(this._getPrevSlide(this.activeId),ka.END,u)}next(u){this._cycleToSelected(this._getNextSlide(this.activeId),ka.START,u)}pause(){this._pause$.next(!0)}cycle(){this._pause$.next(!1)}focus(){this._container.nativeElement.focus()}_cycleToSelected(u,_,N){const j=this._transitionIds;if(j&&(j[0]!==u||j[1]!==this.activeId))return;let ye=this._getSlideById(u);if(ye&&ye.id!==this.activeId){this._transitionIds=[this.activeId,u],this.slide.emit({prev:this.activeId,current:ye.id,direction:_,paused:this._pause$.value,source:N});const Ve={animation:this.animation,runningTransition:"stop",context:{direction:_}},Ze=[],Dt=this._getSlideById(this.activeId);if(Dt){const Xn=tn(this._ngZone,this._getSlideElement(Dt.id),zu,Ve);Xn.subscribe(()=>{Dt.slid.emit({isShown:!1,direction:_,source:N})}),Ze.push(Xn)}const Bt=this.activeId;this.activeId=ye.id;const Qn=this._getSlideById(this.activeId),Rn=tn(this._ngZone,this._getSlideElement(ye.id),Fa,Ve);Rn.subscribe(()=>{Qn?.slid.emit({isShown:!0,direction:_,source:N})}),Ze.push(Rn),_t(...Ze).pipe((0,yn.q)(1)).subscribe(()=>{this._transitionIds=null,this.slid.emit({prev:Bt,current:ye.id,direction:_,paused:this._pause$.value,source:N})})}this._cd.markForCheck()}_getSlideEventDirection(u,_){return this._getSlideIdxById(u)>this._getSlideIdxById(_)?ka.END:ka.START}_getSlideById(u){return this.slides.find(_=>_.id===u)||null}_getSlideIdxById(u){const _=this._getSlideById(u);return null!=_?this.slides.toArray().indexOf(_):-1}_getNextSlide(u){const _=this.slides.toArray(),N=this._getSlideIdxById(u);return N===_.length-1?this.wrap?_[0].id:_[_.length-1].id:_[N+1].id}_getPrevSlide(u){const _=this.slides.toArray(),N=this._getSlideIdxById(u);return 0===N?this.wrap?_[_.length-1].id:_[0].id:_[N-1].id}_getSlideElement(u){return this._container.nativeElement.querySelector(`#slide-${u}`)}}return h.\u0275fac=function(u){return new(u||h)(a.Y36(Xc),a.Y36(a.Lbi),a.Y36(a.R0b),a.Y36(a.sBO),a.Y36(a.SBq))},h.\u0275cmp=a.Xpm({type:h,selectors:[["ngb-carousel"]],contentQueries:function(u,_,N){if(1&u&&a.Suo(N,gs,4),2&u){let j;a.iGM(j=a.CRH())&&(_.slides=j)}},hostAttrs:["tabIndex","0",1,"carousel","slide"],hostVars:3,hostBindings:function(u,_){1&u&&a.NdJ("keydown.arrowLeft",function(){return _.keyboard&&_.arrowLeft()})("keydown.arrowRight",function(){return _.keyboard&&_.arrowRight()})("mouseenter",function(){return _.mouseHover=!0})("mouseleave",function(){return _.mouseHover=!1})("focusin",function(){return _.focused=!0})("focusout",function(){return _.focused=!1}),2&u&&(a.uIk("aria-activedescendant","slide-"+_.activeId),a.Udp("display","block"))},inputs:{animation:"animation",activeId:"activeId",interval:"interval",wrap:"wrap",keyboard:"keyboard",pauseOnHover:"pauseOnHover",pauseOnFocus:"pauseOnFocus",showNavigationArrows:"showNavigationArrows",showNavigationIndicators:"showNavigationIndicators"},outputs:{slide:"slide",slid:"slid"},exportAs:["ngbCarousel"],standalone:!0,features:[a.jDz],decls:6,vars:6,consts:function(){let w,u,_;return w=$localize`:Currently selected slide number read by screen reader@@ngb.carousel.slide-number: Slide ${"\ufffd0\ufffd"}:INTERPOLATION: of ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,u=$localize`:@@ngb.carousel.previous:Previous`,_=$localize`:@@ngb.carousel.next:Next`,[["role","tablist",1,"carousel-indicators"],["type","button","data-bs-target","","role","tab",3,"active","click",4,"ngFor","ngForOf"],[1,"carousel-inner"],["class","carousel-item","role","tabpanel",3,"id",4,"ngFor","ngForOf"],["class","carousel-control-prev","type","button",3,"click",4,"ngIf"],["class","carousel-control-next","type","button",3,"click",4,"ngIf"],["type","button","data-bs-target","","role","tab",3,"click"],["role","tabpanel",1,"carousel-item",3,"id"],[1,"visually-hidden"],w,[3,"ngTemplateOutlet"],["type","button",1,"carousel-control-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],u,["type","button",1,"carousel-control-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"],_]},template:function(u,_){1&u&&(a.TgZ(0,"div",0),a.YNc(1,$a,1,5,"button",1),a.qZA(),a.TgZ(2,"div",2),a.YNc(3,$s,4,4,"div",3),a.qZA(),a.YNc(4,wo,4,0,"button",4),a.YNc(5,go,4,0,"button",5)),2&u&&(a.ekj("visually-hidden",!_.showNavigationIndicators),a.xp6(1),a.Q6J("ngForOf",_.slides),a.xp6(2),a.Q6J("ngForOf",_.slides),a.xp6(1),a.Q6J("ngIf",_.showNavigationArrows),a.xp6(1),a.Q6J("ngIf",_.showNavigationArrows))},dependencies:[Jt.ax,Jt.tP,Jt.O5],encapsulation:2,changeDetection:0}),h})();var Zo=(()=>{return(h=Zo||(Zo={})).TIMER="timer",h.ARROW_LEFT="arrowLeft",h.ARROW_RIGHT="arrowRight",h.INDICATOR="indicator",Zo;var h})();let Wu=(()=>{class h{}return h.\u0275fac=function(u){return new(u||h)},h.\u0275mod=a.oAB({type:h}),h.\u0275inj=a.cJS({imports:[Cl]}),h})(),wa=(()=>{class h{}return h.\u0275fac=function(u){return new(u||h)},h.\u0275mod=a.oAB({type:h}),h.\u0275inj=a.cJS({}),h})();class nt{constructor(w,u,_){this.year=yi(w)?w:null,this.month=yi(u)?u:null,this.day=yi(_)?_:null}static from(w){return w instanceof nt?w:w?new nt(w.year,w.month,w.day):null}equals(w){return null!=w&&this.year===w.year&&this.month===w.month&&this.day===w.day}before(w){return!!w&&(this.year===w.year?this.month===w.month?this.day!==w.day&&this.day<w.day:this.month<w.month:this.year<w.year)}after(w){return!!w&&(this.year===w.year?this.month===w.month?this.day!==w.day&&this.day>w.day:this.month>w.month:this.year>w.year)}}function Su(h,w){return!function S(h,w){return!h&&!w||!!h&&!!w&&h.equals(w)}(h,w)}function ia(h,w){return!(!h&&!w||h&&w&&h.year===w.year&&h.month===w.month)}function E(h,w,u){return h&&w&&h.before(w)?w:h&&u&&h.after(u)?u:h||null}function F(h,w){const{minDate:u,maxDate:_,disabled:N,markDisabled:j}=w;return!(null==h||N||j&&j(h,{year:h.year,month:h.month})||u&&h.before(u)||_&&h.after(_))}function Di(h){return new nt(h.getFullYear(),h.getMonth()+1,h.getDate())}function uo(h){const w=new Date(h.year,h.month-1,h.day,12);return isNaN(w.getTime())||w.setFullYear(h.year),w}let sa=(()=>{class h{}return h.\u0275fac=function(u){return new(u||h)},h.\u0275prov=a.Yz7({token:h,factory:function(){return function cs(){return new Ea}()},providedIn:"root"}),h})(),Ea=(()=>{class h extends sa{getDaysPerWeek(){return 7}getMonths(){return[1,2,3,4,5,6,7,8,9,10,11,12]}getWeeksPerMonth(){return 6}getNext(u,_="d",N=1){let j=uo(u),ye=!0,Ve=j.getMonth();switch(_){case"y":j.setFullYear(j.getFullYear()+N);break;case"m":Ve+=N,j.setMonth(Ve),Ve%=12,Ve<0&&(Ve+=12);break;case"d":j.setDate(j.getDate()+N),ye=!1;break;default:return u}return ye&&j.getMonth()!==Ve&&j.setDate(0),Di(j)}getPrev(u,_="d",N=1){return this.getNext(u,_,-N)}getWeekday(u){let N=uo(u).getDay();return 0===N?7:N}getWeekNumber(u,_){7===_&&(_=0);const ye=uo(u[(11-_)%7]);ye.setDate(ye.getDate()+4-(ye.getDay()||7));const Ve=ye.getTime();return ye.setMonth(0),ye.setDate(1),Math.floor(Math.round((Ve-ye.getTime())/864e5)/7)+1}getToday(){return Di(new Date)}isValid(u){if(!(u&&yi(u.year)&&yi(u.month)&&yi(u.day)&&0!==u.year))return!1;const _=uo(u);return!isNaN(_.getTime())&&_.getFullYear()===u.year&&_.getMonth()+1===u.month&&_.getDate()===u.day}}return h.\u0275fac=function(){let w;return function(_){return(w||(w=a.n5z(h)))(_||h)}}(),h.\u0275prov=a.Yz7({token:h,factory:h.\u0275fac}),h})(),Au=(()=>{class h{getMonthLabel(u){return`${this.getMonthFullName(u.month,u.year)} ${this.getYearNumerals(u.year)}`}getDayNumerals(u){return`${u.day}`}getWeekNumerals(u){return`${u}`}getYearNumerals(u){return`${u}`}getWeekLabel(){return""}}return h.\u0275fac=function(u){return new(u||h)},h.\u0275prov=a.Yz7({token:h,factory:function(u){let _=null;return _=u?new u:function Ji(h){return new Nu(h)}(a.LFG(a.soG)),_},providedIn:"root"}),h})(),Nu=(()=>{class h extends Au{constructor(u){super(),this._locale=u,this._monthsShort=(0,Jt.UT)(u,Jt.x.Standalone,Jt.Tn.Abbreviated),this._monthsFull=(0,Jt.UT)(u,Jt.x.Standalone,Jt.Tn.Wide)}getWeekdayLabel(u,_){const N=(0,Jt.Mn)(this._locale,Jt.x.Standalone,void 0===_?Jt.Tn.Short:_);return N.map((ye,Ve)=>N[(Ve+1)%7])[u-1]||""}getMonthShortName(u){return this._monthsShort[u-1]||""}getMonthFullName(u){return this._monthsFull[u-1]||""}getDayAriaLabel(u){const _=new Date(u.year,u.month-1,u.day);return(0,Jt.p6)(_,"fullDate",this._locale)}}return h.\u0275fac=function(u){return new(u||h)(a.LFG(a.soG))},h.\u0275prov=a.Yz7({token:h,factory:h.\u0275fac}),h})(),Ku=(()=>{class h{constructor(u,_){this._calendar=u,this._i18n=_,this._VALIDATORS={dayTemplateData:N=>{if(this._state.dayTemplateData!==N)return{dayTemplateData:N}},displayMonths:N=>{if(yi(N=Zr(N))&&N>0&&this._state.displayMonths!==N)return{displayMonths:N}},disabled:N=>{if(this._state.disabled!==N)return{disabled:N}},firstDayOfWeek:N=>{if(yi(N=Zr(N))&&N>=0&&this._state.firstDayOfWeek!==N)return{firstDayOfWeek:N}},focusVisible:N=>{if(this._state.focusVisible!==N&&!this._state.disabled)return{focusVisible:N}},markDisabled:N=>{if(this._state.markDisabled!==N)return{markDisabled:N}},maxDate:N=>{const j=this.toValidDate(N,null);if(Su(this._state.maxDate,j))return{maxDate:j}},minDate:N=>{const j=this.toValidDate(N,null);if(Su(this._state.minDate,j))return{minDate:j}},navigation:N=>{if(this._state.navigation!==N)return{navigation:N}},outsideDays:N=>{if(this._state.outsideDays!==N)return{outsideDays:N}},weekdays:N=>{const j=!0===N||!1===N?Jt.Tn.Short:N,ye=!0!==N&&!1!==N||N;if(this._state.weekdayWidth!==j||this._state.weekdaysVisible!==ye)return{weekdayWidth:j,weekdaysVisible:ye}}},this._model$=new re.x,this._dateSelect$=new re.x,this._state={dayTemplateData:null,markDisabled:null,maxDate:null,minDate:null,disabled:!1,displayMonths:1,firstDate:null,firstDayOfWeek:1,lastDate:null,focusDate:null,focusVisible:!1,months:[],navigation:"select",outsideDays:"visible",prevDisabled:!1,nextDisabled:!1,selectedDate:null,selectBoxes:{years:[],months:[]},weekdayWidth:Jt.Tn.Short,weekdaysVisible:!0}}get model$(){return this._model$.pipe((0,hn.h)(u=>u.months.length>0))}get dateSelect$(){return this._dateSelect$.pipe((0,hn.h)(u=>null!==u))}set(u){let _=Object.keys(u).map(N=>this._VALIDATORS[N](u[N])).reduce((N,j)=>({...N,...j}),{});Object.keys(_).length>0&&this._nextState(_)}focus(u){const _=this.toValidDate(u,null);null!=_&&!this._state.disabled&&Su(this._state.focusDate,_)&&this._nextState({focusDate:u})}focusSelect(){F(this._state.focusDate,this._state)&&this.select(this._state.focusDate,{emitEvent:!0})}open(u){const _=this.toValidDate(u,this._calendar.getToday());null!=_&&!this._state.disabled&&(!this._state.firstDate||ia(this._state.firstDate,_))&&this._nextState({firstDate:_})}select(u,_={}){const N=this.toValidDate(u,null);null!=N&&!this._state.disabled&&(Su(this._state.selectedDate,N)&&this._nextState({selectedDate:N}),_.emitEvent&&F(N,this._state)&&this._dateSelect$.next(N))}toValidDate(u,_){const N=nt.from(u);return void 0===_&&(_=this._calendar.getToday()),this._calendar.isValid(N)?N:_}getMonth(u){for(let _ of this._state.months)if(u.month===_.number&&u.year===_.year)return _;throw new Error(`month ${u.month} of year ${u.year} not found`)}_nextState(u){const _=this._updateState(u);this._patchContexts(_),this._state=_,this._model$.next(this._state)}_patchContexts(u){const{months:_,displayMonths:N,selectedDate:j,focusDate:ye,focusVisible:Ve,disabled:Ze,outsideDays:Dt}=u;u.months.forEach(Bt=>{Bt.weeks.forEach(Qn=>{Qn.days.forEach(Rn=>{ye&&(Rn.context.focused=ye.equals(Rn.date)&&Ve),Rn.tabindex=!Ze&&ye&&Rn.date.equals(ye)&&ye.month===Bt.number?0:-1,!0===Ze&&(Rn.context.disabled=!0),void 0!==j&&(Rn.context.selected=null!==j&&j.equals(Rn.date)),Bt.number!==Rn.date.month&&(Rn.hidden="hidden"===Dt||"collapsed"===Dt||N>1&&Rn.date.after(_[0].firstDate)&&Rn.date.before(_[N-1].lastDate))})})})}_updateState(u){const _=Object.assign({},this._state,u);let N=_.firstDate;if(("minDate"in u||"maxDate"in u)&&(function O(h,w){if(w&&h&&w.before(h))throw new Error(`'maxDate' ${w} should be greater than 'minDate' ${h}`)}(_.minDate,_.maxDate),_.focusDate=E(_.focusDate,_.minDate,_.maxDate),_.firstDate=E(_.firstDate,_.minDate,_.maxDate),N=_.focusDate),"disabled"in u&&(_.focusVisible=!1),"selectedDate"in u&&0===this._state.months.length&&(N=_.selectedDate),"focusVisible"in u||"focusDate"in u&&(_.focusDate=E(_.focusDate,_.minDate,_.maxDate),N=_.focusDate,0!==_.months.length&&_.focusDate&&!_.focusDate.before(_.firstDate)&&!_.focusDate.after(_.lastDate)))return _;if("firstDate"in u&&(_.firstDate=E(_.firstDate,_.minDate,_.maxDate),N=_.firstDate),N){const ye=function nn(h,w,u,_,N){const{displayMonths:j,months:ye}=u,Ve=ye.splice(0,ye.length);return Array.from({length:j},(Dt,Bt)=>{const Qn=Object.assign(h.getNext(w,"m",Bt),{day:1});if(ye[Bt]=null,!N){const Rn=Ve.findIndex(Xn=>Xn.firstDate.equals(Qn));-1!==Rn&&(ye[Bt]=Ve.splice(Rn,1)[0])}return Qn}).forEach((Dt,Bt)=>{null===ye[Bt]&&(ye[Bt]=function An(h,w,u,_,N={}){const{dayTemplateData:j,minDate:ye,maxDate:Ve,firstDayOfWeek:Ze,markDisabled:Dt,outsideDays:Bt,weekdayWidth:Qn,weekdaysVisible:Rn}=u,Xn=h.getToday();N.firstDate=null,N.lastDate=null,N.number=w.month,N.year=w.year,N.weeks=N.weeks||[],N.weekdays=N.weekdays||[],w=function Jn(h,w,u){const _=h.getDaysPerWeek(),N=new nt(w.year,w.month,1),j=h.getWeekday(N)%_;return h.getPrev(N,"d",(_+j-u)%_)}(h,w,Ze),Rn||(N.weekdays.length=0);for(let Xi=0;Xi<h.getWeeksPerMonth();Xi++){let vr=N.weeks[Xi];vr||(vr=N.weeks[Xi]={number:0,days:[],collapsed:!0});const Ti=vr.days;for(let ds=0;ds<h.getDaysPerWeek();ds++){0===Xi&&Rn&&(N.weekdays[ds]=_.getWeekdayLabel(h.getWeekday(w),Qn));const hs=new nt(w.year,w.month,w.day),fo=h.getNext(hs),ri=_.getDayAriaLabel(hs);let es=!!(ye&&hs.before(ye)||Ve&&hs.after(Ve));!es&&Dt&&(es=Dt(hs,{month:N.number,year:N.year}));let Hi=hs.equals(Xn),Ns=j?j(hs,{month:N.number,year:N.year}):void 0;null===N.firstDate&&hs.month===N.number&&(N.firstDate=hs),hs.month===N.number&&fo.month!==N.number&&(N.lastDate=hs);let vo=Ti[ds];vo||(vo=Ti[ds]={}),vo.date=hs,vo.context=Object.assign(vo.context||{},{$implicit:hs,date:hs,data:Ns,currentMonth:N.number,currentYear:N.year,disabled:es,focused:!1,selected:!1,today:Hi}),vo.tabindex=-1,vo.ariaLabel=ri,vo.hidden=!1,w=fo}vr.number=h.getWeekNumber(Ti.map(ds=>ds.date),Ze),vr.collapsed="collapsed"===Bt&&Ti[0].date.month!==N.number&&Ti[Ti.length-1].date.month!==N.number}return N}(h,Dt,u,_,Ve.shift()||{}))}),ye}(this._calendar,N,_,this._i18n,"dayTemplateData"in u||"firstDayOfWeek"in u||"markDisabled"in u||"minDate"in u||"maxDate"in u||"disabled"in u||"outsideDays"in u||"weekdaysVisible"in u);_.months=ye,_.firstDate=ye[0].firstDate,_.lastDate=ye[ye.length-1].lastDate,"selectedDate"in u&&!F(_.selectedDate,_)&&(_.selectedDate=null),"firstDate"in u&&(!_.focusDate||_.focusDate.before(_.firstDate)||_.focusDate.after(_.lastDate))&&(_.focusDate=N);const Ve=!this._state.firstDate||this._state.firstDate.year!==_.firstDate.year,Ze=!this._state.firstDate||this._state.firstDate.month!==_.firstDate.month;"select"===_.navigation?(("minDate"in u||"maxDate"in u||0===_.selectBoxes.years.length||Ve)&&(_.selectBoxes.years=function ae(h,w,u){if(!h)return[];const _=w?Math.max(w.year,h.year-500):h.year-10,j=(u?Math.min(u.year,h.year+500):h.year+10)-_+1,ye=Array(j);for(let Ve=0;Ve<j;Ve++)ye[Ve]=_+Ve;return ye}(_.firstDate,_.minDate,_.maxDate)),("minDate"in u||"maxDate"in u||0===_.selectBoxes.months.length||Ve)&&(_.selectBoxes.months=function q(h,w,u,_){if(!w)return[];let N=h.getMonths(w.year);if(u&&w.year===u.year){const j=N.findIndex(ye=>ye===u.month);N=N.slice(j)}if(_&&w.year===_.year){const j=N.findIndex(ye=>ye===_.month);N=N.slice(0,j+1)}return N}(this._calendar,_.firstDate,_.minDate,_.maxDate))):_.selectBoxes={years:[],months:[]},("arrows"===_.navigation||"select"===_.navigation)&&(Ze||Ve||"minDate"in u||"maxDate"in u||"disabled"in u)&&(_.prevDisabled=_.disabled||function rt(h,w,u){const _=Object.assign(h.getPrev(w,"m"),{day:1});return null!=u&&(_.year===u.year&&_.month<u.month||_.year<u.year&&1===u.month)}(this._calendar,_.firstDate,_.minDate),_.nextDisabled=_.disabled||function pe(h,w,u){const _=Object.assign(h.getNext(w,"m"),{day:1});return null!=u&&_.after(u)}(this._calendar,_.lastDate,_.maxDate))}return _}}return h.\u0275fac=function(u){return new(u||h)(a.LFG(sa),a.LFG(Au))},h.\u0275prov=a.Yz7({token:h,factory:h.\u0275fac}),h})();var vu=(()=>{return(h=vu||(vu={}))[h.PREV=0]="PREV",h[h.NEXT=1]="NEXT",vu;var h})();let Mu=(()=>{class h{constructor(u){this.i18n=u}isMuted(){return!this.selected&&(this.date.month!==this.currentMonth||this.disabled)}}return h.\u0275fac=function(u){return new(u||h)(a.Y36(Au))},h.\u0275cmp=a.Xpm({type:h,selectors:[["","ngbDatepickerDayView",""]],hostAttrs:[1,"btn-light"],hostVars:10,hostBindings:function(u,_){2&u&&a.ekj("bg-primary",_.selected)("text-white",_.selected)("text-muted",_.isMuted())("outside",_.isMuted())("active",_.focused)},inputs:{currentMonth:"currentMonth",date:"date",disabled:"disabled",focused:"focused",selected:"selected"},standalone:!0,features:[a.jDz],attrs:za,decls:1,vars:1,template:function(u,_){1&u&&a._uU(0),2&u&&a.Oqu(_.i18n.getDayNumerals(_.date))},styles:["[ngbDatepickerDayView]{text-align:center;width:2rem;height:2rem;line-height:2rem;border-radius:.25rem;background:transparent}[ngbDatepickerDayView]:hover:not(.bg-primary),[ngbDatepickerDayView].active:not(.bg-primary){background-color:var(--bs-btn-bg);outline:1px solid var(--bs-border-color)}[ngbDatepickerDayView].outside{opacity:.5}\n"],encapsulation:2,changeDetection:0}),h})(),ed=(()=>{class h{constructor(u,_){this.i18n=u,this._renderer=_,this.select=new a.vpe,this._month=-1,this._year=-1}changeMonth(u){this.select.emit(new nt(this.date.year,Zr(u),1))}changeYear(u){this.select.emit(new nt(Zr(u),this.date.month,1))}ngAfterViewChecked(){this.date&&(this.date.month!==this._month&&(this._month=this.date.month,this._renderer.setProperty(this.monthSelect.nativeElement,"value",this._month)),this.date.year!==this._year&&(this._year=this.date.year,this._renderer.setProperty(this.yearSelect.nativeElement,"value",this._year)))}}return h.\u0275fac=function(u){return new(u||h)(a.Y36(Au),a.Y36(a.Qsj))},h.\u0275cmp=a.Xpm({type:h,selectors:[["ngb-datepicker-navigation-select"]],viewQuery:function(u,_){if(1&u&&(a.Gf(Ls,7,a.SBq),a.Gf(us,7,a.SBq)),2&u){let N;a.iGM(N=a.CRH())&&(_.monthSelect=N.first),a.iGM(N=a.CRH())&&(_.yearSelect=N.first)}},inputs:{date:"date",disabled:"disabled",months:"months",years:"years"},outputs:{select:"select"},standalone:!0,features:[a.jDz],decls:6,vars:4,consts:function(){let w,u,_,N;return w=$localize`:@@ngb.datepicker.select-month:Select month`,u=$localize`:@@ngb.datepicker.select-month:Select month`,_=$localize`:@@ngb.datepicker.select-year:Select year`,N=$localize`:@@ngb.datepicker.select-year:Select year`,[["aria-label",w,"title",u,1,"form-select",3,"disabled","change"],["month",""],[3,"value",4,"ngFor","ngForOf"],["aria-label",_,"title",N,1,"form-select",3,"disabled","change"],["year",""],[3,"value"]]},template:function(u,_){1&u&&(a.TgZ(0,"select",0,1),a.NdJ("change",function(j){return _.changeMonth(j.target.value)}),a.YNc(2,ws,2,3,"option",2),a.qZA(),a.TgZ(3,"select",3,4),a.NdJ("change",function(j){return _.changeYear(j.target.value)}),a.YNc(5,Ai,2,2,"option",2),a.qZA()),2&u&&(a.Q6J("disabled",_.disabled),a.xp6(2),a.Q6J("ngForOf",_.months),a.xp6(1),a.Q6J("disabled",_.disabled),a.xp6(2),a.Q6J("ngForOf",_.years))},dependencies:[Jt.ax],styles:["ngb-datepicker-navigation-select>.form-select{flex:1 1 auto;padding:0 .5rem;font-size:.875rem;height:1.85rem}ngb-datepicker-navigation-select>.form-select:focus{z-index:1}ngb-datepicker-navigation-select>.form-select::-ms-value{background-color:transparent!important}\n"],encapsulation:2,changeDetection:0}),h})(),td=(()=>{class h{constructor(u){this.i18n=u,this.navigation=vu,this.months=[],this.navigate=new a.vpe,this.select=new a.vpe}onClickPrev(u){u.currentTarget.focus(),this.navigate.emit(this.navigation.PREV)}onClickNext(u){u.currentTarget.focus(),this.navigate.emit(this.navigation.NEXT)}}return h.\u0275fac=function(u){return new(u||h)(a.Y36(Au))},h.\u0275cmp=a.Xpm({type:h,selectors:[["ngb-datepicker-navigation"]],inputs:{date:"date",disabled:"disabled",months:"months",showSelect:"showSelect",prevDisabled:"prevDisabled",nextDisabled:"nextDisabled",selectBoxes:"selectBoxes"},outputs:{navigate:"navigate",select:"select"},standalone:!0,features:[a.jDz],decls:8,vars:4,consts:function(){let w,u,_,N;return w=$localize`:@@ngb.datepicker.previous-month:Previous month`,u=$localize`:@@ngb.datepicker.previous-month:Previous month`,_=$localize`:@@ngb.datepicker.next-month:Next month`,N=$localize`:@@ngb.datepicker.next-month:Next month`,[[1,"ngb-dp-arrow"],["type","button","aria-label",w,"title",u,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-chevron"],["class","ngb-dp-navigation-select",3,"date","disabled","months","years","select",4,"ngIf"],[4,"ngIf"],[1,"ngb-dp-arrow","right"],["type","button","aria-label",_,"title",N,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-select",3,"date","disabled","months","years","select"],["ngFor","",3,"ngForOf"],["class","ngb-dp-arrow",4,"ngIf"],[1,"ngb-dp-month-name"]]},template:function(u,_){1&u&&(a.TgZ(0,"div",0)(1,"button",1),a.NdJ("click",function(j){return _.onClickPrev(j)}),a._UZ(2,"span",2),a.qZA()(),a.YNc(3,Ei,1,4,"ngb-datepicker-navigation-select",3),a.YNc(4,Oa,1,1,null,4),a.TgZ(5,"div",5)(6,"button",6),a.NdJ("click",function(j){return _.onClickNext(j)}),a._UZ(7,"span",2),a.qZA()()),2&u&&(a.xp6(1),a.Q6J("disabled",_.prevDisabled),a.xp6(2),a.Q6J("ngIf",_.showSelect),a.xp6(1),a.Q6J("ngIf",!_.showSelect),a.xp6(2),a.Q6J("disabled",_.nextDisabled))},dependencies:[Jt.O5,Jt.ax,ed],styles:["ngb-datepicker-navigation{display:flex;align-items:center}.ngb-dp-navigation-chevron{border-style:solid;border-width:.2em .2em 0 0;display:inline-block;width:.75em;height:.75em;margin-left:.25em;margin-right:.15em;transform:rotate(-135deg)}.ngb-dp-arrow{display:flex;flex:1 1 auto;padding-right:0;padding-left:0;margin:0;width:2rem;height:2rem}.ngb-dp-arrow.right{justify-content:flex-end}.ngb-dp-arrow.right .ngb-dp-navigation-chevron{transform:rotate(45deg);margin-left:.15em;margin-right:.25em}.ngb-dp-arrow-btn{padding:0 .25rem;margin:0 .5rem;border:none;background-color:transparent;z-index:1}.ngb-dp-arrow-btn:focus{outline-width:1px;outline-style:auto}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.ngb-dp-arrow-btn:focus{outline-style:solid}}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center}.ngb-dp-navigation-select{display:flex;flex:1 1 9rem}\n"],encapsulation:2,changeDetection:0}),h})();var ci=(()=>{return(h=ci||(ci={}))[h.Tab=9]="Tab",h[h.Enter=13]="Enter",h[h.Escape=27]="Escape",h[h.Space=32]="Space",h[h.PageUp=33]="PageUp",h[h.PageDown=34]="PageDown",h[h.End=35]="End",h[h.Home=36]="Home",h[h.ArrowLeft=37]="ArrowLeft",h[h.ArrowUp=38]="ArrowUp",h[h.ArrowRight=39]="ArrowRight",h[h.ArrowDown=40]="ArrowDown",ci;var h})();let pl=(()=>{class h{processKey(u,_){const{state:N,calendar:j}=_;switch(u.which){case ci.PageUp:_.focusDate(j.getPrev(N.focusedDate,u.shiftKey?"y":"m",1));break;case ci.PageDown:_.focusDate(j.getNext(N.focusedDate,u.shiftKey?"y":"m",1));break;case ci.End:_.focusDate(u.shiftKey?N.maxDate:N.lastDate);break;case ci.Home:_.focusDate(u.shiftKey?N.minDate:N.firstDate);break;case ci.ArrowLeft:_.focusDate(j.getPrev(N.focusedDate,"d",1));break;case ci.ArrowUp:_.focusDate(j.getPrev(N.focusedDate,"d",j.getDaysPerWeek()));break;case ci.ArrowRight:_.focusDate(j.getNext(N.focusedDate,"d",1));break;case ci.ArrowDown:_.focusDate(j.getNext(N.focusedDate,"d",j.getDaysPerWeek()));break;case ci.Enter:case ci.Space:_.focusSelect();break;default:return}u.preventDefault(),u.stopPropagation()}}return h.\u0275fac=function(u){return new(u||h)},h.\u0275prov=a.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})(),rc=(()=>{class h{constructor(){this.displayMonths=1,this.firstDayOfWeek=1,this.navigation="select",this.outsideDays="visible",this.showWeekNumbers=!1,this.weekdays=Jt.Tn.Short}}return h.\u0275fac=function(u){return new(u||h)},h.\u0275prov=a.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})(),Il=(()=>{class h{}return h.\u0275fac=function(u){return new(u||h)},h.\u0275prov=a.Yz7({token:h,factory:function(){return function Jo(){return new qu}()},providedIn:"root"}),h})(),qu=(()=>{class h extends Il{fromModel(u){return u&&yi(u.year)&&yi(u.month)&&yi(u.day)?{year:u.year,month:u.month,day:u.day}:null}toModel(u){return u&&yi(u.year)&&yi(u.month)&&yi(u.day)?{year:u.year,month:u.month,day:u.day}:null}}return h.\u0275fac=function(){let w;return function(_){return(w||(w=a.n5z(h)))(_||h)}}(),h.\u0275prov=a.Yz7({token:h,factory:h.\u0275fac}),h})(),Qo=(()=>{class h{constructor(u){this.templateRef=u}}return h.\u0275fac=function(u){return new(u||h)(a.Y36(a.Rgc))},h.\u0275dir=a.lG2({type:h,selectors:[["ng-template","ngbDatepickerContent",""]],standalone:!0}),h})(),nd=(()=>{class h{constructor(u,_,N,j){this.i18n=u,this.datepicker=_,this._keyboardService=N,this._service=j}set month(u){this.viewModel=this._service.getMonth(u)}onKeyDown(u){this._keyboardService.processKey(u,this.datepicker)}doSelect(u){!u.context.disabled&&!u.hidden&&this.datepicker.onDateSelect(u.date)}}return h.\u0275fac=function(u){return new(u||h)(a.Y36(Au),a.Y36((0,a.Gpc)(()=>ic)),a.Y36(pl),a.Y36(Ku))},h.\u0275cmp=a.Xpm({type:h,selectors:[["ngb-datepicker-month"]],hostAttrs:["role","grid"],hostBindings:function(u,_){1&u&&a.NdJ("keydown",function(j){return _.onKeyDown(j)})},inputs:{month:"month"},standalone:!0,features:[a.jDz],decls:2,vars:2,consts:[["class","ngb-dp-week ngb-dp-weekdays","role","row",4,"ngIf"],["ngFor","",3,"ngForOf"],["role","row",1,"ngb-dp-week","ngb-dp-weekdays"],["class","ngb-dp-weekday ngb-dp-showweek small",4,"ngIf"],["class","ngb-dp-weekday small","role","columnheader",4,"ngFor","ngForOf"],[1,"ngb-dp-weekday","ngb-dp-showweek","small"],["role","columnheader",1,"ngb-dp-weekday","small"],["class","ngb-dp-week","role","row",4,"ngIf"],["role","row",1,"ngb-dp-week"],["class","ngb-dp-week-number small text-muted",4,"ngIf"],["class","ngb-dp-day","role","gridcell",3,"disabled","tabindex","hidden","ngb-dp-today","click",4,"ngFor","ngForOf"],[1,"ngb-dp-week-number","small","text-muted"],["role","gridcell",1,"ngb-dp-day",3,"tabindex","click"],[3,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(u,_){1&u&&(a.YNc(0,au,3,2,"div",0),a.YNc(1,_r,1,1,"ng-template",1)),2&u&&(a.Q6J("ngIf",_.viewModel.weekdays.length>0),a.xp6(1),a.Q6J("ngForOf",_.viewModel.weeks))},dependencies:[Jt.O5,Jt.ax,Jt.tP],styles:['ngb-datepicker-month{display:block}.ngb-dp-weekday,.ngb-dp-week-number{line-height:2rem;text-align:center;font-style:italic}.ngb-dp-weekday{color:var(--bs-info)}.ngb-dp-week{border-radius:.25rem;display:flex}.ngb-dp-weekdays{border-bottom:1px solid var(--bs-border-color);border-radius:0;background-color:var(--bs-light)}.ngb-dp-day,.ngb-dp-weekday,.ngb-dp-week-number{width:2rem;height:2rem}.ngb-dp-day{cursor:pointer}.ngb-dp-day.disabled,.ngb-dp-day.hidden{cursor:default;pointer-events:none}.ngb-dp-day[tabindex="0"]{z-index:1}\n'],encapsulation:2}),h})(),ic=(()=>{class h{constructor(u,_,N,j,ye,Ve,Ze,Dt){this._service=u,this._calendar=_,this._i18n=N,this._elementRef=Ve,this._ngbDateAdapter=Ze,this._ngZone=Dt,this.injector=(0,a.f3M)(a.zs3),this._controlValue=null,this._destroyed$=new re.x,this._publicState={},this.navigate=new a.vpe,this.dateSelect=new a.vpe,this.onChange=Bt=>{},this.onTouched=()=>{},["contentTemplate","dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showWeekNumbers","startDate","weekdays"].forEach(Bt=>this[Bt]=j[Bt]),u.dateSelect$.pipe($t(this._destroyed$)).subscribe(Bt=>{this.dateSelect.emit(Bt)}),u.model$.pipe($t(this._destroyed$)).subscribe(Bt=>{const Qn=Bt.firstDate,Rn=this.model?this.model.firstDate:null;this._publicState={maxDate:Bt.maxDate,minDate:Bt.minDate,firstDate:Bt.firstDate,lastDate:Bt.lastDate,focusedDate:Bt.focusDate,months:Bt.months.map(ds=>ds.firstDate)};let Xn=!1;if(!Qn.equals(Rn)&&(this.navigate.emit({current:Rn?{year:Rn.year,month:Rn.month}:null,next:{year:Qn.year,month:Qn.month},preventDefault:()=>Xn=!0}),Xn&&null!==Rn))return void this._service.open(Rn);const Xi=Bt.selectedDate,vr=Bt.focusDate,Ti=this.model?this.model.focusDate:null;this.model=Bt,Su(Xi,this._controlValue)&&(this._controlValue=Xi,this.onTouched(),this.onChange(this._ngbDateAdapter.toModel(Xi))),Su(vr,Ti)&&Ti&&Bt.focusVisible&&this.focus(),ye.markForCheck()})}get state(){return this._publicState}get calendar(){return this._calendar}get i18n(){return this._i18n}focusDate(u){this._service.focus(nt.from(u))}focusSelect(){this._service.focusSelect()}focus(){this._ngZone.onStable.asObservable().pipe((0,yn.q)(1)).subscribe(()=>{const u=this._elementRef.nativeElement.querySelector('div.ngb-dp-day[tabindex="0"]');u&&u.focus()})}navigateTo(u){this._service.open(nt.from(u?u.day?u:{...u,day:1}:null))}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const u=st(this._contentEl.nativeElement,"focusin"),_=st(this._contentEl.nativeElement,"focusout"),{nativeElement:N}=this._elementRef;(0,Ot.T)(u,_).pipe((0,hn.h)(({target:j,relatedTarget:ye})=>!(Jc(j,"ngb-dp-day")&&Jc(ye,"ngb-dp-day")&&N.contains(j)&&N.contains(ye))),$t(this._destroyed$)).subscribe(({type:j})=>this._ngZone.run(()=>this._service.set({focusVisible:"focusin"===j})))})}ngOnDestroy(){this._destroyed$.next()}ngOnInit(){if(void 0===this.model){const u={};["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].forEach(_=>u[_]=this[_]),this._service.set(u),this.navigateTo(this.startDate)}this.dayTemplate||(this.dayTemplate=this._defaultDayTemplate)}ngOnChanges(u){const _={};if(["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].filter(N=>N in u).forEach(N=>_[N]=this[N]),this._service.set(_),"startDate"in u){const{currentValue:N,previousValue:j}=u.startDate;ia(j,N)&&this.navigateTo(this.startDate)}}onDateSelect(u){this._service.focus(u),this._service.select(u,{emitEvent:!0})}onNavigateDateSelect(u){this._service.open(u)}onNavigateEvent(u){switch(u){case vu.PREV:this._service.open(this._calendar.getPrev(this.model.firstDate,"m",1));break;case vu.NEXT:this._service.open(this._calendar.getNext(this.model.firstDate,"m",1))}}registerOnChange(u){this.onChange=u}registerOnTouched(u){this.onTouched=u}setDisabledState(u){this._service.set({disabled:u})}writeValue(u){this._controlValue=nt.from(this._ngbDateAdapter.fromModel(u)),this._service.select(this._controlValue)}}return h.\u0275fac=function(u){return new(u||h)(a.Y36(Ku),a.Y36(sa),a.Y36(Au),a.Y36(rc),a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(Il),a.Y36(a.R0b))},h.\u0275cmp=a.Xpm({type:h,selectors:[["ngb-datepicker"]],contentQueries:function(u,_,N){if(1&u&&a.Suo(N,Qo,7),2&u){let j;a.iGM(j=a.CRH())&&(_.contentTemplateFromContent=j.first)}},viewQuery:function(u,_){if(1&u&&(a.Gf(ao,7),a.Gf(K,7)),2&u){let N;a.iGM(N=a.CRH())&&(_._defaultDayTemplate=N.first),a.iGM(N=a.CRH())&&(_._contentEl=N.first)}},hostVars:2,hostBindings:function(u,_){2&u&&a.ekj("disabled",_.model.disabled)},inputs:{contentTemplate:"contentTemplate",dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",maxDate:"maxDate",minDate:"minDate",navigation:"navigation",outsideDays:"outsideDays",showWeekNumbers:"showWeekNumbers",startDate:"startDate",weekdays:"weekdays"},outputs:{navigate:"navigate",dateSelect:"dateSelect"},exportAs:["ngbDatepicker"],standalone:!0,features:[a._Bn([{provide:wn.JU,useExisting:(0,a.Gpc)(()=>h),multi:!0},Ku]),a.TTD,a.jDz],decls:10,vars:9,consts:[["defaultDayTemplate",""],["defaultContentTemplate",""],[1,"ngb-dp-header"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select",4,"ngIf"],[1,"ngb-dp-content"],["content",""],[3,"ngTemplateOutlet","ngTemplateOutletContext","ngTemplateOutletInjector"],[3,"ngTemplateOutlet"],["ngbDatepickerDayView","",3,"date","currentMonth","selected","disabled","focused"],["class","ngb-dp-month",4,"ngFor","ngForOf"],[1,"ngb-dp-month"],["class","ngb-dp-month-name",4,"ngIf"],[3,"month"],[1,"ngb-dp-month-name"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select"]],template:function(u,_){if(1&u&&(a.YNc(0,z,1,5,"ng-template",null,0,a.W1O),a.YNc(2,Pt,1,1,"ng-template",null,1,a.W1O),a.TgZ(4,"div",2),a.YNc(5,pn,1,7,"ngb-datepicker-navigation",3),a.qZA(),a.TgZ(6,"div",4,5),a.YNc(8,Es,0,0,"ng-template",6),a.qZA(),a.YNc(9,xt,0,0,"ng-template",7)),2&u){const N=a.MAs(3);a.xp6(5),a.Q6J("ngIf","none"!==_.navigation),a.xp6(1),a.ekj("ngb-dp-months",!_.contentTemplate),a.xp6(2),a.Q6J("ngTemplateOutlet",_.contentTemplate||(null==_.contentTemplateFromContent?null:_.contentTemplateFromContent.templateRef)||N)("ngTemplateOutletContext",a.VKq(7,Hr,_))("ngTemplateOutletInjector",_.injector),a.xp6(1),a.Q6J("ngTemplateOutlet",_.footerTemplate)}},dependencies:[Jt.O5,Jt.ax,Jt.tP,Mu,nd,td],styles:["ngb-datepicker{border:1px solid var(--bs-border-color);border-radius:.25rem;display:inline-block}ngb-datepicker-month{pointer-events:auto}ngb-datepicker.dropdown-menu{padding:0}ngb-datepicker.disabled .ngb-dp-weekday,ngb-datepicker.disabled .ngb-dp-week-number,ngb-datepicker.disabled .ngb-dp-month-name{color:var(--bs-text-muted)}.ngb-dp-body{z-index:1055}.ngb-dp-header{border-bottom:0;border-radius:.25rem .25rem 0 0;padding-top:.25rem;background-color:var(--bs-light)}.ngb-dp-months{display:flex}.ngb-dp-month{pointer-events:none}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center;background-color:var(--bs-light)}.ngb-dp-month+.ngb-dp-month .ngb-dp-month-name,.ngb-dp-month+.ngb-dp-month .ngb-dp-week{padding-left:1rem}.ngb-dp-month:last-child .ngb-dp-week{padding-right:.25rem}.ngb-dp-month:first-child .ngb-dp-week{padding-left:.25rem}.ngb-dp-month .ngb-dp-week:last-child{padding-bottom:.25rem}\n"],encapsulation:2,changeDetection:0}),h})();typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const wd=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function kc(h){const w=Array.from(h.querySelectorAll(wd)).filter(u=>-1!==u.tabIndex);return[w[0],w[w.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let Ah=(()=>{class h{}return h.\u0275fac=function(u){return new(u||h)},h.\u0275mod=a.oAB({type:h}),h.\u0275inj=a.cJS({imports:[ic,nd]}),h})(),Ol=(()=>{class h{}return h.\u0275fac=function(u){return new(u||h)},h.\u0275mod=a.oAB({type:h}),h.\u0275inj=a.cJS({}),h})();class eu{constructor(w,u,_){this.nodes=w,this.viewRef=u,this.componentRef=_}}let $l=(()=>{class h{constructor(u,_){this._el=u,this._zone=_}ngOnInit(){this._zone.onStable.asObservable().pipe((0,yn.q)(1)).subscribe(()=>{tn(this._zone,this._el.nativeElement,(u,_)=>{_&&ss(u),u.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return tn(this._zone,this._el.nativeElement,({classList:u})=>u.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return h.\u0275fac=function(u){return new(u||h)(a.Y36(a.SBq),a.Y36(a.R0b))},h.\u0275cmp=a.Xpm({type:h,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(u,_){2&u&&(a.Tol("modal-backdrop"+(_.backdropClass?" "+_.backdropClass:"")),a.ekj("show",!_.animation)("fade",_.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[a.jDz],decls:0,vars:0,template:function(u,_){},encapsulation:2}),h})();class Ec{update(w){}close(w){}dismiss(w){}}const Nd=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],Ru=["animation","backdropClass"];class Mh{constructor(w,u,_,N){this._windowCmptRef=w,this._contentRef=u,this._backdropCmptRef=_,this._beforeDismiss=N,this._closed=new re.x,this._dismissed=new re.x,this._hidden=new re.x,w.instance.dismissEvent.subscribe(j=>{this.dismiss(j)}),this.result=new Promise((j,ye)=>{this._resolve=j,this._reject=ye}),this.result.then(null,()=>{})}_applyWindowOptions(w,u){Nd.forEach(_=>{Zs(u[_])&&(w[_]=u[_])})}_applyBackdropOptions(w,u){Ru.forEach(_=>{Zs(u[_])&&(w[_]=u[_])})}update(w){this._applyWindowOptions(this._windowCmptRef.instance,w),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,w)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe($t(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe($t(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(w){this._windowCmptRef&&(this._closed.next(w),this._resolve(w),this._removeModalElements())}_dismiss(w){this._dismissed.next(w),this._reject(w),this._removeModalElements()}dismiss(w){if(this._windowCmptRef)if(this._beforeDismiss){const u=this._beforeDismiss();!function Yo(h){return h&&h.then}(u)?!1!==u&&this._dismiss(w):u.then(_=>{!1!==_&&this._dismiss(w)},()=>{})}else this._dismiss(w)}_removeModalElements(){const w=this._windowCmptRef.instance.hide(),u=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,fe.of)(void 0);w.subscribe(()=>{const{nativeElement:_}=this._windowCmptRef.location;_.parentNode.removeChild(_),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),u.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:_}=this._backdropCmptRef.location;_.parentNode.removeChild(_),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),_t(w,u).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Du=(()=>{return(h=Du||(Du={}))[h.BACKDROP_CLICK=0]="BACKDROP_CLICK",h[h.ESC=1]="ESC",Du;var h})();let Kf=(()=>{class h{constructor(u,_,N){this._document=u,this._elRef=_,this._zone=N,this._closed$=new re.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new a.vpe,this.shown=new re.x,this.hidden=new re.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":qo(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(u){this.dismissEvent.emit(u)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,yn.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:u}=this._elRef,_={animation:this.animation,runningTransition:"stop"},ye=_t(tn(this._zone,u,()=>u.classList.remove("show"),_),tn(this._zone,this._dialogEl.nativeElement,()=>{},_));return ye.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),ye}_show(){const u={animation:this.animation,runningTransition:"continue"};_t(tn(this._zone,this._elRef.nativeElement,(j,ye)=>{ye&&ss(j),j.classList.add("show")},u),tn(this._zone,this._dialogEl.nativeElement,()=>{},u)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:u}=this._elRef;this._zone.runOutsideAngular(()=>{st(u,"keydown").pipe($t(this._closed$),(0,hn.h)(N=>N.which===ci.Escape)).subscribe(N=>{this.keyboard?requestAnimationFrame(()=>{N.defaultPrevented||this._zone.run(()=>this.dismiss(Du.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let _=!1;st(this._dialogEl.nativeElement,"mousedown").pipe($t(this._closed$),(0,pt.b)(()=>_=!1),(0,Ke.w)(()=>st(u,"mouseup").pipe($t(this._closed$),(0,yn.q)(1))),(0,hn.h)(({target:N})=>u===N)).subscribe(()=>{_=!0}),st(u,"click").pipe($t(this._closed$)).subscribe(({target:N})=>{u===N&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!_&&this._zone.run(()=>this.dismiss(Du.BACKDROP_CLICK))),_=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:u}=this._elRef;if(!u.contains(document.activeElement)){const _=u.querySelector("[ngbAutofocus]"),N=kc(u)[0];(_||N||u).focus()}}_restoreFocus(){const u=this._document.body,_=this._elWithFocus;let N;N=_&&_.focus&&u.contains(_)?_:u,this._zone.runOutsideAngular(()=>{setTimeout(()=>N.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&tn(this._zone,this._elRef.nativeElement,({classList:u})=>(u.add("modal-static"),()=>u.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return h.\u0275fac=function(u){return new(u||h)(a.Y36(Jt.K0),a.Y36(a.SBq),a.Y36(a.R0b))},h.\u0275cmp=a.Xpm({type:h,selectors:[["ngb-modal-window"]],viewQuery:function(u,_){if(1&u&&a.Gf(_o,7),2&u){let N;a.iGM(N=a.CRH())&&(_._dialogEl=N.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(u,_){2&u&&(a.uIk("aria-modal",!0)("aria-labelledby",_.ariaLabelledBy)("aria-describedby",_.ariaDescribedBy),a.Tol("modal d-block"+(_.windowClass?" "+_.windowClass:"")),a.ekj("fade",_.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[a.jDz],ngContentSelectors:ou,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(u,_){1&u&&(a.F$t(),a.TgZ(0,"div",0,1)(2,"div",2),a.Hsn(3),a.qZA()()),2&u&&a.Tol("modal-dialog"+(_.size?" modal-"+_.size:"")+(_.centered?" modal-dialog-centered":"")+_.fullscreenClass+(_.scrollable?" modal-dialog-scrollable":"")+(_.modalDialogClass?" "+_.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),h})(),Tu=(()=>{class h{constructor(u){this._document=u}hide(){const u=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),_=this._document.body,N=_.style,{overflow:j,paddingRight:ye}=N;if(u>0){const Ve=parseFloat(window.getComputedStyle(_).paddingRight);N.paddingRight=`${Ve+u}px`}return N.overflow="hidden",()=>{u>0&&(N.paddingRight=ye),N.overflow=j}}}return h.\u0275fac=function(u){return new(u||h)(a.LFG(Jt.K0))},h.\u0275prov=a.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})(),sf=(()=>{class h{constructor(u,_,N,j,ye,Ve,Ze){this._applicationRef=u,this._injector=_,this._environmentInjector=N,this._document=j,this._scrollBar=ye,this._rendererFactory=Ve,this._ngZone=Ze,this._activeWindowCmptHasChanged=new re.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new a.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const Dt=this._windowCmpts[this._windowCmpts.length-1];((h,w,u,_=!1)=>{h.runOutsideAngular(()=>{const N=st(w,"focusin").pipe($t(u),(0,vn.U)(j=>j.target));st(w,"keydown").pipe($t(u),(0,hn.h)(j=>j.which===ci.Tab),zn(N)).subscribe(([j,ye])=>{const[Ve,Ze]=kc(w);(ye===Ve||ye===w)&&j.shiftKey&&(Ze.focus(),j.preventDefault()),ye===Ze&&!j.shiftKey&&(Ve.focus(),j.preventDefault())}),_&&st(w,"click").pipe($t(u),zn(N),(0,vn.U)(j=>j[1])).subscribe(j=>j.focus())})})(this._ngZone,Dt.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(Dt.location.nativeElement)}})}_restoreScrollBar(){const u=this._scrollBarRestoreFn;u&&(this._scrollBarRestoreFn=null,u())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(u,_,N){const j=N.container instanceof HTMLElement?N.container:Zs(N.container)?this._document.querySelector(N.container):this._document.body,ye=this._rendererFactory.createRenderer(null,null);if(!j)throw new Error(`The specified modal container "${N.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const Ve=new Ec,Ze=(u=N.injector||u).get(a.lqb,null)||this._environmentInjector,Dt=this._getContentRef(u,Ze,_,Ve,N);let Bt=!1!==N.backdrop?this._attachBackdrop(j):void 0,Qn=this._attachWindowComponent(j,Dt.nodes),Rn=new Mh(Qn,Dt,Bt,N.beforeDismiss);return this._registerModalRef(Rn),this._registerWindowCmpt(Qn),Rn.hidden.pipe((0,yn.q)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(ye.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),Ve.close=Xn=>{Rn.close(Xn)},Ve.dismiss=Xn=>{Rn.dismiss(Xn)},Ve.update=Xn=>{Rn.update(Xn)},Rn.update(N),1===this._modalRefs.length&&ye.addClass(this._document.body,"modal-open"),Bt&&Bt.instance&&Bt.changeDetectorRef.detectChanges(),Qn.changeDetectorRef.detectChanges(),Rn}get activeInstances(){return this._activeInstances}dismissAll(u){this._modalRefs.forEach(_=>_.dismiss(u))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(u){let _=(0,a.LMc)($l,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(_.hostView),u.appendChild(_.location.nativeElement),_}_attachWindowComponent(u,_){let N=(0,a.LMc)(Kf,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:_});return this._applicationRef.attachView(N.hostView),u.appendChild(N.location.nativeElement),N}_getContentRef(u,_,N,j,ye){return N?N instanceof a.Rgc?this._createFromTemplateRef(N,j):qo(N)?this._createFromString(N):this._createFromComponent(u,_,N,j,ye):new eu([])}_createFromTemplateRef(u,_){const j=u.createEmbeddedView({$implicit:_,close(ye){_.close(ye)},dismiss(ye){_.dismiss(ye)}});return this._applicationRef.attachView(j),new eu([j.rootNodes],j)}_createFromString(u){const _=this._document.createTextNode(`${u}`);return new eu([[_]])}_createFromComponent(u,_,N,j,ye){const Ve=a.zs3.create({providers:[{provide:Ec,useValue:j}],parent:u}),Ze=(0,a.LMc)(N,{environmentInjector:_,elementInjector:Ve}),Dt=Ze.location.nativeElement;return ye.scrollable&&Dt.classList.add("component-host-scrollable"),this._applicationRef.attachView(Ze.hostView),new eu([[Dt]],Ze.hostView,Ze)}_setAriaHidden(u){const _=u.parentElement;_&&u!==this._document.body&&(Array.from(_.children).forEach(N=>{N!==u&&"SCRIPT"!==N.nodeName&&(this._ariaHiddenValues.set(N,N.getAttribute("aria-hidden")),N.setAttribute("aria-hidden","true"))}),this._setAriaHidden(_))}_revertAriaHidden(){this._ariaHiddenValues.forEach((u,_)=>{u?_.setAttribute("aria-hidden",u):_.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(u){const _=()=>{const N=this._modalRefs.indexOf(u);N>-1&&(this._modalRefs.splice(N,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(u),this._activeInstances.emit(this._modalRefs),u.result.then(_,_)}_registerWindowCmpt(u){this._windowCmpts.push(u),this._activeWindowCmptHasChanged.next(),u.onDestroy(()=>{const _=this._windowCmpts.indexOf(u);_>-1&&(this._windowCmpts.splice(_,1),this._activeWindowCmptHasChanged.next())})}}return h.\u0275fac=function(u){return new(u||h)(a.LFG(a.z2F),a.LFG(a.zs3),a.LFG(a.lqb),a.LFG(Jt.K0),a.LFG(Tu),a.LFG(a.FYo),a.LFG(a.R0b))},h.\u0275prov=a.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})(),zl=(()=>{class h{constructor(u){this._ngbConfig=u,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(u){this._animation=u}}return h.\u0275fac=function(u){return new(u||h)(a.LFG(Nt))},h.\u0275prov=a.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})(),Rl=(()=>{class h{constructor(u,_,N){this._injector=u,this._modalStack=_,this._config=N}open(u,_={}){const N={...this._config,animation:this._config.animation,..._};return this._modalStack.open(this._injector,u,N)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(u){this._modalStack.dismissAll(u)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return h.\u0275fac=function(u){return new(u||h)(a.LFG(a.zs3),a.LFG(sf),a.LFG(zl))},h.\u0275prov=a.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})(),tu=(()=>{class h{}return h.\u0275fac=function(u){return new(u||h)},h.\u0275mod=a.oAB({type:h}),h.\u0275inj=a.cJS({providers:[Rl]}),h})();const Uc=({classList:h})=>(h.remove("show"),()=>h.remove("active")),Us=(h,w)=>{w&&ss(h),h.classList.add("show")};let Dc=(()=>{class h{constructor(u){this.elRef=u}}return h.\u0275fac=function(u){return new(u||h)(a.Y36(a.SBq))},h.\u0275dir=a.lG2({type:h,selectors:[["","ngbNavPane",""]],hostAttrs:[1,"tab-pane"],hostVars:5,hostBindings:function(u,_){2&u&&(a.Ikx("id",_.item.panelDomId),a.uIk("role",_.role?_.role:_.nav.roles?"tabpanel":void 0)("aria-labelledby",_.item.domId),a.ekj("fade",_.nav.animation))},inputs:{item:"item",nav:"nav",role:"role"},standalone:!0}),h})(),Md=(()=>{class h{constructor(u,_){this._cd=u,this._ngZone=_,this._activePane=null}isPanelTransitioning(u){return this._activePane?.item===u}ngAfterViewInit(){this._updateActivePane(),this.nav.navItemChange$.pipe($t(this.nav.destroy$),(0,Ge.O)(this._activePane?.item||null),(0,yt.x)(),function di(h){return(0,hn.h)((w,u)=>h<=u)}(1)).subscribe(u=>{const _={animation:this.nav.animation,runningTransition:"stop"};this._cd.detectChanges(),this._activePane?tn(this._ngZone,this._activePane.elRef.nativeElement,Uc,_).subscribe(()=>{const N=this._activePane?.item;this._activePane=this._getPaneForItem(u),this._cd.markForCheck(),this._activePane&&(this._activePane.elRef.nativeElement.classList.add("active"),tn(this._ngZone,this._activePane.elRef.nativeElement,Us,_).subscribe(()=>{u&&(u.shown.emit(),this.nav.shown.emit(u.id))})),N&&(N.hidden.emit(),this.nav.hidden.emit(N.id))}):this._updateActivePane()})}_updateActivePane(){this._activePane=this._getActivePane(),this._activePane?.elRef.nativeElement.classList.add("show"),this._activePane?.elRef.nativeElement.classList.add("active")}_getPaneForItem(u){return this._panes&&this._panes.find(_=>_.item===u)||null}_getActivePane(){return this._panes&&this._panes.find(u=>u.item.active)||null}}return h.\u0275fac=function(u){return new(u||h)(a.Y36(a.sBO),a.Y36(a.R0b))},h.\u0275cmp=a.Xpm({type:h,selectors:[["","ngbNavOutlet",""]],viewQuery:function(u,_){if(1&u&&a.Gf(Dc,5),2&u){let N;a.iGM(N=a.CRH())&&(_._panes=N)}},hostVars:2,hostBindings:function(u,_){2&u&&a.ekj("tab-content",!0)},inputs:{paneRole:"paneRole",nav:["ngbNavOutlet","nav"]},standalone:!0,features:[a.jDz],attrs:Ka,decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],["ngbNavPane","",3,"item","nav","role",4,"ngIf"],["ngbNavPane","",3,"item","nav","role"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(u,_){1&u&&a.YNc(0,va,1,1,"ng-template",0),2&u&&a.Q6J("ngForOf",_.nav.items)},dependencies:[Dc,Jt.ax,Jt.O5,Jt.tP],encapsulation:2,changeDetection:0}),h})(),Kl=(()=>{class h{}return h.\u0275fac=function(u){return new(u||h)},h.\u0275mod=a.oAB({type:h}),h.\u0275inj=a.cJS({imports:[Md]}),h})(),Od=(()=>{class h{constructor(){this.disabled=!1,this.boundaryLinks=!1,this.directionLinks=!0,this.ellipses=!0,this.maxSize=0,this.pageSize=10,this.rotate=!1}}return h.\u0275fac=function(u){return new(u||h)},h.\u0275prov=a.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})(),Tc=(()=>{class h{constructor(u){this.templateRef=u}}return h.\u0275fac=function(u){return new(u||h)(a.Y36(a.Rgc))},h.\u0275dir=a.lG2({type:h,selectors:[["ng-template","ngbPaginationEllipsis",""]],standalone:!0}),h})(),Xd=(()=>{class h{constructor(u){this.templateRef=u}}return h.\u0275fac=function(u){return new(u||h)(a.Y36(a.Rgc))},h.\u0275dir=a.lG2({type:h,selectors:[["ng-template","ngbPaginationFirst",""]],standalone:!0}),h})(),Hc=(()=>{class h{constructor(u){this.templateRef=u}}return h.\u0275fac=function(u){return new(u||h)(a.Y36(a.Rgc))},h.\u0275dir=a.lG2({type:h,selectors:[["ng-template","ngbPaginationLast",""]],standalone:!0}),h})(),co=(()=>{class h{constructor(u){this.templateRef=u}}return h.\u0275fac=function(u){return new(u||h)(a.Y36(a.Rgc))},h.\u0275dir=a.lG2({type:h,selectors:[["ng-template","ngbPaginationNext",""]],standalone:!0}),h})(),Ro=(()=>{class h{constructor(u){this.templateRef=u}}return h.\u0275fac=function(u){return new(u||h)(a.Y36(a.Rgc))},h.\u0275dir=a.lG2({type:h,selectors:[["ng-template","ngbPaginationNumber",""]],standalone:!0}),h})(),Cc=(()=>{class h{constructor(u){this.templateRef=u}}return h.\u0275fac=function(u){return new(u||h)(a.Y36(a.Rgc))},h.\u0275dir=a.lG2({type:h,selectors:[["ng-template","ngbPaginationPrevious",""]],standalone:!0}),h})(),af=(()=>{class h{constructor(u){this.templateRef=u}}return h.\u0275fac=function(u){return new(u||h)(a.Y36(a.Rgc))},h.\u0275dir=a.lG2({type:h,selectors:[["ng-template","ngbPaginationPages",""]],standalone:!0}),h})(),eh=(()=>{class h{constructor(u){this.pageCount=0,this.pages=[],this.page=1,this.pageChange=new a.vpe(!0),this.disabled=u.disabled,this.boundaryLinks=u.boundaryLinks,this.directionLinks=u.directionLinks,this.ellipses=u.ellipses,this.maxSize=u.maxSize,this.pageSize=u.pageSize,this.rotate=u.rotate,this.size=u.size}hasPrevious(){return this.page>1}hasNext(){return this.page<this.pageCount}nextDisabled(){return!this.hasNext()||this.disabled}previousDisabled(){return!this.hasPrevious()||this.disabled}selectPage(u){this._updatePages(u)}ngOnChanges(u){this._updatePages(this.page)}isEllipsis(u){return-1===u}_applyEllipses(u,_){this.ellipses&&(u>0&&(u>2?this.pages.unshift(-1):2===u&&this.pages.unshift(2),this.pages.unshift(1)),_<this.pageCount&&(_<this.pageCount-2?this.pages.push(-1):_===this.pageCount-2&&this.pages.push(this.pageCount-1),this.pages.push(this.pageCount)))}_applyRotation(){let u=0,_=this.pageCount,N=Math.floor(this.maxSize/2);return this.page<=N?_=this.maxSize:this.pageCount-this.page<N?u=this.pageCount-this.maxSize:(u=this.page-N-1,_=this.page+(this.maxSize%2==0?N-1:N)),[u,_]}_applyPagination(){let _=(Math.ceil(this.page/this.maxSize)-1)*this.maxSize;return[_,_+this.maxSize]}_setPageInRange(u){const _=this.page;this.page=Ui(u,this.pageCount,1),this.page!==_&&Ar(this.collectionSize)&&this.pageChange.emit(this.page)}_updatePages(u){this.pageCount=Math.ceil(this.collectionSize/this.pageSize),Ar(this.pageCount)||(this.pageCount=0),this.pages.length=0;for(let _=1;_<=this.pageCount;_++)this.pages.push(_);if(this._setPageInRange(u),this.maxSize>0&&this.pageCount>this.maxSize){let _=0,N=this.pageCount;[_,N]=this.rotate?this._applyRotation():this._applyPagination(),this.pages=this.pages.slice(_,N),this._applyEllipses(_,N)}}}return h.\u0275fac=function(u){return new(u||h)(a.Y36(Od))},h.\u0275cmp=a.Xpm({type:h,selectors:[["ngb-pagination"]],contentQueries:function(u,_,N){if(1&u&&(a.Suo(N,Tc,5),a.Suo(N,Xd,5),a.Suo(N,Hc,5),a.Suo(N,co,5),a.Suo(N,Ro,5),a.Suo(N,Cc,5),a.Suo(N,af,5)),2&u){let j;a.iGM(j=a.CRH())&&(_.tplEllipsis=j.first),a.iGM(j=a.CRH())&&(_.tplFirst=j.first),a.iGM(j=a.CRH())&&(_.tplLast=j.first),a.iGM(j=a.CRH())&&(_.tplNext=j.first),a.iGM(j=a.CRH())&&(_.tplNumber=j.first),a.iGM(j=a.CRH())&&(_.tplPrevious=j.first),a.iGM(j=a.CRH())&&(_.tplPages=j.first)}},hostAttrs:["role","navigation"],inputs:{disabled:"disabled",boundaryLinks:"boundaryLinks",directionLinks:"directionLinks",ellipses:"ellipses",rotate:"rotate",collectionSize:"collectionSize",maxSize:"maxSize",page:"page",pageSize:"pageSize",size:"size"},outputs:{pageChange:"pageChange"},standalone:!0,features:[a.TTD,a.jDz],decls:20,vars:12,consts:function(){let w,u,_,N,j,ye,Ve,Ze;return w=$localize`:@@ngb.pagination.first:`,u=$localize`:@@ngb.pagination.previous:`,_=$localize`:@@ngb.pagination.next:`,N=$localize`:@@ngb.pagination.last:`,j=$localize`:@@ngb.pagination.first-aria:First`,ye=$localize`:@@ngb.pagination.previous-aria:Previous`,Ve=$localize`:@@ngb.pagination.next-aria:Next`,Ze=$localize`:@@ngb.pagination.last-aria:Last`,[["first",""],["previous",""],["next",""],["last",""],["ellipsis",""],["defaultNumber",""],["defaultPages",""],["class","page-item",3,"disabled",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true"],w,u,_,N,["class","page-item",3,"active","disabled",4,"ngFor","ngForOf"],[1,"page-item"],["class","page-link","tabindex","-1","aria-disabled","true",4,"ngIf"],["class","page-link","href","",3,"click",4,"ngIf"],["tabindex","-1","aria-disabled","true",1,"page-link"],["href","",1,"page-link",3,"click"],["aria-label",j,"href","",1,"page-link",3,"click"],["aria-label",ye,"href","",1,"page-link",3,"click"],["aria-label",Ve,"href","",1,"page-link",3,"click"],["aria-label",Ze,"href","",1,"page-link",3,"click"]]},template:function(u,_){if(1&u&&(a.YNc(0,Eo,2,0,"ng-template",null,0,a.W1O),a.YNc(2,ra,2,0,"ng-template",null,1,a.W1O),a.YNc(4,dl,2,0,"ng-template",null,2,a.W1O),a.YNc(6,hl,2,0,"ng-template",null,3,a.W1O),a.YNc(8,Gu,1,0,"ng-template",null,4,a.W1O),a.YNc(10,se,1,1,"ng-template",null,5,a.W1O),a.YNc(12,wt,1,1,"ng-template",null,6,a.W1O),a.TgZ(14,"ul"),a.YNc(15,qn,3,9,"li",7),a.YNc(16,Cr,3,8,"li",7),a.YNc(17,Dr,0,0,"ng-template",8),a.YNc(18,qe,3,9,"li",7),a.YNc(19,Tt,3,9,"li",7),a.qZA()),2&u){const N=a.MAs(13);a.xp6(14),a.Tol("pagination"+(_.size?" pagination-"+_.size:"")),a.xp6(1),a.Q6J("ngIf",_.boundaryLinks),a.xp6(1),a.Q6J("ngIf",_.directionLinks),a.xp6(1),a.Q6J("ngTemplateOutlet",(null==_.tplPages?null:_.tplPages.templateRef)||N)("ngTemplateOutletContext",a.kEZ(8,Pn,_.page,_.pages,_.disabled)),a.xp6(1),a.Q6J("ngIf",_.directionLinks),a.xp6(1),a.Q6J("ngIf",_.boundaryLinks)}},dependencies:[Jt.O5,Jt.ax,Jt.tP],encapsulation:2,changeDetection:0}),h})(),Ba=(()=>{class h{}return h.\u0275fac=function(u){return new(u||h)},h.\u0275mod=a.oAB({type:h}),h.\u0275inj=a.cJS({imports:[eh]}),h})(),cc=(()=>{class h{}return h.\u0275fac=function(u){return new(u||h)},h.\u0275mod=a.oAB({type:h}),h.\u0275inj=a.cJS({}),h})(),ld=(()=>{class h{constructor(){this.max=100,this.animated=!1,this.ariaLabel="progress bar",this.striped=!1,this.showValue=!1}}return h.\u0275fac=function(u){return new(u||h)},h.\u0275prov=a.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})(),D=(()=>{class h{constructor(u){this.value=0,this.max=u.max,this.animated=u.animated,this.ariaLabel=u.ariaLabel,this.striped=u.striped,this.textType=u.textType,this.type=u.type,this.showValue=u.showValue,this.height=u.height}set max(u){this._max=!Ar(u)||u<=0?100:u}get max(){return this._max}getValue(){return Ui(this.value,this.max)}getPercentValue(){return 100*this.getValue()/this.max}}return h.\u0275fac=function(u){return new(u||h)(a.Y36(ld))},h.\u0275cmp=a.Xpm({type:h,selectors:[["ngb-progressbar"]],hostAttrs:["role","progressbar","aria-valuemin","0",1,"progress"],hostVars:5,hostBindings:function(u,_){2&u&&(a.uIk("aria-valuenow",_.getValue())("aria-valuemax",_.max)("aria-label",_.ariaLabel),a.Udp("height",_.height))},inputs:{max:"max",animated:"animated",ariaLabel:"ariaLabel",striped:"striped",showValue:"showValue",textType:"textType",type:"type",value:"value",height:"height"},standalone:!0,features:[a.jDz],ngContentSelectors:ou,decls:3,vars:11,consts:function(){let w;return w=$localize`:@@ngb.progressbar.value:${"\ufffd0\ufffd"}:INTERPOLATION:`,[[4,"ngIf"],w]},template:function(u,_){1&u&&(a.F$t(),a.TgZ(0,"div"),a.YNc(1,lr,3,3,"span",0),a.Hsn(2),a.qZA()),2&u&&(a.MT6("progress-bar",_.type?_.textType?" bg-"+_.type:" text-bg-"+_.type:"","",_.textType?" text-"+_.textType:"",""),a.Udp("width",_.getPercentValue(),"%"),a.ekj("progress-bar-animated",_.animated)("progress-bar-striped",_.striped),a.xp6(1),a.Q6J("ngIf",_.showValue))},dependencies:[Jt.O5,Jt.Zx],encapsulation:2,changeDetection:0}),h})(),m=(()=>{class h{}return h.\u0275fac=function(u){return new(u||h)},h.\u0275mod=a.oAB({type:h}),h.\u0275inj=a.cJS({imports:[D]}),h})(),y=(()=>{class h{constructor(){this.max=10,this.readonly=!1,this.resettable=!1,this.tabindex=0}}return h.\u0275fac=function(u){return new(u||h)},h.\u0275prov=a.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})(),A=(()=>{class h{constructor(u,_){this._changeDetectorRef=_,this.contexts=[],this.disabled=!1,this.hover=new a.vpe,this.leave=new a.vpe,this.rateChange=new a.vpe(!0),this.onChange=N=>{},this.onTouched=()=>{},this.max=u.max,this.readonly=u.readonly,this.tabindex=u.tabindex}ariaValueText(u,_){return`${u} out of ${_}`}isInteractive(){return!this.readonly&&!this.disabled}enter(u){this.isInteractive()&&this._updateState(u),this.hover.emit(u)}handleBlur(){this.onTouched()}handleClick(u){this.isInteractive()&&this.update(this.resettable&&this.rate===u?0:u)}handleKeyDown(u){switch(u.which){case ci.ArrowDown:case ci.ArrowLeft:this.update(this.rate-1);break;case ci.ArrowUp:case ci.ArrowRight:this.update(this.rate+1);break;case ci.Home:this.update(0);break;case ci.End:this.update(this.max);break;default:return}u.preventDefault()}ngOnChanges(u){u.rate&&this.update(this.rate),u.max&&this._updateMax()}ngOnInit(){this._setupContexts(),this._updateState(this.rate)}registerOnChange(u){this.onChange=u}registerOnTouched(u){this.onTouched=u}reset(){this.leave.emit(this.nextRate),this._updateState(this.rate)}setDisabledState(u){this.disabled=u}update(u,_=!0){const N=Ui(u,this.max,0);this.isInteractive()&&this.rate!==N&&(this.rate=N,this.rateChange.emit(this.rate)),_&&(this.onChange(this.rate),this.onTouched()),this._updateState(this.rate)}writeValue(u){this.update(u,!1),this._changeDetectorRef.markForCheck()}_updateState(u){this.nextRate=u,this.contexts.forEach((_,N)=>_.fill=Math.round(100*Ui(u-N,1,0)))}_updateMax(){this.max>0&&(this._setupContexts(),this.update(this.rate))}_setupContexts(){this.contexts=Array.from({length:this.max},(u,_)=>({fill:0,index:_}))}}return h.\u0275fac=function(u){return new(u||h)(a.Y36(y),a.Y36(a.sBO))},h.\u0275cmp=a.Xpm({type:h,selectors:[["ngb-rating"]],contentQueries:function(u,_,N){if(1&u&&a.Suo(N,a.Rgc,5),2&u){let j;a.iGM(j=a.CRH())&&(_.starTemplateFromContent=j.first)}},hostAttrs:["role","slider","aria-valuemin","0",1,"d-inline-flex"],hostVars:5,hostBindings:function(u,_){1&u&&a.NdJ("blur",function(){return _.handleBlur()})("keydown",function(j){return _.handleKeyDown(j)})("mouseleave",function(){return _.reset()}),2&u&&(a.Ikx("tabindex",_.disabled?-1:_.tabindex),a.uIk("aria-valuemax",_.max)("aria-valuenow",_.nextRate)("aria-valuetext",_.ariaValueText(_.nextRate,_.max))("aria-disabled",!!_.readonly||null))},inputs:{max:"max",rate:"rate",readonly:"readonly",resettable:"resettable",starTemplate:"starTemplate",tabindex:"tabindex",ariaValueText:"ariaValueText"},outputs:{hover:"hover",leave:"leave",rateChange:"rateChange"},standalone:!0,features:[a._Bn([{provide:wn.JU,useExisting:(0,a.Gpc)(()=>h),multi:!0}]),a.TTD,a.jDz],decls:3,vars:1,consts:[["t",""],["ngFor","",3,"ngForOf"],[1,"visually-hidden"],[3,"mouseenter","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(u,_){1&u&&(a.YNc(0,Bs,1,1,"ng-template",null,0,a.W1O),a.YNc(2,Rs,4,5,"ng-template",1)),2&u&&(a.xp6(2),a.Q6J("ngForOf",_.contexts))},dependencies:[Jt.ax,Jt.tP],encapsulation:2,changeDetection:0}),h})(),Z=(()=>{class h{}return h.\u0275fac=function(u){return new(u||h)},h.\u0275mod=a.oAB({type:h}),h.\u0275inj=a.cJS({imports:[A]}),h})();class oe{constructor(w,u,_){this.hour=Zr(w),this.minute=Zr(u),this.second=Zr(_)}changeHour(w=1){this.updateHour((isNaN(this.hour)?0:this.hour)+w)}updateHour(w){this.hour=Ar(w)?(w<0?24+w:w)%24:NaN}changeMinute(w=1){this.updateMinute((isNaN(this.minute)?0:this.minute)+w)}updateMinute(w){Ar(w)?(this.minute=w%60<0?60+w%60:w%60,this.changeHour(Math.floor(w/60))):this.minute=NaN}changeSecond(w=1){this.updateSecond((isNaN(this.second)?0:this.second)+w)}updateSecond(w){Ar(w)?(this.second=w<0?60+w%60:w%60,this.changeMinute(Math.floor(w/60))):this.second=NaN}isValid(w=!0){return Ar(this.hour)&&Ar(this.minute)&&(!w||Ar(this.second))}toString(){return`${this.hour||0}:${this.minute||0}:${this.second||0}`}}let Ne=(()=>{class h{constructor(){this.meridian=!1,this.spinners=!0,this.seconds=!1,this.hourStep=1,this.minuteStep=1,this.secondStep=1,this.disabled=!1,this.readonlyInputs=!1,this.size="medium"}}return h.\u0275fac=function(u){return new(u||h)},h.\u0275prov=a.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})(),_n=(()=>{class h{}return h.\u0275fac=function(u){return new(u||h)},h.\u0275prov=a.Yz7({token:h,factory:function(){return function bt(){return new Gn}()},providedIn:"root"}),h})(),Gn=(()=>{class h extends _n{fromModel(u){return u&&yi(u.hour)&&yi(u.minute)?{hour:u.hour,minute:u.minute,second:yi(u.second)?u.second:null}:null}toModel(u){return u&&yi(u.hour)&&yi(u.minute)?{hour:u.hour,minute:u.minute,second:yi(u.second)?u.second:null}:null}}return h.\u0275fac=function(){let w;return function(_){return(w||(w=a.n5z(h)))(_||h)}}(),h.\u0275prov=a.Yz7({token:h,factory:h.\u0275fac}),h})(),ur=(()=>{class h{}return h.\u0275fac=function(u){return new(u||h)},h.\u0275prov=a.Yz7({token:h,factory:function(u){let _=null;return _=u?new u:function or(h){return new ho(h)}(a.LFG(a.soG)),_},providedIn:"root"}),h})(),ho=(()=>{class h extends ur{constructor(u){super(),this._periods=(0,Jt.ol)(u,Jt.x.Standalone,Jt.Tn.Narrow)}getMorningPeriod(){return this._periods[0]}getAfternoonPeriod(){return this._periods[1]}}return h.\u0275fac=function(u){return new(u||h)(a.LFG(a.soG))},h.\u0275prov=a.Yz7({token:h,factory:h.\u0275fac}),h})();const rl=/[^0-9]/g;let Gc=(()=>{class h{constructor(u,_,N,j){this._config=u,this._ngbTimeAdapter=_,this._cd=N,this.i18n=j,this.onChange=ye=>{},this.onTouched=()=>{},this.meridian=u.meridian,this.spinners=u.spinners,this.seconds=u.seconds,this.hourStep=u.hourStep,this.minuteStep=u.minuteStep,this.secondStep=u.secondStep,this.disabled=u.disabled,this.readonlyInputs=u.readonlyInputs,this.size=u.size}set hourStep(u){this._hourStep=yi(u)?u:this._config.hourStep}get hourStep(){return this._hourStep}set minuteStep(u){this._minuteStep=yi(u)?u:this._config.minuteStep}get minuteStep(){return this._minuteStep}set secondStep(u){this._secondStep=yi(u)?u:this._config.secondStep}get secondStep(){return this._secondStep}writeValue(u){const _=this._ngbTimeAdapter.fromModel(u);this.model=_?new oe(_.hour,_.minute,_.second):new oe,!this.seconds&&(!_||!Ar(_.second))&&(this.model.second=0),this._cd.markForCheck()}registerOnChange(u){this.onChange=u}registerOnTouched(u){this.onTouched=u}setDisabledState(u){this.disabled=u}changeHour(u){this.model?.changeHour(u),this.propagateModelChange()}changeMinute(u){this.model?.changeMinute(u),this.propagateModelChange()}changeSecond(u){this.model?.changeSecond(u),this.propagateModelChange()}updateHour(u){const _=!!this.model&&this.model.hour>=12,N=Zr(u);this.model?.updateHour(this.meridian&&(_&&N<12||!_&&12===N)?N+12:N),this.propagateModelChange()}updateMinute(u){this.model?.updateMinute(Zr(u)),this.propagateModelChange()}updateSecond(u){this.model?.updateSecond(Zr(u)),this.propagateModelChange()}toggleMeridian(){this.meridian&&this.changeHour(12)}formatInput(u){u.value=u.value.replace(rl,"")}formatHour(u){return Ar(u)?ju(this.meridian?u%12==0?12:u%12:u%24):ju(NaN)}formatMinSec(u){return ju(Ar(u)?u:NaN)}handleBlur(){this.onTouched()}get isSmallSize(){return"small"===this.size}get isLargeSize(){return"large"===this.size}ngOnChanges(u){u.seconds&&!this.seconds&&this.model&&!Ar(this.model.second)&&(this.model.second=0,this.propagateModelChange(!1))}propagateModelChange(u=!0){u&&this.onTouched(),this.model?.isValid(this.seconds)?this.onChange(this._ngbTimeAdapter.toModel({hour:this.model.hour,minute:this.model.minute,second:this.model.second})):this.onChange(this._ngbTimeAdapter.toModel(null))}}return h.\u0275fac=function(u){return new(u||h)(a.Y36(Ne),a.Y36(_n),a.Y36(a.sBO),a.Y36(ur))},h.\u0275cmp=a.Xpm({type:h,selectors:[["ngb-timepicker"]],inputs:{meridian:"meridian",spinners:"spinners",seconds:"seconds",hourStep:"hourStep",minuteStep:"minuteStep",secondStep:"secondStep",readonlyInputs:"readonlyInputs",size:"size"},exportAs:["ngbTimepicker"],standalone:!0,features:[a._Bn([{provide:wn.JU,useExisting:(0,a.Gpc)(()=>h),multi:!0}]),a.TTD,a.jDz],decls:16,vars:25,consts:function(){let w,u,_,N,j,ye,Ve,Ze,Dt,Bt,Qn,Rn,Xn,Xi;return w=$localize`:@@ngb.timepicker.HH:HH`,u=$localize`:@@ngb.timepicker.hours:Hours`,_=$localize`:@@ngb.timepicker.MM:MM`,N=$localize`:@@ngb.timepicker.minutes:Minutes`,j=$localize`:@@ngb.timepicker.increment-hours:Increment hours`,ye=$localize`:@@ngb.timepicker.decrement-hours:Decrement hours`,Ve=$localize`:@@ngb.timepicker.increment-minutes:Increment minutes`,Ze=$localize`:@@ngb.timepicker.decrement-minutes:Decrement minutes`,Dt=$localize`:@@ngb.timepicker.SS:SS`,Bt=$localize`:@@ngb.timepicker.seconds:Seconds`,Qn=$localize`:@@ngb.timepicker.increment-seconds:Increment seconds`,Rn=$localize`:@@ngb.timepicker.decrement-seconds:Decrement seconds`,Xn=$localize`:@@ngb.timepicker.PM:${"\ufffd0\ufffd"}:INTERPOLATION:`,Xi=$localize`:@@ngb.timepicker.AM:${"\ufffd0\ufffd"}:INTERPOLATION:`,[[3,"disabled"],[1,"ngb-tp"],[1,"ngb-tp-input-container","ngb-tp-hour"],["tabindex","-1","type","button","class","btn btn-link",3,"btn-sm","btn-lg","disabled","click",4,"ngIf"],["type","text","maxlength","2","inputmode","numeric","placeholder",w,"aria-label",u,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],[1,"ngb-tp-spacer"],[1,"ngb-tp-input-container","ngb-tp-minute"],["type","text","maxlength","2","inputmode","numeric","placeholder",_,"aria-label",N,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],["class","ngb-tp-spacer",4,"ngIf"],["class","ngb-tp-input-container ngb-tp-second",4,"ngIf"],["class","ngb-tp-meridian",4,"ngIf"],["tabindex","-1","type","button",1,"btn","btn-link",3,"disabled","click"],[1,"chevron","ngb-tp-chevron"],[1,"visually-hidden"],j,[1,"chevron","ngb-tp-chevron","bottom"],ye,Ve,Ze,[1,"ngb-tp-input-container","ngb-tp-second"],["type","text","maxlength","2","inputmode","numeric","placeholder",Dt,"aria-label",Bt,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],Qn,Rn,[1,"ngb-tp-meridian"],["type","button",1,"btn","btn-outline-primary",3,"disabled","click"],[4,"ngIf","ngIfElse"],["am",""],Xn,Xi]},template:function(u,_){1&u&&(a.TgZ(0,"fieldset",0)(1,"div",1)(2,"div",2),a.YNc(3,_u,4,7,"button",3),a.TgZ(4,"input",4),a.NdJ("change",function(j){return _.updateHour(j.target.value)})("blur",function(){return _.handleBlur()})("input",function(j){return _.formatInput(j.target)})("keydown.ArrowUp",function(j){return _.changeHour(_.hourStep),j.preventDefault()})("keydown.ArrowDown",function(j){return _.changeHour(-_.hourStep),j.preventDefault()}),a.qZA(),a.YNc(5,Ps,4,7,"button",3),a.qZA(),a.TgZ(6,"div",5),a._uU(7,":"),a.qZA(),a.TgZ(8,"div",6),a.YNc(9,ba,4,7,"button",3),a.TgZ(10,"input",7),a.NdJ("change",function(j){return _.updateMinute(j.target.value)})("blur",function(){return _.handleBlur()})("input",function(j){return _.formatInput(j.target)})("keydown.ArrowUp",function(j){return _.changeMinute(_.minuteStep),j.preventDefault()})("keydown.ArrowDown",function(j){return _.changeMinute(-_.minuteStep),j.preventDefault()}),a.qZA(),a.YNc(11,Fi,4,7,"button",3),a.qZA(),a.YNc(12,sr,2,0,"div",8),a.YNc(13,li,4,9,"div",9),a.YNc(14,x,1,0,"div",8),a.YNc(15,ue,5,9,"div",10),a.qZA()()),2&u&&(a.ekj("disabled",_.disabled),a.Q6J("disabled",_.disabled),a.xp6(3),a.Q6J("ngIf",_.spinners),a.xp6(1),a.ekj("form-control-sm",_.isSmallSize)("form-control-lg",_.isLargeSize),a.Q6J("value",_.formatHour(null==_.model?null:_.model.hour))("readOnly",_.readonlyInputs)("disabled",_.disabled),a.xp6(1),a.Q6J("ngIf",_.spinners),a.xp6(4),a.Q6J("ngIf",_.spinners),a.xp6(1),a.ekj("form-control-sm",_.isSmallSize)("form-control-lg",_.isLargeSize),a.Q6J("value",_.formatMinSec(null==_.model?null:_.model.minute))("readOnly",_.readonlyInputs)("disabled",_.disabled),a.xp6(1),a.Q6J("ngIf",_.spinners),a.xp6(1),a.Q6J("ngIf",_.seconds),a.xp6(1),a.Q6J("ngIf",_.seconds),a.xp6(1),a.Q6J("ngIf",_.meridian),a.xp6(1),a.Q6J("ngIf",_.meridian))},dependencies:[Jt.O5],styles:['ngb-timepicker{font-size:1rem}.ngb-tp{display:flex;align-items:center}.ngb-tp-input-container{width:4em}.ngb-tp-chevron:before{border-style:solid;border-width:.29em .29em 0 0;content:"";display:inline-block;height:.69em;left:.05em;position:relative;top:.15em;transform:rotate(-45deg);vertical-align:middle;width:.69em}.ngb-tp-chevron.bottom:before{top:-.3em;transform:rotate(135deg)}.ngb-tp-input{text-align:center}.ngb-tp-hour,.ngb-tp-minute,.ngb-tp-second,.ngb-tp-meridian{display:flex;flex-direction:column;align-items:center;justify-content:space-around}.ngb-tp-spacer{width:1em;text-align:center}\n'],encapsulation:2}),h})(),Rd=(()=>{class h{}return h.\u0275fac=function(u){return new(u||h)},h.\u0275mod=a.oAB({type:h}),h.\u0275inj=a.cJS({imports:[Gc]}),h})();const eo=(h,w)=>{const{classList:u}=h;if(w)return u.add("fade"),ss(h),u.add("show","showing"),()=>{u.remove("showing")};u.add("show")},jc=({classList:h})=>(h.add("showing"),()=>{h.remove("show","showing")});let cd=(()=>{class h{constructor(u){this._ngbConfig=u,this.autohide=!0,this.delay=5e3,this.ariaLive="polite"}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(u){this._animation=u}}return h.\u0275fac=function(u){return new(u||h)(a.LFG(Nt))},h.\u0275prov=a.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})(),Sc=(()=>{class h{}return h.\u0275fac=function(u){return new(u||h)},h.\u0275dir=a.lG2({type:h,selectors:[["","ngbToastHeader",""]],standalone:!0}),h})(),Pd=(()=>{class h{constructor(u,_,N,j){this.ariaLive=u,this._zone=N,this._element=j,this.contentHeaderTpl=null,this.shown=new a.vpe,this.hidden=new a.vpe,null==this.ariaLive&&(this.ariaLive=_.ariaLive),this.delay=_.delay,this.autohide=_.autohide,this.animation=_.animation}ngAfterContentInit(){this._zone.onStable.asObservable().pipe((0,yn.q)(1)).subscribe(()=>{this._init(),this.show()})}ngOnChanges(u){"autohide"in u&&(this._clearTimeout(),this._init())}hide(){this._clearTimeout();const u=tn(this._zone,this._element.nativeElement,jc,{animation:this.animation,runningTransition:"stop"});return u.subscribe(()=>{this.hidden.emit()}),u}show(){const u=tn(this._zone,this._element.nativeElement,eo,{animation:this.animation,runningTransition:"continue"});return u.subscribe(()=>{this.shown.emit()}),u}_init(){this.autohide&&!this._timeoutID&&(this._timeoutID=setTimeout(()=>this.hide(),this.delay))}_clearTimeout(){this._timeoutID&&(clearTimeout(this._timeoutID),this._timeoutID=null)}}return h.\u0275fac=function(u){return new(u||h)(a.$8M("aria-live"),a.Y36(cd),a.Y36(a.R0b),a.Y36(a.SBq))},h.\u0275cmp=a.Xpm({type:h,selectors:[["ngb-toast"]],contentQueries:function(u,_,N){if(1&u&&a.Suo(N,Sc,7,a.Rgc),2&u){let j;a.iGM(j=a.CRH())&&(_.contentHeaderTpl=j.first)}},hostAttrs:["role","alert","aria-atomic","true",1,"toast"],hostVars:3,hostBindings:function(u,_){2&u&&(a.uIk("aria-live",_.ariaLive),a.ekj("fade",_.animation))},inputs:{animation:"animation",delay:"delay",autohide:"autohide",header:"header"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbToast"],standalone:!0,features:[a.TTD,a.jDz],ngContentSelectors:ou,decls:5,vars:1,consts:function(){let w;return w=$localize`:@@ngb.toast.close-aria:Close`,[["headerTpl",""],[3,"ngIf"],[1,"toast-body"],[1,"me-auto"],[1,"toast-header"],[3,"ngTemplateOutlet"],["type","button","aria-label",w,1,"btn-close",3,"click"]]},template:function(u,_){1&u&&(a.F$t(),a.YNc(0,we,2,1,"ng-template",null,0,a.W1O),a.YNc(2,jt,3,1,"ng-template",1),a.TgZ(3,"div",2),a.Hsn(4),a.qZA()),2&u&&(a.xp6(2),a.Q6J("ngIf",_.contentHeaderTpl||_.header))},dependencies:[Jt.O5,Jt.tP],styles:["ngb-toast{display:block}ngb-toast .toast-header .close{margin-left:auto;margin-bottom:.25rem}\n"],encapsulation:2}),h})(),xd=(()=>{class h{}return h.\u0275fac=function(u){return new(u||h)},h.\u0275mod=a.oAB({type:h}),h.\u0275inj=a.cJS({imports:[Pd]}),h})(),cf=(()=>{class h{}return h.\u0275fac=function(u){return new(u||h)},h.\u0275mod=a.oAB({type:h}),h.\u0275inj=a.cJS({}),h})(),wm=(()=>{class h{constructor(){this.highlightClass="ngb-highlight",this.accentSensitive=!0}ngOnChanges(u){!this.accentSensitive&&!String.prototype.normalize&&(console.warn("The `accentSensitive` input in `ngb-highlight` cannot be set to `false` in a browser that does not implement the `String.normalize` function. You will have to include a polyfill in your application to use this feature in the current browser."),this.accentSensitive=!0);const _=Uo(this.result),N=Array.isArray(this.term)?this.term:[this.term],j=Dt=>this.accentSensitive?Dt:uu(Dt),ye=N.map(Dt=>function Cu(h){return h.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(j(Uo(Dt)))).filter(Dt=>Dt),Ve=this.accentSensitive?_:uu(_),Ze=ye.length?Ve.split(new RegExp(`(${ye.join("|")})`,"gmi")):[_];if(this.accentSensitive)this.parts=Ze;else{let Dt=0;this.parts=Ze.map(Bt=>_.substring(Dt,Dt+=Bt.length))}}}return h.\u0275fac=function(u){return new(u||h)},h.\u0275cmp=a.Xpm({type:h,selectors:[["ngb-highlight"]],inputs:{highlightClass:"highlightClass",result:"result",term:"term",accentSensitive:"accentSensitive"},standalone:!0,features:[a.TTD,a.jDz],decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],[3,"class",4,"ngIf","ngIfElse"],["even",""]],template:function(u,_){1&u&&a.YNc(0,Br,3,2,"ng-template",0),2&u&&a.Q6J("ngForOf",_.parts)},dependencies:[Jt.O5,Jt.ax],styles:[".ngb-highlight{font-weight:700}\n"],encapsulation:2,changeDetection:0}),h})();new a.OlP("live announcer delay",{providedIn:"root",factory:function kd(){return 100}});let hf=(()=>{class h{}return h.\u0275fac=function(u){return new(u||h)},h.\u0275mod=a.oAB({type:h}),h.\u0275inj=a.cJS({imports:[wm]}),h})(),Mp=(()=>{class h{}return h.\u0275fac=function(u){return new(u||h)},h.\u0275mod=a.oAB({type:h}),h.\u0275inj=a.cJS({}),h})();const Qf=[Qc,tc,Wu,wa,Ah,Ol,tu,Kl,Mp,Ba,cc,m,Z,Rd,xd,cf,hf];let hd=(()=>{class h{}return h.\u0275fac=function(u){return new(u||h)},h.\u0275mod=a.oAB({type:h}),h.\u0275inj=a.cJS({imports:[Qf,Qc,tc,Wu,wa,Ah,Ol,tu,Kl,Mp,Ba,cc,m,Z,Rd,xd,cf,hf]}),h})()},2779:(Nn,lt,Y)=>{"use strict";Y.d(lt,{C6:()=>a.getApps,Mq:()=>a.getApp});var a=Y(8559);(0,a.registerVersion)("firebase","9.22.2","app")},1181:(Nn,lt,Y)=>{"use strict";Y.d(lt,{Z:()=>a.Z});var a=Y(5003);a.Z.registerVersion("firebase","9.22.2","app-compat")},9379:(Nn,lt,Y)=>{"use strict";Y.r(lt);var a=Y(1670),V=Y(5003),ee=Y(7748),fe=Y(8559),re=Y(2321),Te=Y(8118),je=Y(4692);const et={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},xe_EMAIL_SIGNIN="EMAIL_SIGNIN",xe_PASSWORD_RESET="PASSWORD_RESET",xe_RECOVER_EMAIL="RECOVER_EMAIL",xe_REVERT_SECOND_FACTOR_ADDITION="REVERT_SECOND_FACTOR_ADDITION",xe_VERIFY_AND_CHANGE_EMAIL="VERIFY_AND_CHANGE_EMAIL",xe_VERIFY_EMAIL="VERIFY_EMAIL";const Ft=function Vt(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Gt=function st(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},at=new ee.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ce=new Te.Yd("@firebase/auth");function ct(D,...m){Ce.logLevel<=Te.in.ERROR&&Ce.error(`Auth (${fe.SDK_VERSION}): ${D}`,...m)}function Se(D,...m){throw ft(D,...m)}function Je(D,...m){return ft(D,...m)}function Yt(D,m,y){const A=Object.assign(Object.assign({},Gt()),{[m]:y});return new ee.LL("auth","Firebase",A).create(m,{appName:D.name})}function Ut(D,m,y){if(!(m instanceof y))throw y.name!==m.constructor.name&&Se(D,"argument-error"),Yt(D,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ft(D,...m){if("string"!=typeof D){const y=m[0],A=[...m.slice(1)];return A[0]&&(A[0].appName=D.name),D._errorFactory.create(y,...A)}return at.create(D,...m)}function Ye(D,m,...y){if(!D)throw ft(m,...y)}function Zt(D){const m="INTERNAL ASSERTION FAILED: "+D;throw ct(m),new Error(m)}function en(D,m){D||Zt(m)}function Bn(){var D;return typeof self<"u"&&(null===(D=self.location)||void 0===D?void 0:D.href)||""}function Dn(){return"http:"===qi()||"https:"===qi()}function qi(){var D;return typeof self<"u"&&(null===(D=self.location)||void 0===D?void 0:D.protocol)||null}class Ot{constructor(m,y){this.shortDelay=m,this.longDelay=y,en(y>m,"Short delay should be less than long delay!"),this.isMobile=(0,ee.uI)()||(0,ee.b$)()}get(){return function It(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Dn()||(0,ee.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ct(D,m){en(D.emulator,"Emulator should always be set here");const{url:y}=D.emulator;return m?`${y}${m.startsWith("/")?m.slice(1):m}`:y}class Wt{static initialize(m,y,A){this.fetchImpl=m,y&&(this.headersImpl=y),A&&(this.responseImpl=A)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Zt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Zt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Zt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Lt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},$t=new Ot(3e4,6e4);function hn(D,m){return D.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:D.tenantId}):m}function yn(D,m,y,A){return vn.apply(this,arguments)}function vn(){return(vn=(0,a.Z)(function*(D,m,y,A,Z={}){return Ge(D,Z,(0,a.Z)(function*(){let oe={},Ne={};A&&("GET"===m?Ne=A:oe={body:JSON.stringify(A)});const bt=(0,ee.xO)(Object.assign({key:D.config.apiKey},Ne)).slice(1),_n=yield D._getAdditionalHeaders();return _n["Content-Type"]="application/json",D.languageCode&&(_n["X-Firebase-Locale"]=D.languageCode),Wt.fetch()(Tn(D,D.config.apiHost,y,bt),Object.assign({method:m,headers:_n,referrerPolicy:"no-referrer"},oe))}))})).apply(this,arguments)}function Ge(D,m,y){return yt.apply(this,arguments)}function yt(){return(yt=(0,a.Z)(function*(D,m,y){D._canInitEmulator=!1;const A=Object.assign(Object.assign({},Lt),m);try{const Z=new zn(D),oe=yield Promise.race([y(),Z.promise]);Z.clearNetworkTimeout();const Ne=yield oe.json();if("needConfirmation"in Ne)throw jn(D,"account-exists-with-different-credential",Ne);if(oe.ok&&!("errorMessage"in Ne))return Ne;{const bt=oe.ok?Ne.errorMessage:Ne.error.message,[_n,Gn]=bt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===_n)throw jn(D,"credential-already-in-use",Ne);if("EMAIL_EXISTS"===_n)throw jn(D,"email-already-in-use",Ne);if("USER_DISABLED"===_n)throw jn(D,"user-disabled",Ne);const or=A[_n]||_n.toLowerCase().replace(/[_\s]+/g,"-");if(Gn)throw Yt(D,or,Gn);Se(D,or)}}catch(Z){if(Z instanceof ee.ZR)throw Z;Se(D,"network-request-failed",{message:String(Z)})}})).apply(this,arguments)}function Ke(D,m,y,A){return pt.apply(this,arguments)}function pt(){return(pt=(0,a.Z)(function*(D,m,y,A,Z={}){const oe=yield yn(D,m,y,A,Z);return"mfaPendingCredential"in oe&&Se(D,"multi-factor-auth-required",{_serverResponse:oe}),oe})).apply(this,arguments)}function Tn(D,m,y,A){const Z=`${m}${y}?${A}`;return D.config.emulator?Ct(D.config,Z):`${D.config.apiScheme}://${Z}`}class zn{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((y,A)=>{this.timer=setTimeout(()=>A(Je(this.auth,"network-request-failed")),$t.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function jn(D,m,y){const A={appName:D.name};y.email&&(A.email=y.email),y.phoneNumber&&(A.phoneNumber=y.phoneNumber);const Z=Je(D,m,A);return Z.customData._tokenResponse=y,Z}function ii(){return(ii=(0,a.Z)(function*(D,m){return yn(D,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function di(){return(di=(0,a.Z)(function*(D,m){return yn(D,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function wn(){return(wn=(0,a.Z)(function*(D,m){return yn(D,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function jr(D){if(D)try{const m=new Date(Number(D));if(!isNaN(m.getTime()))return m.toUTCString()}catch{}}function bi(){return(bi=(0,a.Z)(function*(D,m=!1){const y=(0,ee.m9)(D),A=yield y.getIdToken(m),Z=fr(A);Ye(Z&&Z.exp&&Z.auth_time&&Z.iat,y.auth,"internal-error");const oe="object"==typeof Z.firebase?Z.firebase:void 0,Ne=oe?.sign_in_provider;return{claims:Z,token:A,authTime:jr(Gs(Z.auth_time)),issuedAtTime:jr(Gs(Z.iat)),expirationTime:jr(Gs(Z.exp)),signInProvider:Ne||null,signInSecondFactor:oe?.sign_in_second_factor||null}})).apply(this,arguments)}function Gs(D){return 1e3*Number(D)}function fr(D){const[m,y,A]=D.split(".");if(void 0===m||void 0===y||void 0===A)return ct("JWT malformed, contained fewer than 3 sections"),null;try{const Z=(0,ee.tV)(y);return Z?JSON.parse(Z):(ct("Failed to decode base64 JWT payload"),null)}catch(Z){return ct("Caught error parsing JWT payload as JSON",Z?.toString()),null}}function In(D,m){return bn.apply(this,arguments)}function bn(){return(bn=(0,a.Z)(function*(D,m,y=!1){if(y)return m;try{return yield m}catch(A){throw A instanceof ee.ZR&&function si({code:D}){return"auth/user-disabled"===D||"auth/user-token-expired"===D}(A)&&D.auth.currentUser===D&&(yield D.auth.signOut()),A}})).apply(this,arguments)}class ei{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var y;if(m){const A=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),A}{this.errorBackoff=3e4;const Z=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,Z)}}schedule(m=!1){var y=this;if(!this.isRunning)return;const A=this.getInterval(m);this.timerId=setTimeout((0,a.Z)(function*(){yield y.iteration()}),A)}iteration(){var m=this;return(0,a.Z)(function*(){try{yield m.user.getIdToken(!0)}catch(y){return void("auth/network-request-failed"===y?.code&&m.schedule(!0))}m.schedule()})()}}class Wn{constructor(m,y){this.createdAt=m,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=jr(this.lastLoginAt),this.creationTime=jr(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function fi(D){return Ii.apply(this,arguments)}function Ii(){return Ii=(0,a.Z)(function*(D){var m;const y=D.auth,A=yield D.getIdToken(),Z=yield In(D,function Jt(D,m){return wn.apply(this,arguments)}(y,{idToken:A}));Ye(Z?.users.length,y,"internal-error");const oe=Z.users[0];D._notifyReloadListener(oe);const Ne=null!==(m=oe.providerUserInfo)&&void 0!==m&&m.length?function wr(D){return D.map(m=>{var{providerId:y}=m,A=(0,re._T)(m,["providerId"]);return{providerId:y,uid:A.rawId||"",displayName:A.displayName||null,email:A.email||null,phoneNumber:A.phoneNumber||null,photoURL:A.photoUrl||null}})}(oe.providerUserInfo):[],bt=function fs(D,m){return[...D.filter(A=>!m.some(Z=>Z.providerId===A.providerId)),...m]}(D.providerData,Ne),or=!!D.isAnonymous&&!(D.email&&oe.passwordHash||bt?.length),ur={uid:oe.localId,displayName:oe.displayName||null,photoURL:oe.photoUrl||null,email:oe.email||null,emailVerified:oe.emailVerified||!1,phoneNumber:oe.phoneNumber||null,tenantId:oe.tenantId||null,providerData:bt,metadata:new Wn(oe.createdAt,oe.lastLoginAt),isAnonymous:or};Object.assign(D,ur)}),Ii.apply(this,arguments)}function xr(){return(xr=(0,a.Z)(function*(D){const m=(0,ee.m9)(D);yield fi(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function Rr(){return(Rr=(0,a.Z)(function*(D,m){const y=yield Ge(D,{},(0,a.Z)(function*(){const A=(0,ee.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:Z,apiKey:oe}=D.config,Ne=Tn(D,Z,"/v1/token",`key=${oe}`),bt=yield D._getAdditionalHeaders();return bt["Content-Type"]="application/x-www-form-urlencoded",Wt.fetch()(Ne,{method:"POST",headers:bt,body:A})}));return{accessToken:y.access_token,expiresIn:y.expires_in,refreshToken:y.refresh_token}})).apply(this,arguments)}class oi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){Ye(m.idToken,"internal-error"),Ye(typeof m.idToken<"u","internal-error"),Ye(typeof m.refreshToken<"u","internal-error");const y="expiresIn"in m&&typeof m.expiresIn<"u"?Number(m.expiresIn):function br(D){const m=fr(D);return Ye(m,"internal-error"),Ye(typeof m.exp<"u","internal-error"),Ye(typeof m.iat<"u","internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,y)}getToken(m,y=!1){var A=this;return(0,a.Z)(function*(){return Ye(!A.accessToken||A.refreshToken,m,"user-token-expired"),y||!A.accessToken||A.isExpired?A.refreshToken?(yield A.refresh(m,A.refreshToken),A.accessToken):null:A.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,y){var A=this;return(0,a.Z)(function*(){const{accessToken:Z,refreshToken:oe,expiresIn:Ne}=yield function vs(D,m){return Rr.apply(this,arguments)}(m,y);A.updateTokensAndExpiration(Z,oe,Number(Ne))})()}updateTokensAndExpiration(m,y,A){this.refreshToken=y||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*A}static fromJSON(m,y){const{refreshToken:A,accessToken:Z,expirationTime:oe}=y,Ne=new oi;return A&&(Ye("string"==typeof A,"internal-error",{appName:m}),Ne.refreshToken=A),Z&&(Ye("string"==typeof Z,"internal-error",{appName:m}),Ne.accessToken=Z),oe&&(Ye("number"==typeof oe,"internal-error",{appName:m}),Ne.expirationTime=oe),Ne}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new oi,this.toJSON())}_performRefresh(){return Zt("not implemented")}}function pi(D,m){Ye("string"==typeof D||typeof D>"u","internal-error",{appName:m})}class At{constructor(m){var{uid:y,auth:A,stsTokenManager:Z}=m,oe=(0,re._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ei(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=A,this.stsTokenManager=Z,this.accessToken=Z.accessToken,this.displayName=oe.displayName||null,this.email=oe.email||null,this.emailVerified=oe.emailVerified||!1,this.phoneNumber=oe.phoneNumber||null,this.photoURL=oe.photoURL||null,this.isAnonymous=oe.isAnonymous||!1,this.tenantId=oe.tenantId||null,this.providerData=oe.providerData?[...oe.providerData]:[],this.metadata=new Wn(oe.createdAt||void 0,oe.lastLoginAt||void 0)}getIdToken(m){var y=this;return(0,a.Z)(function*(){const A=yield In(y,y.stsTokenManager.getToken(y.auth,m));return Ye(A,y.auth,"internal-error"),y.accessToken!==A&&(y.accessToken=A,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),A})()}getIdTokenResult(m){return function Vr(D){return bi.apply(this,arguments)}(this,m)}reload(){return function Pi(D){return xr.apply(this,arguments)}(this)}_assign(m){this!==m&&(Ye(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(y=>Object.assign({},y)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){const y=new At(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}));return y.metadata._copy(this.metadata),y}_onReload(m){Ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,y=!1){var A=this;return(0,a.Z)(function*(){let Z=!1;m.idToken&&m.idToken!==A.stsTokenManager.accessToken&&(A.stsTokenManager.updateFromServerResponse(m),Z=!0),y&&(yield fi(A)),yield A.auth._persistUserIfCurrent(A),Z&&A.auth._notifyListenersIfCurrent(A)})()}delete(){var m=this;return(0,a.Z)(function*(){const y=yield m.getIdToken();return yield In(m,function pr(D,m){return ii.apply(this,arguments)}(m.auth,{idToken:y})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,y){var A,Z,oe,Ne,bt,_n,Gn,or;const ur=null!==(A=y.displayName)&&void 0!==A?A:void 0,ho=null!==(Z=y.email)&&void 0!==Z?Z:void 0,rl=null!==(oe=y.phoneNumber)&&void 0!==oe?oe:void 0,Gc=null!==(Ne=y.photoURL)&&void 0!==Ne?Ne:void 0,Rd=null!==(bt=y.tenantId)&&void 0!==bt?bt:void 0,eo=null!==(_n=y._redirectEventId)&&void 0!==_n?_n:void 0,jc=null!==(Gn=y.createdAt)&&void 0!==Gn?Gn:void 0,cd=null!==(or=y.lastLoginAt)&&void 0!==or?or:void 0,{uid:Sc,emailVerified:Pd,isAnonymous:xd,providerData:nh,stsTokenManager:qf}=y;Ye(Sc&&qf,m,"internal-error");const Yf=oi.fromJSON(this.name,qf);Ye("string"==typeof Sc,m,"internal-error"),pi(ur,m.name),pi(ho,m.name),Ye("boolean"==typeof Pd,m,"internal-error"),Ye("boolean"==typeof xd,m,"internal-error"),pi(rl,m.name),pi(Gc,m.name),pi(Rd,m.name),pi(eo,m.name),pi(jc,m.name),pi(cd,m.name);const rh=new At({uid:Sc,auth:m,email:ho,emailVerified:Pd,displayName:ur,isAnonymous:xd,photoURL:Gc,phoneNumber:rl,tenantId:Rd,stsTokenManager:Yf,createdAt:jc,lastLoginAt:cd});return nh&&Array.isArray(nh)&&(rh.providerData=nh.map(cf=>Object.assign({},cf))),eo&&(rh._redirectEventId=eo),rh}static _fromIdTokenResponse(m,y,A=!1){return(0,a.Z)(function*(){const Z=new oi;Z.updateFromServerResponse(y);const oe=new At({uid:y.localId,auth:m,stsTokenManager:Z,isAnonymous:A});return yield fi(oe),oe})()}}const Le=new Map;function Ue(D){en(D instanceof Function,"Expected a class definition");let m=Le.get(D);return m?(en(m instanceof D,"Instance stored in cache mismatched with class"),m):(m=new D,Le.set(D,m),m)}const qt=(()=>{class D{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,a.Z)(function*(){return!0})()}_set(y,A){var Z=this;return(0,a.Z)(function*(){Z.storage[y]=A})()}_get(y){var A=this;return(0,a.Z)(function*(){const Z=A.storage[y];return void 0===Z?null:Z})()}_remove(y){var A=this;return(0,a.Z)(function*(){delete A.storage[y]})()}_addListener(y,A){}_removeListener(y,A){}}return D.type="NONE",D})();function Ee(D,m,y){return`firebase:${D}:${m}:${y}`}class ve{constructor(m,y,A){this.persistence=m,this.auth=y,this.userKey=A;const{config:Z,name:oe}=this.auth;this.fullUserKey=Ee(this.userKey,Z.apiKey,oe),this.fullPersistenceKey=Ee("persistence",Z.apiKey,oe),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,a.Z)(function*(){const y=yield m.persistence._get(m.fullUserKey);return y?At._fromJSON(m.auth,y):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var y=this;return(0,a.Z)(function*(){if(y.persistence===m)return;const A=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=m,A?y.setCurrentUser(A):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,y,A="authUser"){return(0,a.Z)(function*(){if(!y.length)return new ve(Ue(qt),m,A);const Z=(yield Promise.all(y.map(function(){var Gn=(0,a.Z)(function*(or){if(yield or._isAvailable())return or});return function(or){return Gn.apply(this,arguments)}}()))).filter(Gn=>Gn);let oe=Z[0]||Ue(qt);const Ne=Ee(A,m.config.apiKey,m.name);let bt=null;for(const Gn of y)try{const or=yield Gn._get(Ne);if(or){const ur=At._fromJSON(m,or);Gn!==oe&&(bt=ur),oe=Gn;break}}catch{}const _n=Z.filter(Gn=>Gn._shouldAllowMigration);return oe._shouldAllowMigration&&_n.length?(oe=_n[0],bt&&(yield oe._set(Ne,bt.toJSON())),yield Promise.all(y.map(function(){var Gn=(0,a.Z)(function*(or){if(or!==oe)try{yield or._remove(Ne)}catch{}});return function(or){return Gn.apply(this,arguments)}}())),new ve(oe,m,A)):new ve(oe,m,A)})()}}function Oe(D){const m=D.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(ke(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(ut(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(ge(m))return"Blackberry";if(Re(m))return"Webos";if(ze(m))return"Safari";if((m.includes("chrome/")||on(m))&&!m.includes("edge/"))return"Chrome";if(Me(m))return"Android";{const A=D.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===A?.length)return A[1]}return"Other"}function ut(D=(0,ee.z$)()){return/firefox\//i.test(D)}function ze(D=(0,ee.z$)()){const m=D.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function on(D=(0,ee.z$)()){return/crios\//i.test(D)}function ke(D=(0,ee.z$)()){return/iemobile/i.test(D)}function Me(D=(0,ee.z$)()){return/android/i.test(D)}function ge(D=(0,ee.z$)()){return/blackberry/i.test(D)}function Re(D=(0,ee.z$)()){return/webos/i.test(D)}function mt(D=(0,ee.z$)()){return/iphone|ipad|ipod/i.test(D)||/macintosh/i.test(D)&&/mobile/i.test(D)}function gi(D=(0,ee.z$)()){return mt(D)||Me(D)||Re(D)||ge(D)||/windows phone/i.test(D)||ke(D)}function St(D,m=[]){let y;switch(D){case"Browser":y=Oe((0,ee.z$)());break;case"Worker":y=`${Oe((0,ee.z$)())}-${D}`;break;default:y=D}const A=m.length?m.join(","):"FirebaseCore-web";return`${y}/JsCore/${fe.SDK_VERSION}/${A}`}function an(){return(an=(0,a.Z)(function*(D){return(yield yn(D,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Kn(D,m){return tr.apply(this,arguments)}function tr(){return(tr=(0,a.Z)(function*(D,m){return yn(D,"GET","/v2/recaptchaConfig",hn(D,m))})).apply(this,arguments)}function gr(D){return void 0!==D&&void 0!==D.getResponse}function Zn(D){return void 0!==D&&void 0!==D.enterprise}class ai{constructor(m){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===m.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=m.recaptchaKey.split("/")[3],this.emailPasswordEnabled=m.recaptchaEnforcementState.some(y=>"EMAIL_PASSWORD_PROVIDER"===y.provider&&"OFF"!==y.enforcementState)}}function ji(D){return new Promise((m,y)=>{const A=document.createElement("script");A.setAttribute("src",D),A.onload=m,A.onerror=Z=>{const oe=Je("internal-error");oe.customData=Z,y(oe)},A.type="text/javascript",A.charset="UTF-8",function Ur(){var D,m;return null!==(m=null===(D=document.getElementsByTagName("head"))||void 0===D?void 0:D[0])&&void 0!==m?m:document}().appendChild(A)})}function Li(D){return`__${D}${Math.floor(1e6*Math.random())}`}const Aa="NO_RECAPTCHA";class as{constructor(m){this.type="recaptcha-enterprise",this.auth=$r(m)}verify(m="verify",y=!1){var A=this;return(0,a.Z)(function*(){function oe(){return oe=(0,a.Z)(function*(bt){if(!y){if(null==bt.tenantId&&null!=bt._agentRecaptchaConfig)return bt._agentRecaptchaConfig.siteKey;if(null!=bt.tenantId&&void 0!==bt._tenantRecaptchaConfigs[bt.tenantId])return bt._tenantRecaptchaConfigs[bt.tenantId].siteKey}return new Promise(function(){var _n=(0,a.Z)(function*(Gn,or){Kn(bt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(ur=>{if(void 0!==ur.recaptchaKey){const ho=new ai(ur);return null==bt.tenantId?bt._agentRecaptchaConfig=ho:bt._tenantRecaptchaConfigs[bt.tenantId]=ho,Gn(ho.siteKey)}or(new Error("recaptcha Enterprise site key undefined"))}).catch(ur=>{or(ur)})});return function(Gn,or){return _n.apply(this,arguments)}}())}),oe.apply(this,arguments)}function Ne(bt,_n,Gn){const or=window.grecaptcha;Zn(or)?or.enterprise.ready(()=>{or.enterprise.execute(bt,{action:m}).then(ur=>{_n(ur)}).catch(()=>{_n(Aa)})}):Gn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((bt,_n)=>{(function Z(bt){return oe.apply(this,arguments)})(A.auth).then(Gn=>{if(!y&&Zn(window.grecaptcha))Ne(Gn,bt,_n);else{if(typeof window>"u")return void _n(new Error("RecaptchaVerifier is only supported in browser"));ji("https://www.google.com/recaptcha/enterprise.js?render="+Gn).then(()=>{Ne(Gn,bt,_n)}).catch(or=>{_n(or)})}}).catch(Gn=>{_n(Gn)})})})()}}function En(D,m,y){return Or.apply(this,arguments)}function Or(){return(Or=(0,a.Z)(function*(D,m,y,A=!1){const Z=new as(D);let oe;try{oe=yield Z.verify(y)}catch{oe=yield Z.verify(y,!0)}const Ne=Object.assign({},m);return Object.assign(Ne,A?{captchaResp:oe}:{captchaResponse:oe}),Object.assign(Ne,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Ne,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Ne})).apply(this,arguments)}class wi{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,y){const A=oe=>new Promise((Ne,bt)=>{try{Ne(m(oe))}catch(_n){bt(_n)}});A.onAbort=y,this.queue.push(A);const Z=this.queue.length-1;return()=>{this.queue[Z]=()=>Promise.resolve()}}runMiddleware(m){var y=this;return(0,a.Z)(function*(){if(y.auth.currentUser===m)return;const A=[];try{for(const Z of y.queue)yield Z(m),Z.onAbort&&A.push(Z.onAbort)}catch(Z){A.reverse();for(const oe of A)try{oe()}catch{}throw y.auth._errorFactory.create("login-blocked",{originalMessage:Z?.message})}})()}}class Fs{constructor(m,y,A,Z){this.app=m,this.heartbeatServiceProvider=y,this.appCheckServiceProvider=A,this.config=Z,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Yi(this),this.idTokenSubscription=new Yi(this),this.beforeStateQueue=new wi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=at,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=Z.sdkClientVersion}_initializeWithPersistence(m,y){var A=this;return y&&(this._popupRedirectResolver=Ue(y)),this._initializationPromise=this.queue((0,a.Z)(function*(){var Z,oe;if(!A._deleted&&(A.persistenceManager=yield ve.create(A,m),!A._deleted)){if(null!==(Z=A._popupRedirectResolver)&&void 0!==Z&&Z._shouldInitProactively)try{yield A._popupRedirectResolver._initialize(A)}catch{}yield A.initializeCurrentUser(y),A.lastNotifiedUid=(null===(oe=A.currentUser)||void 0===oe?void 0:oe.uid)||null,!A._deleted&&(A._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,a.Z)(function*(){if(m._deleted)return;const y=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||y){if(m.currentUser&&y&&m.currentUser.uid===y.uid)return m._currentUser._assign(y),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(y,!0)}})()}initializeCurrentUser(m){var y=this;return(0,a.Z)(function*(){var A;const Z=yield y.assertedPersistence.getCurrentUser();let oe=Z,Ne=!1;if(m&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const bt=null===(A=y.redirectUser)||void 0===A?void 0:A._redirectEventId,_n=oe?._redirectEventId,Gn=yield y.tryRedirectSignIn(m);(!bt||bt===_n)&&Gn?.user&&(oe=Gn.user,Ne=!0)}if(!oe)return y.directlySetCurrentUser(null);if(!oe._redirectEventId){if(Ne)try{yield y.beforeStateQueue.runMiddleware(oe)}catch(bt){oe=Z,y._popupRedirectResolver._overrideRedirectResult(y,()=>Promise.reject(bt))}return oe?y.reloadAndSetCurrentUserOrClear(oe):y.directlySetCurrentUser(null)}return Ye(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===oe._redirectEventId?y.directlySetCurrentUser(oe):y.reloadAndSetCurrentUserOrClear(oe)})()}tryRedirectSignIn(m){var y=this;return(0,a.Z)(function*(){let A=null;try{A=yield y._popupRedirectResolver._completeRedirectFn(y,m,!0)}catch{yield y._setRedirectUser(null)}return A})()}reloadAndSetCurrentUserOrClear(m){var y=this;return(0,a.Z)(function*(){try{yield fi(m)}catch(A){if("auth/network-request-failed"!==A?.code)return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function _t(){if(typeof navigator>"u")return null;const D=navigator;return D.languages&&D.languages[0]||D.language||null}()}_delete(){var m=this;return(0,a.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var y=this;return(0,a.Z)(function*(){const A=m?(0,ee.m9)(m):null;return A&&Ye(A.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(A&&A._clone(y))})()}_updateCurrentUser(m,y=!1){var A=this;return(0,a.Z)(function*(){if(!A._deleted)return m&&Ye(A.tenantId===m.tenantId,A,"tenant-id-mismatch"),y||(yield A.beforeStateQueue.runMiddleware(m)),A.queue((0,a.Z)(function*(){yield A.directlySetCurrentUser(m),A.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,a.Z)(function*(){return yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0)})()}setPersistence(m){var y=this;return this.queue((0,a.Z)(function*(){yield y.assertedPersistence.setPersistence(Ue(m))}))}initializeRecaptchaConfig(){var m=this;return(0,a.Z)(function*(){const y=yield Kn(m,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),A=new ai(y);null==m.tenantId?m._agentRecaptchaConfig=A:m._tenantRecaptchaConfigs[m.tenantId]=A,A.emailPasswordEnabled&&new as(m).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new ee.LL("auth","Firebase",m())}onAuthStateChanged(m,y,A){return this.registerStateListener(this.authStateSubscription,m,y,A)}beforeAuthStateChanged(m,y){return this.beforeStateQueue.pushCallback(m,y)}onIdTokenChanged(m,y,A){return this.registerStateListener(this.idTokenSubscription,m,y,A)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,y){var A=this;return(0,a.Z)(function*(){const Z=yield A.getOrInitRedirectPersistenceManager(y);return null===m?Z.removeCurrentUser():Z.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var y=this;return(0,a.Z)(function*(){if(!y.redirectPersistenceManager){const A=m&&Ue(m)||y._popupRedirectResolver;Ye(A,y,"argument-error"),y.redirectPersistenceManager=yield ve.create(y,[Ue(A._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(m){var y=this;return(0,a.Z)(function*(){var A,Z;return y._isInitialized&&(yield y.queue((0,a.Z)(function*(){}))),(null===(A=y._currentUser)||void 0===A?void 0:A._redirectEventId)===m?y._currentUser:(null===(Z=y.redirectUser)||void 0===Z?void 0:Z._redirectEventId)===m?y.redirectUser:null})()}_persistUserIfCurrent(m){var y=this;return(0,a.Z)(function*(){if(m===y.currentUser)return y.queue((0,a.Z)(function*(){return y.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const A=null!==(y=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==A&&(this.lastNotifiedUid=A,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,y,A,Z){if(this._deleted)return()=>{};const oe="function"==typeof y?y:y.next.bind(y),Ne=this._isInitialized?Promise.resolve():this._initializationPromise;return Ye(Ne,this,"internal-error"),Ne.then(()=>oe(this.currentUser)),"function"==typeof y?m.addObserver(y,A,Z):m.addObserver(y)}directlySetCurrentUser(m){var y=this;return(0,a.Z)(function*(){y.currentUser&&y.currentUser!==m&&y._currentUser._stopProactiveRefresh(),m&&y.isProactiveRefreshEnabled&&m._startProactiveRefresh(),y.currentUser=m,m?yield y.assertedPersistence.setCurrentUser(m):yield y.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return Ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=St(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,a.Z)(function*(){var y;const A={"X-Client-Version":m.clientVersion};m.app.options.appId&&(A["X-Firebase-gmpid"]=m.app.options.appId);const Z=yield null===(y=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getHeartbeatsHeader();Z&&(A["X-Firebase-Client"]=Z);const oe=yield m._getAppCheckToken();return oe&&(A["X-Firebase-AppCheck"]=oe),A})()}_getAppCheckToken(){var m=this;return(0,a.Z)(function*(){var y;const A=yield null===(y=m.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getToken();return A?.error&&function Kt(D,...m){Ce.logLevel<=Te.in.WARN&&Ce.warn(`Auth (${fe.SDK_VERSION}): ${D}`,...m)}(`Error while retrieving App Check token: ${A.error}`),A?.token})()}}function $r(D){return(0,ee.m9)(D)}class Yi{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,ee.ne)(y=>this.observer=y)}get next(){return Ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Is(D){const m=D.indexOf(":");return m<0?"":D.substr(0,m+1)}function bo(D){if(!D)return null;const m=Number(D);return isNaN(m)?null:m}class no{constructor(m,y){this.providerId=m,this.signInMethod=y}toJSON(){return Zt("not implemented")}_getIdTokenResponse(m){return Zt("not implemented")}_linkToIdToken(m,y){return Zt("not implemented")}_getReauthenticationResolver(m){return Zt("not implemented")}}function ro(D,m){return zr.apply(this,arguments)}function zr(){return(zr=(0,a.Z)(function*(D,m){return yn(D,"POST","/v1/accounts:resetPassword",hn(D,m))})).apply(this,arguments)}function na(D,m){return io.apply(this,arguments)}function io(){return(io=(0,a.Z)(function*(D,m){return yn(D,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function ko(){return(ko=(0,a.Z)(function*(D,m){return yn(D,"POST","/v1/accounts:update",hn(D,m))})).apply(this,arguments)}function Zi(D,m){return Si.apply(this,arguments)}function Si(){return(Si=(0,a.Z)(function*(D,m){return Ke(D,"POST","/v1/accounts:signInWithPassword",hn(D,m))})).apply(this,arguments)}function so(D,m){return po.apply(this,arguments)}function po(){return(po=(0,a.Z)(function*(D,m){return yn(D,"POST","/v1/accounts:sendOobCode",hn(D,m))})).apply(this,arguments)}function We(){return(We=(0,a.Z)(function*(D,m){return so(D,m)})).apply(this,arguments)}function gt(D,m){return zt.apply(this,arguments)}function zt(){return(zt=(0,a.Z)(function*(D,m){return so(D,m)})).apply(this,arguments)}function un(D,m){return mr.apply(this,arguments)}function mr(){return(mr=(0,a.Z)(function*(D,m){return so(D,m)})).apply(this,arguments)}function Tr(){return(Tr=(0,a.Z)(function*(D,m){return so(D,m)})).apply(this,arguments)}function bs(){return(bs=(0,a.Z)(function*(D,m){return Ke(D,"POST","/v1/accounts:signInWithEmailLink",hn(D,m))})).apply(this,arguments)}function mi(){return(mi=(0,a.Z)(function*(D,m){return Ke(D,"POST","/v1/accounts:signInWithEmailLink",hn(D,m))})).apply(this,arguments)}class fa extends no{constructor(m,y,A,Z=null){super("password",A),this._email=m,this._password=y,this._tenantId=Z}static _fromEmailAndPassword(m,y){return new fa(m,y,"password")}static _fromEmailAndCode(m,y,A=null){return new fa(m,y,"emailLink",A)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const y="string"==typeof m?JSON.parse(m):m;if(y?.email&&y?.password){if("password"===y.signInMethod)return this._fromEmailAndPassword(y.email,y.password);if("emailLink"===y.signInMethod)return this._fromEmailAndCode(y.email,y.password,y.tenantId)}return null}_getIdTokenResponse(m){var y=this;return(0,a.Z)(function*(){var A;switch(y.signInMethod){case"password":const Z={returnSecureToken:!0,email:y._email,password:y._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(A=m._getRecaptchaConfig())&&void 0!==A&&A.emailPasswordEnabled){const oe=yield En(m,Z,"signInWithPassword");return Zi(m,oe)}return Zi(m,Z).catch(function(){var oe=(0,a.Z)(function*(Ne){if("auth/missing-recaptcha-token"===Ne.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const bt=yield En(m,Z,"signInWithPassword");return Zi(m,bt)}return Promise.reject(Ne)});return function(Ne){return oe.apply(this,arguments)}}());case"emailLink":return function qr(D,m){return bs.apply(this,arguments)}(m,{email:y._email,oobCode:y._password});default:Se(m,"internal-error")}})()}_linkToIdToken(m,y){var A=this;return(0,a.Z)(function*(){switch(A.signInMethod){case"password":return na(m,{idToken:y,returnSecureToken:!0,email:A._email,password:A._password});case"emailLink":return function Fo(D,m){return mi.apply(this,arguments)}(m,{idToken:y,email:A._email,oobCode:A._password});default:Se(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function Lo(D,m){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,a.Z)(function*(D,m){return Ke(D,"POST","/v1/accounts:signInWithIdp",hn(D,m))})).apply(this,arguments)}class Co extends no{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const y=new Co(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(y.idToken=m.idToken),m.accessToken&&(y.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(y.nonce=m.nonce),m.pendingToken&&(y.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(y.accessToken=m.oauthToken,y.secret=m.oauthTokenSecret):Se("argument-error"),y}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const y="string"==typeof m?JSON.parse(m):m,{providerId:A,signInMethod:Z}=y,oe=(0,re._T)(y,["providerId","signInMethod"]);if(!A||!Z)return null;const Ne=new Co(A,Z);return Ne.idToken=oe.idToken||void 0,Ne.accessToken=oe.accessToken||void 0,Ne.secret=oe.secret,Ne.nonce=oe.nonce,Ne.pendingToken=oe.pendingToken||null,Ne}_getIdTokenResponse(m){return Lo(m,this.buildRequest())}_linkToIdToken(m,y){const A=this.buildRequest();return A.idToken=y,Lo(m,A)}_getReauthenticationResolver(m){const y=this.buildRequest();return y.autoCreate=!1,Lo(m,y)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const y={};this.idToken&&(y.id_token=this.idToken),this.accessToken&&(y.access_token=this.accessToken),this.secret&&(y.oauth_token_secret=this.secret),y.providerId=this.providerId,this.nonce&&!this.pendingToken&&(y.nonce=this.nonce),m.postBody=(0,ee.xO)(y)}return m}}function ti(){return(ti=(0,a.Z)(function*(D,m){return yn(D,"POST","/v1/accounts:sendVerificationCode",hn(D,m))})).apply(this,arguments)}function su(){return(su=(0,a.Z)(function*(D,m){return Ke(D,"POST","/v1/accounts:signInWithPhoneNumber",hn(D,m))})).apply(this,arguments)}function pa(){return(pa=(0,a.Z)(function*(D,m){const y=yield Ke(D,"POST","/v1/accounts:signInWithPhoneNumber",hn(D,m));if(y.temporaryProof)throw jn(D,"account-exists-with-different-credential",y);return y})).apply(this,arguments)}const Uu={USER_NOT_FOUND:"user-not-found"};function Io(){return(Io=(0,a.Z)(function*(D,m){return Ke(D,"POST","/v1/accounts:signInWithPhoneNumber",hn(D,Object.assign(Object.assign({},m),{operation:"REAUTH"})),Uu)})).apply(this,arguments)}class Ss extends no{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,y){return new Ss({verificationId:m,verificationCode:y})}static _fromTokenResponse(m,y){return new Ss({phoneNumber:m,temporaryProof:y})}_getIdTokenResponse(m){return function $i(D,m){return su.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,y){return function Vu(D,m){return pa.apply(this,arguments)}(m,Object.assign({idToken:y},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function Hu(D,m){return Io.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:y,verificationId:A,verificationCode:Z}=this.params;return m&&y?{temporaryProof:m,phoneNumber:y}:{sessionInfo:A,code:Z}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:y,verificationCode:A,phoneNumber:Z,temporaryProof:oe}=m;return A||y||Z||oe?new Ss({verificationId:y,verificationCode:A,phoneNumber:Z,temporaryProof:oe}):null}}class ga{constructor(m){var y,A,Z,oe,Ne,bt;const _n=(0,ee.zd)((0,ee.pd)(m)),Gn=null!==(y=_n.apiKey)&&void 0!==y?y:null,or=null!==(A=_n.oobCode)&&void 0!==A?A:null,ur=function mu(D){switch(D){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Z=_n.mode)&&void 0!==Z?Z:null);Ye(Gn&&or&&ur,"argument-error"),this.apiKey=Gn,this.operation=ur,this.code=or,this.continueUrl=null!==(oe=_n.continueUrl)&&void 0!==oe?oe:null,this.languageCode=null!==(Ne=_n.languageCode)&&void 0!==Ne?Ne:null,this.tenantId=null!==(bt=_n.tenantId)&&void 0!==bt?bt:null}static parseLink(m){const y=function ps(D){const m=(0,ee.zd)((0,ee.pd)(D)).link,y=m?(0,ee.zd)((0,ee.pd)(m)).deep_link_id:null,A=(0,ee.zd)((0,ee.pd)(D)).deep_link_id;return(A?(0,ee.zd)((0,ee.pd)(A)).link:null)||A||y||m||D}(m);try{return new ga(y)}catch{return null}}}let Ma=(()=>{class D{constructor(){this.providerId=D.PROVIDER_ID}static credential(y,A){return fa._fromEmailAndPassword(y,A)}static credentialWithLink(y,A){const Z=ga.parseLink(A);return Ye(Z,"argument-error"),fa._fromEmailAndCode(y,Z.code,Z.tenantId)}}return D.PROVIDER_ID="password",D.EMAIL_PASSWORD_SIGN_IN_METHOD="password",D.EMAIL_LINK_SIGN_IN_METHOD="emailLink",D})();class xi{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class ki extends xi{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class oo extends ki{static credentialFromJSON(m){const y="string"==typeof m?JSON.parse(m):m;return Ye("providerId"in y&&"signInMethod"in y,"argument-error"),Co._fromParams(y)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return Ye(m.idToken||m.accessToken,"argument-error"),Co._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return oo.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return oo.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:y,oauthAccessToken:A,oauthTokenSecret:Z,pendingToken:oe,nonce:Ne,providerId:bt}=m;if(!A&&!Z&&!y&&!oe||!bt)return null;try{return new oo(bt)._credential({idToken:y,accessToken:A,nonce:Ne,pendingToken:oe})}catch{return null}}}let ma=(()=>{class D extends ki{constructor(){super("facebook.com")}static credential(y){return Co._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.FACEBOOK_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return D.credentialFromTaggedObject(y)}static credentialFromError(y){return D.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return D.credential(y.oauthAccessToken)}catch{return null}}}return D.FACEBOOK_SIGN_IN_METHOD="facebook.com",D.PROVIDER_ID="facebook.com",D})(),ja=(()=>{class D extends ki{constructor(){super("google.com"),this.addScope("profile")}static credential(y,A){return Co._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.GOOGLE_SIGN_IN_METHOD,idToken:y,accessToken:A})}static credentialFromResult(y){return D.credentialFromTaggedObject(y)}static credentialFromError(y){return D.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:A,oauthAccessToken:Z}=y;if(!A&&!Z)return null;try{return D.credential(A,Z)}catch{return null}}}return D.GOOGLE_SIGN_IN_METHOD="google.com",D.PROVIDER_ID="google.com",D})(),ou=(()=>{class D extends ki{constructor(){super("github.com")}static credential(y){return Co._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.GITHUB_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return D.credentialFromTaggedObject(y)}static credentialFromError(y){return D.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return D.credential(y.oauthAccessToken)}catch{return null}}}return D.GITHUB_SIGN_IN_METHOD="github.com",D.PROVIDER_ID="github.com",D})();class So extends no{constructor(m,y){super(m,m),this.pendingToken=y}_getIdTokenResponse(m){return Lo(m,this.buildRequest())}_linkToIdToken(m,y){const A=this.buildRequest();return A.idToken=y,Lo(m,A)}_getReauthenticationResolver(m){const y=this.buildRequest();return y.autoCreate=!1,Lo(m,y)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const y="string"==typeof m?JSON.parse(m):m,{providerId:A,signInMethod:Z,pendingToken:oe}=y;return A&&Z&&oe&&A===Z?new So(A,oe):null}static _create(m,y){return new So(m,y)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class wo extends xi{constructor(m){Ye(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return wo.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return wo.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const y=So.fromJSON(m);return Ye(y,"argument-error"),y}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:y,providerId:A}=m;if(!y||!A)return null;try{return So._create(A,y)}catch{return null}}}let go=(()=>{class D extends ki{constructor(){super("twitter.com")}static credential(y,A){return Co._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.TWITTER_SIGN_IN_METHOD,oauthToken:y,oauthTokenSecret:A})}static credentialFromResult(y){return D.credentialFromTaggedObject(y)}static credentialFromError(y){return D.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthAccessToken:A,oauthTokenSecret:Z}=y;if(!A||!Z)return null;try{return D.credential(A,Z)}catch{return null}}}return D.TWITTER_SIGN_IN_METHOD="twitter.com",D.PROVIDER_ID="twitter.com",D})();function za(D,m){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,a.Z)(function*(D,m){return Ke(D,"POST","/v1/accounts:signUp",hn(D,m))})).apply(this,arguments)}class us{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,y,A,Z=!1){return(0,a.Z)(function*(){const oe=yield At._fromIdTokenResponse(m,A,Z),Ne=ws(A);return new us({user:oe,providerId:Ne,_tokenResponse:A,operationType:y})})()}static _forOperation(m,y,A){return(0,a.Z)(function*(){yield m._updateTokensIfNecessary(A,!0);const Z=ws(A);return new us({user:m,providerId:Z,_tokenResponse:A,operationType:y})})()}}function ws(D){return D.providerId?D.providerId:"phoneNumber"in D?"phone":null}function Ei(){return(Ei=(0,a.Z)(function*(D){var m;const y=$r(D);if(yield y._initializationPromise,null!==(m=y.currentUser)&&void 0!==m&&m.isAnonymous)return new us({user:y.currentUser,providerId:null,operationType:"signIn"});const A=yield za(y,{returnSecureToken:!0}),Z=yield us._fromIdTokenResponse(y,"signIn",A,!0);return yield y._updateCurrentUser(Z.user),Z})).apply(this,arguments)}class is extends ee.ZR{constructor(m,y,A,Z){var oe;super(y.code,y.message),this.operationType=A,this.user=Z,Object.setPrototypeOf(this,is.prototype),this.customData={appName:m.name,tenantId:null!==(oe=m.tenantId)&&void 0!==oe?oe:void 0,_serverResponse:y.customData._serverResponse,operationType:A}}static _fromErrorAndOperation(m,y,A,Z){return new is(m,y,A,Z)}}function As(D,m,y,A){return("reauthenticate"===m?y._getReauthenticationResolver(D):y._getIdTokenResponse(D)).catch(oe=>{throw"auth/multi-factor-auth-required"===oe.code?is._fromErrorAndOperation(D,oe,m,A):oe})}function Wa(D){return new Set(D.map(({providerId:m})=>m).filter(m=>!!m))}function mo(){return mo=(0,a.Z)(function*(D,m){const y=(0,ee.m9)(D);yield Ko(!0,y,m);const{providerUserInfo:A}=yield function rs(D,m){return di.apply(this,arguments)}(y.auth,{idToken:yield y.getIdToken(),deleteProvider:[m]}),Z=Wa(A||[]);return y.providerData=y.providerData.filter(oe=>Z.has(oe.providerId)),Z.has("phone")||(y.phoneNumber=null),yield y.auth._persistUserIfCurrent(y),y}),mo.apply(this,arguments)}function Ys(D,m){return au.apply(this,arguments)}function au(){return(au=(0,a.Z)(function*(D,m,y=!1){const A=yield In(D,m._linkToIdToken(D.auth,yield D.getIdToken()),y);return us._forOperation(D,"link",A)})).apply(this,arguments)}function Ko(D,m,y){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,a.Z)(function*(D,m,y){yield fi(m);const Z=!1===D?"provider-already-linked":"no-such-provider";Ye(Wa(m.providerData).has(y)===D,m.auth,Z)})).apply(this,arguments)}function Os(D,m){return _a.apply(this,arguments)}function _a(){return(_a=(0,a.Z)(function*(D,m,y=!1){const{auth:A}=D,Z="reauthenticate";try{const oe=yield In(D,As(A,Z,m,D),y);Ye(oe.idToken,A,"internal-error");const Ne=fr(oe.idToken);Ye(Ne,A,"internal-error");const{sub:bt}=Ne;return Ye(D.uid===bt,A,"user-mismatch"),us._forOperation(D,Z,oe)}catch(oe){throw"auth/user-not-found"===oe?.code&&Se(A,"user-mismatch"),oe}})).apply(this,arguments)}function ya(D,m){return _r.apply(this,arguments)}function _r(){return(_r=(0,a.Z)(function*(D,m,y=!1){const A="signIn",Z=yield As(D,A,m),oe=yield us._fromIdTokenResponse(D,A,Z);return y||(yield D._updateCurrentUser(oe.user)),oe})).apply(this,arguments)}function ao(D,m){return K.apply(this,arguments)}function K(){return(K=(0,a.Z)(function*(D,m){return ya($r(D),m)})).apply(this,arguments)}function z(D,m){return L.apply(this,arguments)}function L(){return(L=(0,a.Z)(function*(D,m){const y=(0,ee.m9)(D);return yield Ko(!1,y,m.providerId),Ys(y,m)})).apply(this,arguments)}function le(D,m){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,a.Z)(function*(D,m){return Os((0,ee.m9)(D),m)})).apply(this,arguments)}function Es(){return(Es=(0,a.Z)(function*(D,m){return Ke(D,"POST","/v1/accounts:signInWithCustomToken",hn(D,m))})).apply(this,arguments)}function Hr(){return Hr=(0,a.Z)(function*(D,m){const y=$r(D),A=yield function pn(D,m){return Es.apply(this,arguments)}(y,{token:m,returnSecureToken:!0}),Z=yield us._fromIdTokenResponse(y,"signIn",A);return yield y._updateCurrentUser(Z.user),Z}),Hr.apply(this,arguments)}class _o{constructor(m,y){this.factorId=m,this.uid=y.mfaEnrollmentId,this.enrollmentTime=new Date(y.enrolledAt).toUTCString(),this.displayName=y.displayName}static _fromServerResponse(m,y){return"phoneInfo"in y?Ka._fromServerResponse(m,y):"totpInfo"in y?ls._fromServerResponse(m,y):Se(m,"internal-error")}}class Ka extends _o{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,y){return new Ka(y)}}class ls extends _o{constructor(m){super("totp",m)}static _fromServerResponse(m,y){return new ls(y)}}function Ra(D,m,y){var A;Ye((null===(A=y.url)||void 0===A?void 0:A.length)>0,D,"invalid-continue-uri"),Ye(typeof y.dynamicLinkDomain>"u"||y.dynamicLinkDomain.length>0,D,"invalid-dynamic-link-domain"),m.continueUrl=y.url,m.dynamicLinkDomain=y.dynamicLinkDomain,m.canHandleCodeInApp=y.handleCodeInApp,y.iOS&&(Ye(y.iOS.bundleId.length>0,D,"missing-ios-bundle-id"),m.iOSBundleId=y.iOS.bundleId),y.android&&(Ye(y.android.packageName.length>0,D,"missing-android-pkg-name"),m.androidInstallApp=y.android.installApp,m.androidMinimumVersionCode=y.android.minimumVersion,m.androidPackageName=y.android.packageName)}function Eo(){return Eo=(0,a.Z)(function*(D,m,y){var A;const Z=$r(D),oe={requestType:"PASSWORD_RESET",email:m,clientType:"CLIENT_TYPE_WEB"};if(null!==(A=Z._getRecaptchaConfig())&&void 0!==A&&A.emailPasswordEnabled){const Ne=yield En(Z,oe,"getOobCode",!0);y&&Ra(Z,Ne,y),yield gt(Z,Ne)}else y&&Ra(Z,oe,y),yield gt(Z,oe).catch(function(){var Ne=(0,a.Z)(function*(bt){if("auth/missing-recaptcha-token"!==bt.code)return Promise.reject(bt);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const _n=yield En(Z,oe,"getOobCode",!0);y&&Ra(Z,_n,y),yield gt(Z,_n)}});return function(bt){return Ne.apply(this,arguments)}}())}),Eo.apply(this,arguments)}function dl(){return(dl=(0,a.Z)(function*(D,m,y){yield ro((0,ee.m9)(D),{oobCode:m,newPassword:y})})).apply(this,arguments)}function Gu(){return Gu=(0,a.Z)(function*(D,m){yield function js(D,m){return ko.apply(this,arguments)}((0,ee.m9)(D),{oobCode:m})}),Gu.apply(this,arguments)}function se(D,m){return I.apply(this,arguments)}function I(){return(I=(0,a.Z)(function*(D,m){const y=(0,ee.m9)(D),A=yield ro(y,{oobCode:m}),Z=A.requestType;switch(Ye(Z,y,"internal-error"),Z){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ye(A.newEmail,y,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ye(A.mfaInfo,y,"internal-error");default:Ye(A.email,y,"internal-error")}let oe=null;return A.mfaInfo&&(oe=_o._fromServerResponse($r(y),A.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.newEmail:A.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.email:A.newEmail)||null,multiFactorInfo:oe},operation:Z}})).apply(this,arguments)}function $(){return($=(0,a.Z)(function*(D,m){const{data:y}=yield se((0,ee.m9)(D),m);return y.email})).apply(this,arguments)}function me(){return me=(0,a.Z)(function*(D,m,y){var A;const Z=$r(D),oe={returnSecureToken:!0,email:m,password:y,clientType:"CLIENT_TYPE_WEB"};let Ne;if(null!==(A=Z._getRecaptchaConfig())&&void 0!==A&&A.emailPasswordEnabled){const Gn=yield En(Z,oe,"signUpPassword");Ne=za(Z,Gn)}else Ne=za(Z,oe).catch(function(){var Gn=(0,a.Z)(function*(or){if("auth/missing-recaptcha-token"===or.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const ur=yield En(Z,oe,"signUpPassword");return za(Z,ur)}return Promise.reject(or)});return function(or){return Gn.apply(this,arguments)}}());const bt=yield Ne.catch(Gn=>Promise.reject(Gn)),_n=yield us._fromIdTokenResponse(Z,"signIn",bt);return yield Z._updateCurrentUser(_n.user),_n}),me.apply(this,arguments)}function wt(){return wt=(0,a.Z)(function*(D,m,y){var A;const Z=$r(D),oe={requestType:"EMAIL_SIGNIN",email:m,clientType:"CLIENT_TYPE_WEB"};function Ne(bt,_n){Ye(_n.handleCodeInApp,Z,"argument-error"),_n&&Ra(Z,bt,_n)}if(null!==(A=Z._getRecaptchaConfig())&&void 0!==A&&A.emailPasswordEnabled){const bt=yield En(Z,oe,"getOobCode",!0);Ne(bt,y),yield un(Z,bt)}else Ne(oe,y),yield un(Z,oe).catch(function(){var bt=(0,a.Z)(function*(_n){if("auth/missing-recaptcha-token"!==_n.code)return Promise.reject(_n);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Gn=yield En(Z,oe,"getOobCode",!0);Ne(Gn,y),yield un(Z,Gn)}});return function(_n){return bt.apply(this,arguments)}}())}),wt.apply(this,arguments)}function qn(){return(qn=(0,a.Z)(function*(D,m,y){const A=(0,ee.m9)(D),Z=Ma.credentialWithLink(m,y||Bn());return Ye(Z._tenantId===(A.tenantId||null),A,"tenant-id-mismatch"),ao(A,Z)})).apply(this,arguments)}function kr(){return(kr=(0,a.Z)(function*(D,m){return yn(D,"POST","/v1/accounts:createAuthUri",hn(D,m))})).apply(this,arguments)}function Dr(){return Dr=(0,a.Z)(function*(D,m){const A={identifier:m,continueUri:Dn()?Bn():"http://localhost"},{signinMethods:Z}=yield function Wr(D,m){return kr.apply(this,arguments)}((0,ee.m9)(D),A);return Z||[]}),Dr.apply(this,arguments)}function qe(){return qe=(0,a.Z)(function*(D,m){const y=(0,ee.m9)(D),Z={requestType:"VERIFY_EMAIL",idToken:yield D.getIdToken()};m&&Ra(y.auth,Z,m);const{email:oe}=yield function Qe(D,m){return We.apply(this,arguments)}(y.auth,Z);oe!==D.email&&(yield D.reload())}),qe.apply(this,arguments)}function Tt(){return Tt=(0,a.Z)(function*(D,m,y){const A=(0,ee.m9)(D),oe={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield D.getIdToken(),newEmail:m};y&&Ra(A.auth,oe,y);const{email:Ne}=yield function Sr(D,m){return Tr.apply(this,arguments)}(A.auth,oe);Ne!==D.email&&(yield D.reload())}),Tt.apply(this,arguments)}function yr(){return(yr=(0,a.Z)(function*(D,m){return yn(D,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function ui(){return ui=(0,a.Z)(function*(D,{displayName:m,photoURL:y}){if(void 0===m&&void 0===y)return;const A=(0,ee.m9)(D),oe={idToken:yield A.getIdToken(),displayName:m,photoUrl:y,returnSecureToken:!0},Ne=yield In(A,function Pn(D,m){return yr.apply(this,arguments)}(A.auth,oe));A.displayName=Ne.displayName||null,A.photoURL=Ne.photoUrl||null;const bt=A.providerData.find(({providerId:_n})=>"password"===_n);bt&&(bt.displayName=A.displayName,bt.photoURL=A.photoURL),yield A._updateTokensIfNecessary(Ne)}),ui.apply(this,arguments)}function Vi(D,m,y){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,a.Z)(function*(D,m,y){const{auth:A}=D,oe={idToken:yield D.getIdToken(),returnSecureToken:!0};m&&(oe.email=m),y&&(oe.password=y);const Ne=yield In(D,na(A,oe));yield D._updateTokensIfNecessary(Ne,!0)})).apply(this,arguments)}class Ps{constructor(m,y,A={}){this.isNewUser=m,this.providerId=y,this.profile=A}}class ba extends Ps{constructor(m,y,A,Z){super(m,y,A),this.username=Z}}class Fi extends Ps{constructor(m,y){super(m,"facebook.com",y)}}class sr extends ba{constructor(m,y){super(m,"github.com",y,"string"==typeof y?.login?y?.login:null)}}class On extends Ps{constructor(m,y){super(m,"google.com",y)}}class hr extends ba{constructor(m,y,A){super(m,"twitter.com",y,A)}}function li(D){const{user:m,_tokenResponse:y}=D;return m.isAnonymous&&!y?{providerId:null,isNewUser:!1,profile:null}:function _u(D){var m,y;if(!D)return null;const{providerId:A}=D,Z=D.rawUserInfo?JSON.parse(D.rawUserInfo):{},oe=D.isNewUser||"identitytoolkit#SignupNewUserResponse"===D.kind;if(!A&&D?.idToken){const Ne=null===(y=null===(m=fr(D.idToken))||void 0===m?void 0:m.firebase)||void 0===y?void 0:y.sign_in_provider;if(Ne)return new Ps(oe,"anonymous"!==Ne&&"custom"!==Ne?Ne:null)}if(!A)return null;switch(A){case"facebook.com":return new Fi(oe,Z);case"github.com":return new sr(oe,Z);case"google.com":return new On(oe,Z);case"twitter.com":return new hr(oe,Z,D.screenName||null);case"custom":case"anonymous":return new Ps(oe,null);default:return new Ps(oe,A,Z)}}(y)}class Fr{constructor(m,y,A){this.type=m,this.credential=y,this.auth=A}static _fromIdtoken(m,y){return new Fr("enroll",m,y)}static _fromMfaPendingCredential(m){return new Fr("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var y,A;if(m?.multiFactorSession){if(null!==(y=m.multiFactorSession)&&void 0!==y&&y.pendingCredential)return Fr._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null!==(A=m.multiFactorSession)&&void 0!==A&&A.idToken)return Fr._fromIdtoken(m.multiFactorSession.idToken)}return null}}class Pr{constructor(m,y,A){this.session=m,this.hints=y,this.signInResolver=A}static _fromError(m,y){const A=$r(m),Z=y.customData._serverResponse,oe=(Z.mfaInfo||[]).map(bt=>_o._fromServerResponse(A,bt));Ye(Z.mfaPendingCredential,A,"internal-error");const Ne=Fr._fromMfaPendingCredential(Z.mfaPendingCredential);return new Pr(Ne,oe,function(){var bt=(0,a.Z)(function*(_n){const Gn=yield _n._process(A,Ne);delete Z.mfaInfo,delete Z.mfaPendingCredential;const or=Object.assign(Object.assign({},Z),{idToken:Gn.idToken,refreshToken:Gn.refreshToken});switch(y.operationType){case"signIn":const ur=yield us._fromIdTokenResponse(A,y.operationType,or);return yield A._updateCurrentUser(ur.user),ur;case"reauthenticate":return Ye(y.user,A,"internal-error"),us._forOperation(y.user,y.operationType,or);default:Se(A,"internal-error")}});return function(_n){return bt.apply(this,arguments)}}())}resolveSignIn(m){var y=this;return(0,a.Z)(function*(){return y.signInResolver(m)})()}}class Ar{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(y=>{y.mfaInfo&&(this.enrolledFactors=y.mfaInfo.map(A=>_o._fromServerResponse(m.auth,A)))})}static _fromUser(m){return new Ar(m)}getSession(){var m=this;return(0,a.Z)(function*(){return Fr._fromIdtoken(yield m.user.getIdToken(),m.user.auth)})()}enroll(m,y){var A=this;return(0,a.Z)(function*(){const Z=m,oe=yield A.getSession(),Ne=yield In(A.user,Z._process(A.user.auth,oe,y));return yield A.user._updateTokensIfNecessary(Ne),A.user.reload()})()}unenroll(m){var y=this;return(0,a.Z)(function*(){const A="string"==typeof m?m:m.uid,Z=yield y.user.getIdToken();try{const oe=yield In(y.user,function qo(D,m){return yn(D,"POST","/v2/accounts/mfaEnrollment:withdraw",hn(D,m))}(y.user.auth,{idToken:Z,mfaEnrollmentId:A}));y.enrolledFactors=y.enrolledFactors.filter(({uid:Ne})=>Ne!==A),yield y.user._updateTokensIfNecessary(oe),yield y.user.reload()}catch(oe){throw oe}})()}}const yi=new WeakMap,Yo="__sak";class ju{constructor(m,y){this.storageRetriever=m,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem(Yo,"1"),this.storage.removeItem(Yo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(m,y){return this.storage.setItem(m,JSON.stringify(y)),Promise.resolve()}_get(m){const y=this.storage.getItem(m);return Promise.resolve(y?JSON.parse(y):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const Cs=(()=>{class D extends ju{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(y,A)=>this.onStorageEvent(y,A),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Cu(){const D=(0,ee.z$)();return ze(D)||mt(D)}()&&function Ws(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=gi(),this._shouldAllowMigration=!0}forAllChangedKeys(y){for(const A of Object.keys(this.listeners)){const Z=this.storage.getItem(A),oe=this.localCache[A];Z!==oe&&y(A,oe,Z)}}onStorageEvent(y,A=!1){if(!y.key)return void this.forAllChangedKeys((bt,_n,Gn)=>{this.notifyListeners(bt,Gn)});const Z=y.key;if(A?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const bt=this.storage.getItem(Z);if(y.newValue!==bt)null!==y.newValue?this.storage.setItem(Z,y.newValue):this.storage.removeItem(Z);else if(this.localCache[Z]===y.newValue&&!A)return}const oe=()=>{const bt=this.storage.getItem(Z);!A&&this.localCache[Z]===bt||this.notifyListeners(Z,bt)},Ne=this.storage.getItem(Z);!function Ir(){return(0,ee.w1)()&&10===document.documentMode}()||Ne===y.newValue||y.newValue===y.oldValue?oe():setTimeout(oe,10)}notifyListeners(y,A){this.localCache[y]=A;const Z=this.listeners[y];if(Z)for(const oe of Array.from(Z))oe(A&&JSON.parse(A))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((y,A,Z)=>{this.onStorageEvent(new StorageEvent("storage",{key:y,oldValue:A,newValue:Z}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(y,A){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[y]||(this.listeners[y]=new Set,this.localCache[y]=this.storage.getItem(y)),this.listeners[y].add(A)}_removeListener(y,A){this.listeners[y]&&(this.listeners[y].delete(A),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(y,A){var Z=()=>super._set,oe=this;return(0,a.Z)(function*(){yield Z().call(oe,y,A),oe.localCache[y]=JSON.stringify(A)})()}_get(y){var A=()=>super._get,Z=this;return(0,a.Z)(function*(){const oe=yield A().call(Z,y);return Z.localCache[y]=JSON.stringify(oe),oe})()}_remove(y){var A=()=>super._remove,Z=this;return(0,a.Z)(function*(){yield A().call(Z,y),delete Z.localCache[y]})()}}return D.type="LOCAL",D})(),Iu=(()=>{class D extends ju{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(y,A){}_removeListener(y,A){}}return D.type="SESSION",D})();let Js=(()=>{class D{constructor(y){this.eventTarget=y,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(y){const A=this.receivers.find(oe=>oe.isListeningto(y));if(A)return A;const Z=new D(y);return this.receivers.push(Z),Z}isListeningto(y){return this.eventTarget===y}handleEvent(y){var A=this;return(0,a.Z)(function*(){const Z=y,{eventId:oe,eventType:Ne,data:bt}=Z.data,_n=A.handlersMap[Ne];if(!_n?.size)return;Z.ports[0].postMessage({status:"ack",eventId:oe,eventType:Ne});const Gn=Array.from(_n).map(function(){var ur=(0,a.Z)(function*(ho){return ho(Z.origin,bt)});return function(ho){return ur.apply(this,arguments)}}()),or=yield function gn(D){return Promise.all(D.map(function(){var m=(0,a.Z)(function*(y){try{return{fulfilled:!0,value:yield y}}catch(A){return{fulfilled:!1,reason:A}}});return function(y){return m.apply(this,arguments)}}()))}(Gn);Z.ports[0].postMessage({status:"done",eventId:oe,eventType:Ne,response:or})})()}_subscribe(y,A){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[y]||(this.handlersMap[y]=new Set),this.handlersMap[y].add(A)}_unsubscribe(y,A){this.handlersMap[y]&&A&&this.handlersMap[y].delete(A),(!A||0===this.handlersMap[y].size)&&delete this.handlersMap[y],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return D.receivers=[],D})();function Ao(D="",m=10){let y="";for(let A=0;A<m;A++)y+=Math.floor(10*Math.random());return D+y}class qa{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,y,A=50){var Z=this;return(0,a.Z)(function*(){const oe=typeof MessageChannel<"u"?new MessageChannel:null;if(!oe)throw new Error("connection_unavailable");let Ne,bt;return new Promise((_n,Gn)=>{const or=Ao("",20);oe.port1.start();const ur=setTimeout(()=>{Gn(new Error("unsupported_event"))},A);bt={messageChannel:oe,onMessage(ho){const rl=ho;if(rl.data.eventId===or)switch(rl.data.status){case"ack":clearTimeout(ur),Ne=setTimeout(()=>{Gn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ne),_n(rl.data.response);break;default:clearTimeout(ur),clearTimeout(Ne),Gn(new Error("invalid_response"))}}},Z.handlers.add(bt),oe.port1.addEventListener("message",bt.onMessage),Z.target.postMessage({eventType:m,eventId:or,data:y},[oe.port2])}).finally(()=>{bt&&Z.removeMessageHandler(bt)})})()}}function tn(){return window}function yu(){return typeof tn().WorkerGlobalScope<"u"&&"function"==typeof tn().importScripts}function Nt(){return(Nt=(0,a.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const $u="firebaseLocalStorageDb",fl=1,Tl="firebaseLocalStorage",kl="fbase_key";class Qs{constructor(m){this.request=m}toPromise(){return new Promise((m,y)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function Pa(D,m){return D.transaction([Tl],m?"readwrite":"readonly").objectStore(Tl)}function he(){const D=indexedDB.open($u,fl);return new Promise((m,y)=>{D.addEventListener("error",()=>{y(D.error)}),D.addEventListener("upgradeneeded",()=>{const A=D.result;try{A.createObjectStore(Tl,{keyPath:kl})}catch(Z){y(Z)}}),D.addEventListener("success",(0,a.Z)(function*(){const A=D.result;A.objectStoreNames.contains(Tl)?m(A):(A.close(),yield function lu(){const D=indexedDB.deleteDatabase($u);return new Qs(D).toPromise()}(),m(yield he()))}))})}function cu(D,m,y){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,a.Z)(function*(D,m,y){const A=Pa(D,!0).put({[kl]:m,value:y});return new Qs(A).toPromise()})).apply(this,arguments)}function Un(){return(Un=(0,a.Z)(function*(D,m){const y=Pa(D,!1).get(m),A=yield new Qs(y).toPromise();return void 0===A?null:A.value})).apply(this,arguments)}function xa(D,m){const y=Pa(D,!0).delete(m);return new Qs(y).toPromise()}const Go=(()=>{class D{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var y=this;return(0,a.Z)(function*(){return y.db||(y.db=yield he()),y.db})()}_withRetries(y){var A=this;return(0,a.Z)(function*(){let Z=0;for(;;)try{const oe=yield A._openDb();return yield y(oe)}catch(oe){if(Z++>3)throw oe;A.db&&(A.db.close(),A.db=void 0)}})()}initializeServiceWorkerMessaging(){var y=this;return(0,a.Z)(function*(){return yu()?y.initializeReceiver():y.initializeSender()})()}initializeReceiver(){var y=this;return(0,a.Z)(function*(){y.receiver=Js._getInstance(function No(){return yu()?self:null}()),y.receiver._subscribe("keyChanged",function(){var A=(0,a.Z)(function*(Z,oe){return{keyProcessed:(yield y._poll()).includes(oe.key)}});return function(Z,oe){return A.apply(this,arguments)}}()),y.receiver._subscribe("ping",function(){var A=(0,a.Z)(function*(Z,oe){return["keyChanged"]});return function(Z,oe){return A.apply(this,arguments)}}())})()}initializeSender(){var y=this;return(0,a.Z)(function*(){var A,Z;if(y.activeServiceWorker=yield function Fn(){return Nt.apply(this,arguments)}(),!y.activeServiceWorker)return;y.sender=new qa(y.activeServiceWorker);const oe=yield y.sender._send("ping",{},800);oe&&null!==(A=oe[0])&&void 0!==A&&A.fulfilled&&null!==(Z=oe[0])&&void 0!==Z&&Z.value.includes("keyChanged")&&(y.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(y){var A=this;return(0,a.Z)(function*(){if(A.sender&&A.activeServiceWorker&&function rn(){var D;return(null===(D=navigator?.serviceWorker)||void 0===D?void 0:D.controller)||null}()===A.activeServiceWorker)try{yield A.sender._send("keyChanged",{key:y},A.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,a.Z)(function*(){try{if(!indexedDB)return!1;const y=yield he();return yield cu(y,Yo,"1"),yield xa(y,Yo),!0}catch{}return!1})()}_withPendingWrite(y){var A=this;return(0,a.Z)(function*(){A.pendingWrites++;try{yield y()}finally{A.pendingWrites--}})()}_set(y,A){var Z=this;return(0,a.Z)(function*(){return Z._withPendingWrite((0,a.Z)(function*(){return yield Z._withRetries(oe=>cu(oe,y,A)),Z.localCache[y]=A,Z.notifyServiceWorker(y)}))})()}_get(y){var A=this;return(0,a.Z)(function*(){const Z=yield A._withRetries(oe=>function Ho(D,m){return Un.apply(this,arguments)}(oe,y));return A.localCache[y]=Z,Z})()}_remove(y){var A=this;return(0,a.Z)(function*(){return A._withPendingWrite((0,a.Z)(function*(){return yield A._withRetries(Z=>xa(Z,y)),delete A.localCache[y],A.notifyServiceWorker(y)}))})()}_poll(){var y=this;return(0,a.Z)(function*(){const A=yield y._withRetries(Ne=>{const bt=Pa(Ne,!1).getAll();return new Qs(bt).toPromise()});if(!A)return[];if(0!==y.pendingWrites)return[];const Z=[],oe=new Set;for(const{fbase_key:Ne,value:bt}of A)oe.add(Ne),JSON.stringify(y.localCache[Ne])!==JSON.stringify(bt)&&(y.notifyListeners(Ne,bt),Z.push(Ne));for(const Ne of Object.keys(y.localCache))y.localCache[Ne]&&!oe.has(Ne)&&(y.notifyListeners(Ne,null),Z.push(Ne));return Z})()}notifyListeners(y,A){this.localCache[y]=A;const Z=this.listeners[y];if(Z)for(const oe of Array.from(Z))oe(A)}startPolling(){var y=this;this.stopPolling(),this.pollTimer=setInterval((0,a.Z)(function*(){return y._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(y,A){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[y]||(this.listeners[y]=new Set,this._get(y)),this.listeners[y].add(A)}_removeListener(y,A){this.listeners[y]&&(this.listeners[y].delete(A),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return D.type="LOCAL",D})(),tc=1e12;class ka{constructor(m){this.auth=m,this.counter=tc,this._widgets=new Map}render(m,y){const A=this.counter;return this._widgets.set(A,new zd(m,this.auth.name,y||{})),this.counter++,A}reset(m){var y;const A=m||tc;null===(y=this._widgets.get(A))||void 0===y||y.delete(),this._widgets.delete(A)}getResponse(m){var y;return(null===(y=this._widgets.get(m||tc))||void 0===y?void 0:y.getResponse())||""}execute(m){var y=this;return(0,a.Z)(function*(){var A;return null===(A=y._widgets.get(m||tc))||void 0===A||A.execute(),""})()}}class zd{constructor(m,y,A){this.params=A,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const Z="string"==typeof m?document.getElementById(m):m;Ye(Z,"argument-error",{appName:y}),this.container=Z,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Do(D){const m=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let A=0;A<D;A++)m.push(y.charAt(Math.floor(Math.random()*y.length)));return m.join("")}(50);const{callback:m,"expired-callback":y}=this.params;if(m)try{m(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,y)try{y()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const nc=Li("rcb"),Fa=new Ot(3e4,6e4);class Xc{constructor(){var m;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(m=tn().grecaptcha)||void 0===m||!m.render)}load(m,y=""){return Ye(function Ja(D){return D.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(D)}(y),m,"argument-error"),this.shouldResolveImmediately(y)&&gr(tn().grecaptcha)?Promise.resolve(tn().grecaptcha):new Promise((A,Z)=>{const oe=tn().setTimeout(()=>{Z(Je(m,"network-request-failed"))},Fa.get());tn()[nc]=()=>{tn().clearTimeout(oe),delete tn()[nc];const bt=tn().grecaptcha;if(!bt||!gr(bt))return void Z(Je(m,"internal-error"));const _n=bt.render;bt.render=(Gn,or)=>{const ur=_n(Gn,or);return this.counter++,ur},this.hostLanguage=y,A(bt)},ji(`https://www.google.com/recaptcha/api.js??${(0,ee.xO)({onload:nc,render:"explicit",hl:y})}`).catch(()=>{clearTimeout(oe),Z(Je(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){var y;return!(null===(y=tn().grecaptcha)||void 0===y||!y.render)&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class gs{load(m){return(0,a.Z)(function*(){return new ka(m)})()}clearedOneInstance(){}}const Cl="recaptcha",Zo={theme:"light",type:"image"};class Wu{constructor(m,y=Object.assign({},Zo),A){this.parameters=y,this.type=Cl,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=$r(A),this.isInvisible="invisible"===this.parameters.size,Ye(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const Z="string"==typeof m?document.getElementById(m):m;Ye(Z,this.auth,"argument-error"),this.container=Z,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new gs:new Xc,this.validateStartingState()}verify(){var m=this;return(0,a.Z)(function*(){m.assertNotDestroyed();const y=yield m.render(),A=m.getAssertedRecaptcha();return A.getResponse(y)||new Promise(oe=>{const Ne=bt=>{bt&&(m.tokenChangeListeners.delete(Ne),oe(bt))};m.tokenChangeListeners.add(Ne),m.isInvisible&&A.execute(y)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){Ye(!this.parameters.sitekey,this.auth,"argument-error"),Ye(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ye(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return y=>{if(this.tokenChangeListeners.forEach(A=>A(y)),"function"==typeof m)m(y);else if("string"==typeof m){const A=tn()[m];"function"==typeof A&&A(y)}}}assertNotDestroyed(){Ye(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,a.Z)(function*(){if(yield m.init(),!m.widgetId){let y=m.container;if(!m.isInvisible){const A=document.createElement("div");y.appendChild(A),y=A}m.widgetId=m.getAssertedRecaptcha().render(y,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,a.Z)(function*(){Ye(Dn()&&!yu(),m.auth,"internal-error"),yield function wa(){let D=null;return new Promise(m=>{"complete"!==document.readyState?(D=()=>m(),window.addEventListener("load",D)):m()}).catch(m=>{throw D&&window.removeEventListener("load",D),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const y=yield function dt(D){return an.apply(this,arguments)}(m.auth);Ye(y,m.auth,"internal-error"),m.parameters.sitekey=y})()}getAssertedRecaptcha(){return Ye(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class nt{constructor(m,y){this.verificationId=m,this.onConfirmation=y}confirm(m){const y=Ss._fromVerification(this.verificationId,m);return this.onConfirmation(y)}}function ia(){return(ia=(0,a.Z)(function*(D,m,y){const A=$r(D),Z=yield q(A,m,(0,ee.m9)(y));return new nt(Z,oe=>ao(A,oe))})).apply(this,arguments)}function O(){return(O=(0,a.Z)(function*(D,m,y){const A=(0,ee.m9)(D);yield Ko(!1,A,"phone");const Z=yield q(A.auth,m,(0,ee.m9)(y));return new nt(Z,oe=>z(A,oe))})).apply(this,arguments)}function F(){return(F=(0,a.Z)(function*(D,m,y){const A=(0,ee.m9)(D),Z=yield q(A.auth,m,(0,ee.m9)(y));return new nt(Z,oe=>le(A,oe))})).apply(this,arguments)}function q(D,m,y){return ae.apply(this,arguments)}function ae(){return ae=(0,a.Z)(function*(D,m,y){var A;const Z=yield y.verify();try{let oe;if(Ye("string"==typeof Z,D,"argument-error"),Ye(y.type===Cl,D,"argument-error"),oe="string"==typeof m?{phoneNumber:m}:m,"session"in oe){const Ne=oe.session;if("phoneNumber"in oe)return Ye("enroll"===Ne.type,D,"internal-error"),(yield function Ni(D,m){return yn(D,"POST","/v2/accounts/mfaEnrollment:start",hn(D,m))}(D,{idToken:Ne.credential,phoneEnrollmentInfo:{phoneNumber:oe.phoneNumber,recaptchaToken:Z}})).phoneSessionInfo.sessionInfo;{Ye("signin"===Ne.type,D,"internal-error");const bt=(null===(A=oe.multiFactorHint)||void 0===A?void 0:A.uid)||oe.multiFactorUid;return Ye(bt,D,"missing-multi-factor-info"),(yield function vi(D,m){return yn(D,"POST","/v2/accounts/mfaSignIn:start",hn(D,m))}(D,{mfaPendingCredential:Ne.credential,mfaEnrollmentId:bt,phoneSignInInfo:{recaptchaToken:Z}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ne}=yield function Na(D,m){return ti.apply(this,arguments)}(D,{phoneNumber:oe.phoneNumber,recaptchaToken:Z});return Ne}}finally{y._reset()}}),ae.apply(this,arguments)}function rt(){return(rt=(0,a.Z)(function*(D,m){yield Ys((0,ee.m9)(D),m)})).apply(this,arguments)}let nn=(()=>{class D{constructor(y){this.providerId=D.PROVIDER_ID,this.auth=$r(y)}verifyPhoneNumber(y,A){return q(this.auth,y,(0,ee.m9)(A))}static credential(y,A){return Ss._fromVerification(y,A)}static credentialFromResult(y){return D.credentialFromTaggedObject(y)}static credentialFromError(y){return D.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{phoneNumber:A,temporaryProof:Z}=y;return A&&Z?Ss._fromTokenResponse(A,Z):null}}return D.PROVIDER_ID="phone",D.PHONE_SIGN_IN_METHOD="phone",D})();function An(D,m){return m?Ue(m):(Ye(D._popupRedirectResolver,D,"argument-error"),D._popupRedirectResolver)}class Jn extends no{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return Lo(m,this._buildIdpRequest())}_linkToIdToken(m,y){return Lo(m,this._buildIdpRequest(y))}_getReauthenticationResolver(m){return Lo(m,this._buildIdpRequest())}_buildIdpRequest(m){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(y.idToken=m),y}}function Di(D){return ya(D.auth,new Jn(D),D.bypassAuthState)}function uo(D){const{auth:m,user:y}=D;return Ye(y,m,"internal-error"),Os(y,new Jn(D),D.bypassAuthState)}function cs(D){return sa.apply(this,arguments)}function sa(){return(sa=(0,a.Z)(function*(D){const{auth:m,user:y}=D;return Ye(y,m,"internal-error"),Ys(y,new Jn(D),D.bypassAuthState)})).apply(this,arguments)}class Ea{constructor(m,y,A,Z,oe=!1){this.auth=m,this.resolver=A,this.user=Z,this.bypassAuthState=oe,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){var m=this;return new Promise(function(){var y=(0,a.Z)(function*(A,Z){m.pendingPromise={resolve:A,reject:Z};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(oe){m.reject(oe)}});return function(A,Z){return y.apply(this,arguments)}}())}onAuthEvent(m){var y=this;return(0,a.Z)(function*(){const{urlResponse:A,sessionId:Z,postBody:oe,tenantId:Ne,error:bt,type:_n}=m;if(bt)return void y.reject(bt);const Gn={auth:y.auth,requestUri:A,sessionId:Z,tenantId:Ne||void 0,postBody:oe||void 0,user:y.user,bypassAuthState:y.bypassAuthState};try{y.resolve(yield y.getIdpTask(_n)(Gn))}catch(or){y.reject(or)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return Di;case"linkViaPopup":case"linkViaRedirect":return cs;case"reauthViaPopup":case"reauthViaRedirect":return uo;default:Se(this.auth,"internal-error")}}resolve(m){en(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){en(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ji=new Ot(2e3,1e4);function Nu(){return(Nu=(0,a.Z)(function*(D,m,y){const A=$r(D);Ut(D,m,xi);const Z=An(A,y);return new td(A,"signInViaPopup",m,Z).executeNotNull()})).apply(this,arguments)}function vu(){return(vu=(0,a.Z)(function*(D,m,y){const A=(0,ee.m9)(D);Ut(A.auth,m,xi);const Z=An(A.auth,y);return new td(A.auth,"reauthViaPopup",m,Z,A).executeNotNull()})).apply(this,arguments)}function ed(){return(ed=(0,a.Z)(function*(D,m,y){const A=(0,ee.m9)(D);Ut(A.auth,m,xi);const Z=An(A.auth,y);return new td(A.auth,"linkViaPopup",m,Z,A).executeNotNull()})).apply(this,arguments)}let td=(()=>{class D extends Ea{constructor(y,A,Z,oe,Ne){super(y,A,oe,Ne),this.provider=Z,this.authWindow=null,this.pollId=null,D.currentPopupAction&&D.currentPopupAction.cancel(),D.currentPopupAction=this}executeNotNull(){var y=this;return(0,a.Z)(function*(){const A=yield y.execute();return Ye(A,y.auth,"internal-error"),A})()}onExecution(){var y=this;return(0,a.Z)(function*(){en(1===y.filter.length,"Popup operations only handle one event");const A=Ao();y.authWindow=yield y.resolver._openPopup(y.auth,y.provider,y.filter[0],A),y.authWindow.associatedEvent=A,y.resolver._originValidation(y.auth).catch(Z=>{y.reject(Z)}),y.resolver._isIframeWebStorageSupported(y.auth,Z=>{Z||y.reject(Je(y.auth,"web-storage-unsupported"))}),y.pollUserCancellation()})()}get eventId(){var y;return(null===(y=this.authWindow)||void 0===y?void 0:y.associatedEvent)||null}cancel(){this.reject(Je(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,D.currentPopupAction=null}pollUserCancellation(){const y=()=>{var A,Z;this.pollId=null!==(Z=null===(A=this.authWindow)||void 0===A?void 0:A.window)&&void 0!==Z&&Z.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Je(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(y,Ji.get())};y()}}return D.currentPopupAction=null,D})();const ci="pendingRedirect",pl=new Map;class rc extends Ea{constructor(m,y,A=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,A),this.eventId=null}execute(){var m=()=>super.execute,y=this;return(0,a.Z)(function*(){let A=pl.get(y.auth._key());if(!A){try{const oe=(yield function Jo(D,m){return Il.apply(this,arguments)}(y.resolver,y.auth))?yield m().call(y):null;A=()=>Promise.resolve(oe)}catch(Z){A=()=>Promise.reject(Z)}pl.set(y.auth._key(),A)}return y.bypassAuthState||pl.set(y.auth._key(),()=>Promise.resolve(null)),A()})()}onAuthEvent(m){var y=()=>super.onAuthEvent,A=this;return(0,a.Z)(function*(){if("signInViaRedirect"===m.type)return y().call(A,m);if("unknown"!==m.type){if(m.eventId){const Z=yield A.auth._redirectUserForId(m.eventId);if(Z)return A.user=Z,y().call(A,m);A.resolve(null)}}else A.resolve(null)})()}onExecution(){return(0,a.Z)(function*(){})()}cleanUp(){}}function Il(){return(Il=(0,a.Z)(function*(D,m){const y=rd(m),A=Yu(D);if(!(yield A._isAvailable()))return!1;const Z="true"===(yield A._get(y));return yield A._remove(y),Z})).apply(this,arguments)}function qu(D,m){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,a.Z)(function*(D,m){return Yu(D)._set(rd(m),"true")})).apply(this,arguments)}function ic(D,m){pl.set(D._key(),m)}function Yu(D){return Ue(D._redirectPersistence)}function rd(D){return Ee(ci,D.config.apiKey,D.name)}function Qa(D,m,y){return function Ll(D,m,y){return mc.apply(this,arguments)}(D,m,y)}function mc(){return(mc=(0,a.Z)(function*(D,m,y){const A=$r(D);Ut(D,m,xi),yield A._initializationPromise;const Z=An(A,y);return yield qu(Z,A),Z._openRedirect(A,m,"signInViaRedirect")})).apply(this,arguments)}function wd(D,m,y){return function kc(D,m,y){return Xa.apply(this,arguments)}(D,m,y)}function Xa(){return(Xa=(0,a.Z)(function*(D,m,y){const A=(0,ee.m9)(D);Ut(A.auth,m,xi),yield A.auth._initializationPromise;const Z=An(A.auth,y);yield qu(Z,A.auth);const oe=yield Vs(A);return Z._openRedirect(A.auth,m,"reauthViaRedirect",oe)})).apply(this,arguments)}function oa(D,m,y){return function bu(D,m,y){return Sl.apply(this,arguments)}(D,m,y)}function Sl(){return(Sl=(0,a.Z)(function*(D,m,y){const A=(0,ee.m9)(D);Ut(A.auth,m,xi),yield A.auth._initializationPromise;const Z=An(A.auth,y);yield Ko(!1,A,m.providerId),yield qu(Z,A.auth);const oe=yield Vs(A);return Z._openRedirect(A.auth,m,"linkViaRedirect",oe)})).apply(this,arguments)}function xs(){return(xs=(0,a.Z)(function*(D,m){return yield $r(D)._initializationPromise,Zu(D,m,!1)})).apply(this,arguments)}function Zu(D,m){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,a.Z)(function*(D,m,y=!1){const A=$r(D),Z=An(A,m),Ne=yield new rc(A,Z,y).execute();return Ne&&!y&&(delete Ne.user._redirectEventId,yield A._persistUserIfCurrent(Ne.user),yield A._setRedirectUser(null,m)),Ne})).apply(this,arguments)}function Vs(D){return k.apply(this,arguments)}function k(){return(k=(0,a.Z)(function*(D){const m=Ao(`${D.uid}:::`);return D._redirectEventId=m,yield D.auth._setRedirectUser(D),yield D.auth._persistUserIfCurrent(D),m})).apply(this,arguments)}class te{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let y=!1;return this.consumers.forEach(A=>{this.isEventForConsumer(m,A)&&(y=!0,this.sendToConsumer(m,A),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function ot(D){switch(D.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tt(D);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=m,y=!0)),y}sendToConsumer(m,y){var A;if(m.error&&!tt(m)){const Z=(null===(A=m.error.code)||void 0===A?void 0:A.split("auth/")[1])||"internal-error";y.onError(Je(this.auth,Z))}else y.onAuthEvent(m)}isEventForConsumer(m,y){const A=null===y.eventId||!!m.eventId&&m.eventId===y.eventId;return y.filter.includes(m.type)&&A}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ie(m))}saveEventToCache(m){this.cachedEventUids.add(Ie(m)),this.lastProcessedEventTime=Date.now()}}function Ie(D){return[D.type,D.eventId,D.sessionId,D.tenantId].filter(m=>m).join("-")}function tt({type:D,error:m}){return"unknown"===D&&"auth/no-auth-event"===m?.code}function sn(D){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,a.Z)(function*(D,m={}){return yn(D,"GET","/v1/projects",m)})).apply(this,arguments)}const Sn=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ar=/^https?/;function Lr(){return(Lr=(0,a.Z)(function*(D){if(D.config.emulator)return;const{authorizedDomains:m}=yield sn(D);for(const y of m)try{if(ea(y))return}catch{}Se(D,"unauthorized-domain")})).apply(this,arguments)}function ea(D){const m=Bn(),{protocol:y,hostname:A}=new URL(m);if(D.startsWith("chrome-extension://")){const Ne=new URL(D);return""===Ne.hostname&&""===A?"chrome-extension:"===y&&D.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===y&&Ne.hostname===A}if(!ar.test(y))return!1;if(Sn.test(D))return A===D;const Z=D.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Z+"|"+Z+")$","i").test(A)}const Da=new Ot(3e4,6e4);function Mo(){const D=tn().___jsl;if(D?.H)for(const m of Object.keys(D.H))if(D.H[m].r=D.H[m].r||[],D.H[m].L=D.H[m].L||[],D.H[m].r=[...D.H[m].L],D.CP)for(let y=0;y<D.CP.length;y++)D.CP[y]=null}let ml=null;const Ta=new Ot(5e3,15e3),Al="__/auth/iframe",_c="emulator/auth/iframe",Th={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ed=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Dd(D){const m=D.config;Ye(m.authDomain,D,"auth-domain-config-required");const y=m.emulator?Ct(m,_c):`https://${D.config.authDomain}/${Al}`,A={apiKey:m.apiKey,appName:D.name,v:fe.SDK_VERSION},Z=Ed.get(D.config.apiHost);Z&&(A.eid=Z);const oe=D._getFrameworks();return oe.length&&(A.fw=oe.join(",")),`${y}?${(0,ee.xO)(A).slice(1)}`}function yc(){return yc=(0,a.Z)(function*(D){const m=yield function aa(D){return ml=ml||function gl(D){return new Promise((m,y)=>{var A,Z,oe;function Ne(){Mo(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{Mo(),y(Je(D,"network-request-failed"))},timeout:Da.get()})}if(null!==(Z=null===(A=tn().gapi)||void 0===A?void 0:A.iframes)&&void 0!==Z&&Z.Iframe)m(gapi.iframes.getContext());else{if(null===(oe=tn().gapi)||void 0===oe||!oe.load){const bt=Li("iframefcb");return tn()[bt]=()=>{gapi.load?Ne():y(Je(D,"network-request-failed"))},ji(`https://apis.google.com/js/api.js?onload=${bt}`).catch(_n=>y(_n))}Ne()}}).catch(m=>{throw ml=null,m})}(D),ml}(D),y=tn().gapi;return Ye(y,D,"internal-error"),m.open({where:document.body,url:Dd(D),messageHandlersFilter:y.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Th,dontclear:!0},A=>new Promise(function(){var Z=(0,a.Z)(function*(oe,Ne){yield A.restyle({setHideOnLeave:!1});const bt=Je(D,"network-request-failed"),_n=tn().setTimeout(()=>{Ne(bt)},Ta.get());function Gn(){tn().clearTimeout(_n),oe(A)}A.ping(Gn).then(Gn,()=>{Ne(bt)})});return function(oe,Ne){return Z.apply(this,arguments)}}()))}),yc.apply(this,arguments)}const wu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Bl=500,Ch=600,Ih="_blank",La="http://localhost";class jo{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const lo="__/auth/handler",id="emulator/auth/handler",Kd=encodeURIComponent("fac");function ms(D,m,y,A,Z,oe){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,a.Z)(function*(D,m,y,A,Z,oe){Ye(D.config.authDomain,D,"auth-domain-config-required"),Ye(D.config.apiKey,D,"invalid-api-key");const Ne={apiKey:D.config.apiKey,appName:D.name,authType:y,redirectUrl:A,v:fe.SDK_VERSION,eventId:Z};if(m instanceof xi){m.setDefaultLanguage(D.languageCode),Ne.providerId=m.providerId||"",(0,ee.xb)(m.getCustomParameters())||(Ne.customParameters=JSON.stringify(m.getCustomParameters()));for(const[or,ur]of Object.entries(oe||{}))Ne[or]=ur}if(m instanceof ki){const or=m.getScopes().filter(ur=>""!==ur);or.length>0&&(Ne.scopes=or.join(","))}D.tenantId&&(Ne.tid=D.tenantId);const bt=Ne;for(const or of Object.keys(bt))void 0===bt[or]&&delete bt[or];const _n=yield D._getAppCheckToken(),Gn=_n?`#${Kd}=${encodeURIComponent(_n)}`:"";return`${function zs({config:D}){return D.emulator?Ct(D,id):`https://${D.authDomain}/${lo}`}(D)}?${(0,ee.xO)(bt).slice(1)}${Gn}`})).apply(this,arguments)}const Ju="webStorageSupport",Vl=class qd{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Iu,this._completeRedirectFn=Zu,this._overrideRedirectResult=ic}_openPopup(m,y,A,Z){var oe=this;return(0,a.Z)(function*(){var Ne;en(null===(Ne=oe.eventManagers[m._key()])||void 0===Ne?void 0:Ne.manager,"_initialize() not called before _openPopup()");const bt=yield ms(m,y,A,Bn(),Z);return function nf(D,m,y,A=Bl,Z=Ch){const oe=Math.max((window.screen.availHeight-Z)/2,0).toString(),Ne=Math.max((window.screen.availWidth-A)/2,0).toString();let bt="";const _n=Object.assign(Object.assign({},wu),{width:A.toString(),height:Z.toString(),top:oe,left:Ne}),Gn=(0,ee.z$)().toLowerCase();y&&(bt=on(Gn)?Ih:y),ut(Gn)&&(m=m||La,_n.scrollbars="yes");const or=Object.entries(_n).reduce((ho,[rl,Gc])=>`${ho}${rl}=${Gc},`,"");if(function Vn(D=(0,ee.z$)()){var m;return mt(D)&&!(null===(m=window.navigator)||void 0===m||!m.standalone)}(Gn)&&"_self"!==bt)return function Eu(D,m){const y=document.createElement("a");y.href=D,y.target=m;const A=document.createEvent("MouseEvent");A.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(A)}(m||"",bt),new jo(null);const ur=window.open(m||"",bt,or);Ye(ur,D,"popup-blocked");try{ur.focus()}catch{}return new jo(ur)}(m,bt,Ao())})()}_openRedirect(m,y,A,Z){var oe=this;return(0,a.Z)(function*(){return yield oe._originValidation(m),function cr(D){tn().location.href=D}(yield ms(m,y,A,Bn(),Z)),new Promise(()=>{})})()}_initialize(m){const y=m._key();if(this.eventManagers[y]){const{manager:Z,promise:oe}=this.eventManagers[y];return Z?Promise.resolve(Z):(en(oe,"If manager is not set, promise should be"),oe)}const A=this.initAndGetManager(m);return this.eventManagers[y]={promise:A},A.catch(()=>{delete this.eventManagers[y]}),A}initAndGetManager(m){var y=this;return(0,a.Z)(function*(){const A=yield function Mi(D){return yc.apply(this,arguments)}(m),Z=new te(m);return A.register("authEvent",oe=>(Ye(oe?.authEvent,m,"invalid-auth-event"),{status:Z.onEvent(oe.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),y.eventManagers[m._key()]={manager:Z},y.iframes[m._key()]=A,Z})()}_isIframeWebStorageSupported(m,y){this.iframes[m._key()].send(Ju,{type:Ju},Z=>{var oe;const Ne=null===(oe=Z?.[0])||void 0===oe?void 0:oe[Ju];void 0!==Ne&&y(!!Ne),Se(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const y=m._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function Kr(D){return Lr.apply(this,arguments)}(m)),this.originValidationPromises[y]}get _shouldInitProactively(){return gi()||ze()||mt()}};class Qu{constructor(m){this.factorId=m}_process(m,y,A){switch(y.type){case"enroll":return this._finalizeEnroll(m,y.credential,A);case"signin":return this._finalizeSignIn(m,y.credential);default:return Zt("unexpected MultiFactorSessionType")}}}class Td extends Qu{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new Td(m)}_finalizeEnroll(m,y,A){return function Zr(D,m){return yn(D,"POST","/v2/accounts/mfaEnrollment:finalize",hn(D,m))}(m,{idToken:y,displayName:A,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,y){return function Qc(D,m){return yn(D,"POST","/v2/accounts/mfaSignIn:finalize",hn(D,m))}(m,{mfaPendingCredential:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let vc=(()=>{class D{constructor(){}static assertion(y){return Td._fromCredential(y)}}return D.FACTOR_ID="phone",D})();var _l="@firebase/auth";class Ul{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var y=this;return(0,a.Z)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const y=this.auth.onIdTokenChanged(A=>{m(A?.stsTokenManager.accessToken||null)});this.internalListeners.set(m,y),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const y=this.internalListeners.get(m);y&&(this.internalListeners.delete(m),y(),this.updateProactiveRefresh())}assertAuthConfigured(){Ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Fc(){return window}(0,ee.Pz)("authIdTokenMaxAge"),function Cd(D){(0,fe._registerComponent)(new je.wA("auth",(m,{options:y})=>{const A=m.getProvider("app").getImmediate(),Z=m.getProvider("heartbeat"),oe=m.getProvider("app-check-internal"),{apiKey:Ne,authDomain:bt}=A.options;Ye(Ne&&!Ne.includes(":"),"invalid-api-key",{appName:A.name});const _n={apiKey:Ne,authDomain:bt,clientPlatform:D,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:St(D)},Gn=new Fs(A,Z,oe,_n);return function Xr(D,m){const y=m?.persistence||[],A=(Array.isArray(y)?y:[y]).map(Ue);m?.errorMap&&D._updateErrorMap(m.errorMap),D._initializeWithPersistence(A,m?.popupRedirectResolver)}(Gn,y),Gn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,y,A)=>{m.getProvider("auth-internal").initialize()})),(0,fe._registerComponent)(new je.wA("auth-internal",m=>{const y=$r(m.getProvider("auth").getImmediate());return new Ul(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,fe.registerVersion)(_l,"0.23.2",function Yd(D){switch(D){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(D)),(0,fe.registerVersion)(_l,"0.23.2","esm2017")}("Browser");const Ou=2e3;function Zd(){return Zd=(0,a.Z)(function*(D,m,y){var A;const{BuildInfo:Z}=Fc();en(m.sessionId,"AuthEvent did not contain a session ID");const oe=yield function bc(D){return ac.apply(this,arguments)}(m.sessionId),Ne={};return mt()?Ne.ibi=Z.packageName:Me()?Ne.apn=Z.packageName:Se(D,"operation-not-supported-in-this-environment"),Z.displayName&&(Ne.appDisplayName=Z.displayName),Ne.sessionId=oe,ms(D,y,m.type,void 0,null!==(A=m.eventId)&&void 0!==A?A:void 0,Ne)}),Zd.apply(this,arguments)}function oc(){return(oc=(0,a.Z)(function*(D){const{BuildInfo:m}=Fc(),y={};mt()?y.iosBundleId=m.packageName:Me()?y.androidPackageName=m.packageName:Se(D,"operation-not-supported-in-this-environment"),yield sn(D,y)})).apply(this,arguments)}function Lc(){return(Lc=(0,a.Z)(function*(D,m,y){const{cordova:A}=Fc();let Z=()=>{};try{yield new Promise((oe,Ne)=>{let bt=null;function _n(){var ur;oe();const ho=null===(ur=A.plugins.browsertab)||void 0===ur?void 0:ur.close;"function"==typeof ho&&ho(),"function"==typeof y?.close&&y.close()}function Gn(){bt||(bt=window.setTimeout(()=>{Ne(Je(D,"redirect-cancelled-by-user"))},Ou))}function or(){"visible"===document?.visibilityState&&Gn()}m.addPassiveListener(_n),document.addEventListener("resume",Gn,!1),Me()&&document.addEventListener("visibilitychange",or,!1),Z=()=>{m.removePassiveListener(_n),document.removeEventListener("resume",Gn,!1),document.removeEventListener("visibilitychange",or,!1),bt&&window.clearTimeout(bt)}})}finally{Z()}})).apply(this,arguments)}function ac(){return(ac=(0,a.Z)(function*(D){const m=function el(D){if(en(/[0-9a-zA-Z]+/.test(D),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(D);const m=new ArrayBuffer(D.length),y=new Uint8Array(m);for(let A=0;A<D.length;A++)y[A]=D.charCodeAt(A);return y}(D),y=yield crypto.subtle.digest("SHA-256",m);return Array.from(new Uint8Array(y)).map(Z=>Z.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const Ah=20;class sd extends te{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(m=>{this.resolveInialized=m})}addPassiveListener(m){this.passiveListeners.add(m)}removePassiveListener(m){this.passiveListeners.delete(m)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(m){return this.resolveInialized(),this.passiveListeners.forEach(y=>y(m)),super.onEvent(m)}initialized(){var m=this;return(0,a.Z)(function*(){yield m.initPromise})()}}function wc(D){return yl.apply(this,arguments)}function yl(){return(yl=(0,a.Z)(function*(D){const m=yield Ad()._get(Ol(D));return m&&(yield Ad()._remove(Ol(D))),m})).apply(this,arguments)}function Oo(){const D=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let y=0;y<Ah;y++){const A=Math.floor(Math.random()*m.length);D.push(m.charAt(A))}return D.join("")}function Ad(){return Ue(Cs)}function Ol(D){return Ee("authEvent",D.config.apiKey,D.name)}function $l(D){if(!D?.includes("?"))return{};const[m,...y]=D.split("?");return(0,ee.zd)(y.join("?"))}const Ru=class Nd{constructor(){this._redirectPersistence=Iu,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Zu,this._overrideRedirectResult=ic}_initialize(m){var y=this;return(0,a.Z)(function*(){const A=m._key();let Z=y.eventManagers.get(A);return Z||(Z=new sd(m),y.eventManagers.set(A,Z),y.attachCallbackListeners(m,Z)),Z})()}_openPopup(m){Se(m,"operation-not-supported-in-this-environment")}_openRedirect(m,y,A,Z){var oe=this;return(0,a.Z)(function*(){!function Jd(D){var m,y,A,Z,oe,Ne,bt,_n,Gn,or;const ur=Fc();Ye("function"==typeof(null===(m=ur?.universalLinks)||void 0===m?void 0:m.subscribe),D,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Ye(typeof(null===(y=ur?.BuildInfo)||void 0===y?void 0:y.packageName)<"u",D,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Ye("function"==typeof(null===(oe=null===(Z=null===(A=ur?.cordova)||void 0===A?void 0:A.plugins)||void 0===Z?void 0:Z.browsertab)||void 0===oe?void 0:oe.openUrl),D,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ye("function"==typeof(null===(_n=null===(bt=null===(Ne=ur?.cordova)||void 0===Ne?void 0:Ne.plugins)||void 0===bt?void 0:bt.browsertab)||void 0===_n?void 0:_n.isAvailable),D,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ye("function"==typeof(null===(or=null===(Gn=ur?.cordova)||void 0===Gn?void 0:Gn.InAppBrowser)||void 0===or?void 0:or.open),D,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(m);const Ne=yield oe._initialize(m);yield Ne.initialized(),Ne.resetRedirect(),function nd(){pl.clear()}(),yield oe._originValidation(m);const bt=function Sd(D,m,y=null){return{type:m,eventId:y,urlResponse:null,sessionId:Oo(),postBody:null,tenantId:D.tenantId,error:Je(D,"no-auth-event")}}(m,A,Z);yield function Bc(D,m){return Ad()._set(Ol(D),m)}(m,bt);const _n=yield function Gl(D,m,y){return Zd.apply(this,arguments)}(m,bt,y),Gn=yield function Ml(D){const{cordova:m}=Fc();return new Promise(y=>{m.plugins.browsertab.isAvailable(A=>{let Z=null;A?m.plugins.browsertab.openUrl(D):Z=m.InAppBrowser.open(D,function Xt(D=(0,ee.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(D)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(D)}()?"_blank":"_system","location=yes"),y(Z)})})}(_n);return function Id(D,m,y){return Lc.apply(this,arguments)}(m,Ne,Gn)})()}_isIframeWebStorageSupported(m,y){throw new Error("Method not implemented.")}_originValidation(m){const y=m._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function Wf(D){return oc.apply(this,arguments)}(m)),this.originValidationPromises[y]}attachCallbackListeners(m,y){const{universalLinks:A,handleOpenURL:Z,BuildInfo:oe}=Fc(),Ne=setTimeout((0,a.Z)(function*(){yield wc(m),y.onEvent(Mh())}),500),bt=function(){var or=(0,a.Z)(function*(ur){clearTimeout(Ne);const ho=yield wc(m);let rl=null;ho&&ur?.url&&(rl=function jl(D,m){var y,A;const Z=function Nh(D){const m=$l(D),y=m.link?decodeURIComponent(m.link):void 0,A=$l(y).link,Z=m.deep_link_id?decodeURIComponent(m.deep_link_id):void 0;return $l(Z).link||Z||A||y||D}(m);if(Z.includes("/__/auth/callback")){const oe=$l(Z),Ne=oe.firebaseError?function eu(D){try{return JSON.parse(D)}catch{return null}}(decodeURIComponent(oe.firebaseError)):null,bt=null===(A=null===(y=Ne?.code)||void 0===y?void 0:y.split("auth/"))||void 0===A?void 0:A[1],_n=bt?Je(bt):null;return _n?{type:D.type,eventId:D.eventId,tenantId:D.tenantId,error:_n,urlResponse:null,sessionId:null,postBody:null}:{type:D.type,eventId:D.eventId,tenantId:D.tenantId,sessionId:D.sessionId,urlResponse:Z,postBody:null}}return null}(ho,ur.url)),y.onEvent(rl||Mh())});return function(ho){return or.apply(this,arguments)}}();typeof A<"u"&&"function"==typeof A.subscribe&&A.subscribe(null,bt);const _n=Z,Gn=`${oe.packageName.toLowerCase()}://`;Fc().handleOpenURL=function(){var or=(0,a.Z)(function*(ur){if(ur.toLowerCase().startsWith(Gn)&&bt({url:ur}),"function"==typeof _n)try{_n(ur)}catch(ho){console.error(ho)}});return function(ur){return or.apply(this,arguments)}}()}};function Mh(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Je("no-auth-event")}}const sf=1e3;function zl(){var D;return(null===(D=self?.location)||void 0===D?void 0:D.protocol)||null}function tu(D=(0,ee.z$)()){return!("file:"!==zl()&&"ionic:"!==zl()&&"capacitor:"!==zl()||!D.toLowerCase().match(/iphone|ipad|ipod|android/))}function xn(){try{const D=self.localStorage,m=Ao();if(D)return D.setItem(m,"1"),D.removeItem(m),!function Vc(D=(0,ee.z$)()){return function tl(){return(0,ee.w1)()&&11===document?.documentMode}()||function Qd(D=(0,ee.z$)()){return/Edge\/\d+/.test(D)}(D)}()||(0,ee.hl)()}catch{return Wl()&&(0,ee.hl)()}return!1}function Wl(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Pu(){return(function Rl(){return"http:"===zl()||"https:"===zl()}()||(0,ee.ru)()||tu())&&!function od(){return(0,ee.b$)()||(0,ee.UG)()}()&&xn()&&!Wl()}function vl(){return tu()&&typeof document<"u"}function uc(){return(uc=(0,a.Z)(function*(){return!!vl()&&new Promise(D=>{const m=setTimeout(()=>{D(!1)},sf);document.addEventListener("deviceready",()=>{clearTimeout(m),D(!0)})})})).apply(this,arguments)}const Us={LOCAL:"local",NONE:"none",SESSION:"session"},Dc=Ye,Md="persistence";function Kl(D){return Od.apply(this,arguments)}function Od(){return(Od=(0,a.Z)(function*(D){yield D._initializationPromise;const m=Xd(),y=Ee(Md,D.config.apiKey,D.name);m&&m.setItem(y,D._getPersistence())})).apply(this,arguments)}function Xd(){var D;try{return(null===(D=function Uc(){return typeof window<"u"?window:null}())||void 0===D?void 0:D.sessionStorage)||null}catch{return null}}const Hc=Ye;class co{constructor(){this.browserResolver=Ue(Vl),this.cordovaResolver=Ue(Ru),this.underlyingResolver=null,this._redirectPersistence=Iu,this._completeRedirectFn=Zu,this._overrideRedirectResult=ic}_initialize(m){var y=this;return(0,a.Z)(function*(){return yield y.selectUnderlyingResolver(),y.assertedUnderlyingResolver._initialize(m)})()}_openPopup(m,y,A,Z){var oe=this;return(0,a.Z)(function*(){return yield oe.selectUnderlyingResolver(),oe.assertedUnderlyingResolver._openPopup(m,y,A,Z)})()}_openRedirect(m,y,A,Z){var oe=this;return(0,a.Z)(function*(){return yield oe.selectUnderlyingResolver(),oe.assertedUnderlyingResolver._openRedirect(m,y,A,Z)})()}_isIframeWebStorageSupported(m,y){this.assertedUnderlyingResolver._isIframeWebStorageSupported(m,y)}_originValidation(m){return this.assertedUnderlyingResolver._originValidation(m)}get _shouldInitProactively(){return vl()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Hc(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var m=this;return(0,a.Z)(function*(){if(m.underlyingResolver)return;const y=yield function Oh(){return uc.apply(this,arguments)}();m.underlyingResolver=y?m.cordovaResolver:m.browserResolver})()}}function Ro(D){return D.unwrap()}function af(D){return To(D)}function To(D){const{_tokenResponse:m}=D instanceof ee.ZR?D.customData:D;if(!m)return null;if(!(D instanceof ee.ZR)&&"temporaryProof"in m&&"phoneNumber"in m)return nn.credentialFromResult(D);const y=m.providerId;if(!y||y===et.PASSWORD)return null;let A;switch(y){case et.GOOGLE:A=ja;break;case et.FACEBOOK:A=ma;break;case et.GITHUB:A=ou;break;case et.TWITTER:A=go;break;default:const{oauthIdToken:Z,oauthAccessToken:oe,oauthTokenSecret:Ne,pendingToken:bt,nonce:_n}=m;return oe||Ne||Z||bt?bt?y.startsWith("saml.")?So._create(y,bt):Co._fromParams({providerId:y,signInMethod:y,pendingToken:bt,idToken:Z,accessToken:oe}):new oo(y).credential({idToken:Z,accessToken:oe,rawNonce:_n}):null}return D instanceof ee.ZR?A.credentialFromError(D):A.credentialFromResult(D)}function Ba(D,m){return m.catch(y=>{throw y instanceof ee.ZR&&function eh(D,m){var y;const A=null===(y=m.customData)||void 0===y?void 0:y._tokenResponse;if("auth/multi-factor-auth-required"===m?.code)m.resolver=new uf(D,function Ds(D,m){var y;const A=(0,ee.m9)(D),Z=m;return Ye(m.customData.operationType,A,"argument-error"),Ye(null===(y=Z.customData._serverResponse)||void 0===y?void 0:y.mfaPendingCredential,A,"argument-error"),Pr._fromError(A,Z)}(D,m));else if(A){const Z=To(m),oe=m;Z&&(oe.credential=Z,oe.tenantId=A.tenantId||void 0,oe.email=A.email||void 0,oe.phoneNumber=A.phoneNumber||void 0)}}(D,y),y}).then(y=>{const Z=y.user;return{operationType:y.operationType,credential:af(y),additionalUserInfo:li(y),user:nl.getOrCreate(Z)}})}function ql(D,m){return ad.apply(this,arguments)}function ad(){return(ad=(0,a.Z)(function*(D,m){const y=yield m;return{verificationId:y.verificationId,confirm:A=>Ba(D,y.confirm(A))}})).apply(this,arguments)}class uf{constructor(m,y){this.resolver=y,this.auth=function Cc(D){return D.wrapped()}(m)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(m){return Ba(Ro(this.auth),this.resolver.resolveSignIn(m))}}class nl{constructor(m){this._delegate=m,this.multiFactor=function Zs(D){const m=(0,ee.m9)(D);return yi.has(m)||yi.set(m,Ar._fromUser(m)),yi.get(m)}(m)}static getOrCreate(m){return nl.USER_MAP.has(m)||nl.USER_MAP.set(m,new nl(m)),nl.USER_MAP.get(m)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(m){return this._delegate.getIdTokenResult(m)}getIdToken(m){return this._delegate.getIdToken(m)}linkAndRetrieveDataWithCredential(m){return this.linkWithCredential(m)}linkWithCredential(m){var y=this;return(0,a.Z)(function*(){return Ba(y.auth,z(y._delegate,m))})()}linkWithPhoneNumber(m,y){var A=this;return(0,a.Z)(function*(){return ql(A.auth,function S(D,m,y){return O.apply(this,arguments)}(A._delegate,m,y))})()}linkWithPopup(m){var y=this;return(0,a.Z)(function*(){return Ba(y.auth,function Mu(D,m,y){return ed.apply(this,arguments)}(y._delegate,m,co))})()}linkWithRedirect(m){var y=this;return(0,a.Z)(function*(){return yield Kl($r(y.auth)),oa(y._delegate,m,co)})()}reauthenticateAndRetrieveDataWithCredential(m){return this.reauthenticateWithCredential(m)}reauthenticateWithCredential(m){var y=this;return(0,a.Z)(function*(){return Ba(y.auth,le(y._delegate,m))})()}reauthenticateWithPhoneNumber(m,y){return ql(this.auth,function E(D,m,y){return F.apply(this,arguments)}(this._delegate,m,y))}reauthenticateWithPopup(m){return Ba(this.auth,function Ku(D,m,y){return vu.apply(this,arguments)}(this._delegate,m,co))}reauthenticateWithRedirect(m){var y=this;return(0,a.Z)(function*(){return yield Kl($r(y.auth)),wd(y._delegate,m,co)})()}sendEmailVerification(m){return function ni(D,m){return qe.apply(this,arguments)}(this._delegate,m)}unlink(m){var y=this;return(0,a.Z)(function*(){return yield function Oa(D,m){return mo.apply(this,arguments)}(y._delegate,m),y})()}updateEmail(m){return function lr(D,m){return Vi((0,ee.m9)(D),m,null)}(this._delegate,m)}updatePassword(m){return function Bs(D,m){return Vi((0,ee.m9)(D),null,m)}(this._delegate,m)}updatePhoneNumber(m){return function pe(D,m){return rt.apply(this,arguments)}(this._delegate,m)}updateProfile(m){return function Yr(D,m){return ui.apply(this,arguments)}(this._delegate,m)}verifyBeforeUpdateEmail(m,y){return function Rt(D,m,y){return Tt.apply(this,arguments)}(this._delegate,m,y)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}nl.USER_MAP=new WeakMap;const ud=Ye;let Rh=(()=>{class D{constructor(y,A){if(this.app=y,A.isInitialized())return this._delegate=A.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Z}=y.options;ud(Z,"invalid-api-key",{appName:y.name}),ud(Z,"invalid-api-key",{appName:y.name});const oe=typeof window<"u"?co:void 0;this._delegate=A.initialize({options:{persistence:nu(Z,y.name),popupRedirectResolver:oe}}),this._delegate._updateErrorMap(Ft),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?nl.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(y){this._delegate.languageCode=y}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(y){this._delegate.tenantId=y}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(y,A){!function Ks(D,m,y){const A=$r(D);Ye(A._canInitEmulator,A,"emulator-config-failed"),Ye(/^https?:\/\//.test(m),A,"invalid-emulator-scheme");const Z=!!y?.disableWarnings,oe=Is(m),{host:Ne,port:bt}=function Er(D){const m=Is(D),y=/(\/\/)?([^?#/]+)/.exec(D.substr(m.length));if(!y)return{host:"",port:null};const A=y[2].split("@").pop()||"",Z=/^(\[[^\]]+\])(:|$)/.exec(A);if(Z){const oe=Z[1];return{host:oe,port:bo(A.substr(oe.length+1))}}{const[oe,Ne]=A.split(":");return{host:oe,port:bo(Ne)}}}(m);A.config.emulator={url:`${oe}//${Ne}${null===bt?"":`:${bt}`}/`},A.settings.appVerificationDisabledForTesting=!0,A.emulatorConfig=Object.freeze({host:Ne,port:bt,protocol:oe.replace(":",""),options:Object.freeze({disableWarnings:Z})}),Z||function qs(){function D(){const m=document.createElement("p"),y=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",y.position="fixed",y.width="100%",y.backgroundColor="#ffffff",y.border=".1em solid #000000",y.color="#b50000",y.bottom="0px",y.left="0px",y.margin="0px",y.zIndex="10000",y.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",D):D())}()}(this._delegate,y,A)}applyActionCode(y){return function hl(D,m){return Gu.apply(this,arguments)}(this._delegate,y)}checkActionCode(y){return se(this._delegate,y)}confirmPasswordReset(y,A){return function ra(D,m,y){return dl.apply(this,arguments)}(this._delegate,y,A)}createUserWithEmailAndPassword(y,A){var Z=this;return(0,a.Z)(function*(){return Ba(Z._delegate,function ne(D,m,y){return me.apply(this,arguments)}(Z._delegate,y,A))})()}fetchProvidersForEmail(y){return this.fetchSignInMethodsForEmail(y)}fetchSignInMethodsForEmail(y){return function Cr(D,m){return Dr.apply(this,arguments)}(this._delegate,y)}isSignInWithEmailLink(y){return function Ht(D,m){return"EMAIL_SIGNIN"===ga.parseLink(m)?.operation}(0,y)}getRedirectResult(){var y=this;return(0,a.Z)(function*(){ud(Pu(),y._delegate,"operation-not-supported-in-this-environment");const A=yield function Wd(D,m){return xs.apply(this,arguments)}(y._delegate,co);return A?Ba(y._delegate,Promise.resolve(A)):{credential:null,user:null}})()}addFrameworkForLogging(y){!function Du(D,m){$r(D)._logFramework(m)}(this._delegate,y)}onAuthStateChanged(y,A,Z){const{next:oe,error:Ne,complete:bt}=lc(y,A,Z);return this._delegate.onAuthStateChanged(oe,Ne,bt)}onIdTokenChanged(y,A,Z){const{next:oe,error:Ne,complete:bt}=lc(y,A,Z);return this._delegate.onIdTokenChanged(oe,Ne,bt)}sendSignInLinkToEmail(y,A){return function He(D,m,y){return wt.apply(this,arguments)}(this._delegate,y,A)}sendPasswordResetEmail(y,A){return function va(D,m,y){return Eo.apply(this,arguments)}(this._delegate,y,A||void 0)}setPersistence(y){var A=this;return(0,a.Z)(function*(){let Z;switch(function bl(D,m){Dc(Object.values(Us).includes(m),D,"invalid-persistence-type"),(0,ee.b$)()?Dc(m!==Us.SESSION,D,"unsupported-persistence-type"):(0,ee.UG)()?Dc(m===Us.NONE,D,"unsupported-persistence-type"):Wl()?Dc(m===Us.NONE||m===Us.LOCAL&&(0,ee.hl)(),D,"unsupported-persistence-type"):Dc(m===Us.NONE||xn(),D,"unsupported-persistence-type")}(A._delegate,y),y){case Us.SESSION:Z=Iu;break;case Us.LOCAL:Z=(yield Ue(Go)._isAvailable())?Go:Cs;break;case Us.NONE:Z=qt;break;default:return Se("argument-error",{appName:A._delegate.name})}return A._delegate.setPersistence(Z)})()}signInAndRetrieveDataWithCredential(y){return this.signInWithCredential(y)}signInAnonymously(){return Ba(this._delegate,function Ai(D){return Ei.apply(this,arguments)}(this._delegate))}signInWithCredential(y){return Ba(this._delegate,ao(this._delegate,y))}signInWithCustomToken(y){return Ba(this._delegate,function xt(D,m){return Hr.apply(this,arguments)}(this._delegate,y))}signInWithEmailAndPassword(y,A){return Ba(this._delegate,function Be(D,m,y){return ao((0,ee.m9)(D),Ma.credential(m,y))}(this._delegate,y,A))}signInWithEmailLink(y,A){return Ba(this._delegate,function Hn(D,m,y){return qn.apply(this,arguments)}(this._delegate,y,A))}signInWithPhoneNumber(y,A){return ql(this._delegate,function Su(D,m,y){return ia.apply(this,arguments)}(this._delegate,y,A))}signInWithPopup(y){var A=this;return(0,a.Z)(function*(){return ud(Pu(),A._delegate,"operation-not-supported-in-this-environment"),Ba(A._delegate,function Au(D,m,y){return Nu.apply(this,arguments)}(A._delegate,y,co))})()}signInWithRedirect(y){var A=this;return(0,a.Z)(function*(){return ud(Pu(),A._delegate,"operation-not-supported-in-this-environment"),yield Kl(A._delegate),Qa(A._delegate,y,co)})()}updateCurrentUser(y){return this._delegate.updateCurrentUser(y)}verifyPasswordResetCode(y){return function M(D,m){return $.apply(this,arguments)}(this._delegate,y)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return D.Persistence=Us,D})();function lc(D,m,y){let A=D;"function"!=typeof D&&({next:A,error:m,complete:y}=D);const Z=A;return{next:Ne=>Z(Ne&&nl.getOrCreate(Ne)),error:m,complete:y}}function nu(D,m){const y=function Tc(D,m){const y=Xd();if(!y)return[];const A=Ee(Md,D,m);switch(y.getItem(A)){case Us.NONE:return[qt];case Us.LOCAL:return[Go,Iu];case Us.SESSION:return[Iu];default:return[]}}(D,m);if(typeof self<"u"&&!y.includes(Go)&&y.push(Go),typeof window<"u")for(const A of[Cs,Iu])y.includes(A)||y.push(A);return y.includes(qt)||y.push(qt),y}class Ic{constructor(){this.providerId="phone",this._delegate=new nn(Ro(V.Z.auth()))}static credential(m,y){return nn.credential(m,y)}verifyPhoneNumber(m,y){return this._delegate.verifyPhoneNumber(m,y)}unwrap(){return this._delegate}}Ic.PHONE_SIGN_IN_METHOD=nn.PHONE_SIGN_IN_METHOD,Ic.PROVIDER_ID=nn.PROVIDER_ID;const lf=Ye;class th{constructor(m,y,A=V.Z.app()){var Z;lf(null===(Z=A.options)||void 0===Z?void 0:Z.apiKey,"invalid-api-key",{appName:A.name}),this._delegate=new Wu(m,y,A.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ld(D){D.INTERNAL.registerComponent(new je.wA("auth-compat",m=>{const y=m.getProvider("app-compat").getImmediate(),A=m.getProvider("auth");return new Rh(y,A)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:xe_EMAIL_SIGNIN,PASSWORD_RESET:xe_PASSWORD_RESET,RECOVER_EMAIL:xe_RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:xe_REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:xe_VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:xe_VERIFY_EMAIL}},EmailAuthProvider:Ma,FacebookAuthProvider:ma,GithubAuthProvider:ou,GoogleAuthProvider:ja,OAuthProvider:oo,SAMLAuthProvider:wo,PhoneAuthProvider:Ic,PhoneMultiFactorGenerator:vc,RecaptchaVerifier:th,TwitterAuthProvider:go,Auth:Rh,AuthCredential:no,Error:ee.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),D.registerVersion("@firebase/auth-compat","0.4.2")}(V.Z)},1933:(Nn,lt,Y)=>{"use strict";function a(Ge){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(yt){return typeof yt}:function(yt){return yt&&"function"==typeof Symbol&&yt.constructor===Symbol&&yt!==Symbol.prototype?"symbol":typeof yt})(Ge)}function fe(Ge,yt,Ke){return(yt=function ee(Ge){var yt=function V(Ge,yt){if("object"!==a(Ge)||null===Ge)return Ge;var Ke=Ge[Symbol.toPrimitive];if(void 0!==Ke){var pt=Ke.call(Ge,yt||"default");if("object"!==a(pt))return pt;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===yt?String:Number)(Ge)}(Ge,"string");return"symbol"===a(yt)?yt:String(yt)}(yt))in Ge?Object.defineProperty(Ge,yt,{value:Ke,enumerable:!0,configurable:!0,writable:!0}):Ge[yt]=Ke,Ge}Y.d(lt,{Rh:()=>Lt,_W:()=>_t});var re=Y(2560),Te=Y(4851),je=Y(4666),$e=Y(253),et=Y(4497);const De=["toast-component",""];function be(Ge,yt){if(1&Ge){const Ke=re.EpF();re.TgZ(0,"button",5),re.NdJ("click",function(){re.CHM(Ke);const Tn=re.oxw();return re.KtG(Tn.remove())}),re.TgZ(1,"span",6),re._uU(2,"\xd7"),re.qZA()()}}function xe(Ge,yt){if(1&Ge&&(re.ynx(0),re._uU(1),re.BQk()),2&Ge){const Ke=re.oxw(2);re.xp6(1),re.hij("[",Ke.duplicatesCount+1,"]")}}function Vt(Ge,yt){if(1&Ge&&(re.TgZ(0,"div"),re._uU(1),re.YNc(2,xe,2,1,"ng-container",4),re.qZA()),2&Ge){const Ke=re.oxw();re.Tol(Ke.options.titleClass),re.uIk("aria-label",Ke.title),re.xp6(1),re.hij(" ",Ke.title," "),re.xp6(1),re.Q6J("ngIf",Ke.duplicatesCount)}}function st(Ge,yt){if(1&Ge&&re._UZ(0,"div",7),2&Ge){const Ke=re.oxw();re.Tol(Ke.options.messageClass),re.Q6J("innerHTML",Ke.message,re.oJD)}}function Ft(Ge,yt){if(1&Ge&&(re.TgZ(0,"div",8),re._uU(1),re.qZA()),2&Ge){const Ke=re.oxw();re.Tol(Ke.options.messageClass),re.uIk("aria-label",Ke.message),re.xp6(1),re.hij(" ",Ke.message," ")}}function Gt(Ge,yt){if(1&Ge&&(re.TgZ(0,"div"),re._UZ(1,"div",9),re.qZA()),2&Ge){const Ke=re.oxw();re.xp6(1),re.Udp("width",Ke.width+"%")}}class Yt{constructor(yt,Ke){fe(this,"_attachedHost",void 0),fe(this,"component",void 0),fe(this,"viewContainerRef",void 0),fe(this,"injector",void 0),this.component=yt,this.injector=Ke}attach(yt,Ke){return this._attachedHost=yt,yt.attach(this,Ke)}detach(){const yt=this._attachedHost;if(yt)return this._attachedHost=void 0,yt.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(yt){this._attachedHost=yt}}class Ut{constructor(){fe(this,"_attachedPortal",void 0),fe(this,"_disposeFn",void 0)}attach(yt,Ke){return this._attachedPortal=yt,this.attachComponentPortal(yt,Ke)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(yt){this._disposeFn=yt}}class ft{constructor(yt){fe(this,"_overlayRef",void 0),fe(this,"componentInstance",void 0),fe(this,"duplicatesCount",0),fe(this,"_afterClosed",new $e.x),fe(this,"_activate",new $e.x),fe(this,"_manualClose",new $e.x),fe(this,"_resetTimeout",new $e.x),fe(this,"_countDuplicate",new $e.x),this._overlayRef=yt}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(yt,Ke){yt&&this._resetTimeout.next(),Ke&&this._countDuplicate.next(++this.duplicatesCount)}}class Ye{constructor(yt,Ke,pt,Tn,zn,jn){fe(this,"toastId",void 0),fe(this,"config",void 0),fe(this,"message",void 0),fe(this,"title",void 0),fe(this,"toastType",void 0),fe(this,"toastRef",void 0),fe(this,"_onTap",new $e.x),fe(this,"_onAction",new $e.x),this.toastId=yt,this.config=Ke,this.message=pt,this.title=Tn,this.toastType=zn,this.toastRef=jn,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(yt){this._onAction.next(yt)}onAction(){return this._onAction.asObservable()}}const en=new re.OlP("ToastConfig");class Bn extends Ut{constructor(yt,Ke,pt){super(),fe(this,"_hostDomElement",void 0),fe(this,"_componentFactoryResolver",void 0),fe(this,"_appRef",void 0),this._hostDomElement=yt,this._componentFactoryResolver=Ke,this._appRef=pt}attachComponentPortal(yt,Ke){const pt=this._componentFactoryResolver.resolveComponentFactory(yt.component);let Tn;return Tn=pt.create(yt.injector),this._appRef.attachView(Tn.hostView),this.setDisposeFn(()=>{this._appRef.detachView(Tn.hostView),Tn.destroy()}),Ke?this._hostDomElement.insertBefore(this._getComponentRootNode(Tn),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(Tn)),Tn}_getComponentRootNode(yt){return yt.hostView.rootNodes[0]}}let Dn=(()=>{class Ge{constructor(){fe(this,"_document",(0,re.f3M)(je.K0)),fe(this,"_containerElement",void 0)}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const Ke=this._document.createElement("div");Ke.classList.add("overlay-container"),Ke.setAttribute("aria-live","polite"),this._document.body.appendChild(Ke),this._containerElement=Ke}}return fe(Ge,"\u0275fac",function(Ke){return new(Ke||Ge)}),fe(Ge,"\u0275prov",re.Yz7({token:Ge,factory:Ge.\u0275fac,providedIn:"root"})),Ge})();class qi{constructor(yt){fe(this,"_portalHost",void 0),this._portalHost=yt}attach(yt,Ke=!0){return this._portalHost.attach(yt,Ke)}detach(){return this._portalHost.detach()}}let It=(()=>{class Ge{constructor(){fe(this,"_overlayContainer",(0,re.f3M)(Dn)),fe(this,"_componentFactoryResolver",(0,re.f3M)(re._Vd)),fe(this,"_appRef",(0,re.f3M)(re.z2F)),fe(this,"_document",(0,re.f3M)(je.K0)),fe(this,"_paneElements",new Map)}create(Ke,pt){return this._createOverlayRef(this.getPaneElement(Ke,pt))}getPaneElement(Ke="",pt){return this._paneElements.get(pt)||this._paneElements.set(pt,{}),this._paneElements.get(pt)[Ke]||(this._paneElements.get(pt)[Ke]=this._createPaneElement(Ke,pt)),this._paneElements.get(pt)[Ke]}_createPaneElement(Ke,pt){const Tn=this._document.createElement("div");return Tn.id="toast-container",Tn.classList.add(Ke),Tn.classList.add("toast-container"),pt?pt.getContainerElement().appendChild(Tn):this._overlayContainer.getContainerElement().appendChild(Tn),Tn}_createPortalHost(Ke){return new Bn(Ke,this._componentFactoryResolver,this._appRef)}_createOverlayRef(Ke){return new qi(this._createPortalHost(Ke))}}return fe(Ge,"\u0275fac",function(Ke){return new(Ke||Ge)}),fe(Ge,"\u0275prov",re.Yz7({token:Ge,factory:Ge.\u0275fac,providedIn:"root"})),Ge})(),_t=(()=>{class Ge{constructor(Ke,pt,Tn,zn,jn){fe(this,"overlay",void 0),fe(this,"_injector",void 0),fe(this,"sanitizer",void 0),fe(this,"ngZone",void 0),fe(this,"toastrConfig",void 0),fe(this,"currentlyActive",0),fe(this,"toasts",[]),fe(this,"overlayContainer",void 0),fe(this,"previousToastMessage",void 0),fe(this,"index",0),this.overlay=pt,this._injector=Tn,this.sanitizer=zn,this.ngZone=jn,this.toastrConfig={...Ke.default,...Ke.config},Ke.config.iconClasses&&(this.toastrConfig.iconClasses={...Ke.default.iconClasses,...Ke.config.iconClasses})}show(Ke,pt,Tn={},zn=""){return this._preBuildNotification(zn,Ke,pt,this.applyConfig(Tn))}success(Ke,pt,Tn={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",Ke,pt,this.applyConfig(Tn))}error(Ke,pt,Tn={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",Ke,pt,this.applyConfig(Tn))}info(Ke,pt,Tn={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",Ke,pt,this.applyConfig(Tn))}warning(Ke,pt,Tn={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",Ke,pt,this.applyConfig(Tn))}clear(Ke){for(const pt of this.toasts)if(void 0!==Ke){if(pt.toastId===Ke)return void pt.toastRef.manualClose()}else pt.toastRef.manualClose()}remove(Ke){const pt=this._findToast(Ke);if(!pt||(pt.activeToast.toastRef.close(),this.toasts.splice(pt.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const Tn=this.toasts[this.currentlyActive].toastRef;Tn.isInactive()||(this.currentlyActive=this.currentlyActive+1,Tn.activate())}return!0}findDuplicate(Ke="",pt="",Tn,zn){const{includeTitleDuplicates:jn}=this.toastrConfig;for(const pr of this.toasts)if((!jn||jn&&pr.title===Ke)&&pr.message===pt)return pr.toastRef.onDuplicate(Tn,zn),pr;return null}applyConfig(Ke={}){return{...this.toastrConfig,...Ke}}_findToast(Ke){for(let pt=0;pt<this.toasts.length;pt++)if(this.toasts[pt].toastId===Ke)return{index:pt,activeToast:this.toasts[pt]};return null}_preBuildNotification(Ke,pt,Tn,zn){return zn.onActivateTick?this.ngZone.run(()=>this._buildNotification(Ke,pt,Tn,zn)):this._buildNotification(Ke,pt,Tn,zn)}_buildNotification(Ke,pt,Tn,zn){if(!zn.toastComponent)throw new Error("toastComponent required");const jn=this.findDuplicate(Tn,pt,this.toastrConfig.resetTimeoutOnDuplicate&&zn.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&Tn||pt)&&this.toastrConfig.preventDuplicates&&null!==jn)return jn;this.previousToastMessage=pt;let pr=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(pr=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const ii=this.overlay.create(zn.positionClass,this.overlayContainer);this.index=this.index+1;let rs=pt;pt&&zn.enableHtml&&(rs=this.sanitizer.sanitize(re.q3G.HTML,pt));const di=new ft(ii),Jt=new Ye(this.index,zn,rs,Tn,Ke,di),jr=re.zs3.create({providers:[{provide:Ye,useValue:Jt}],parent:this._injector}),hi=new Yt(zn.toastComponent,jr),Vr=ii.attach(hi,zn.newestOnTop);di.componentInstance=Vr.instance;const bi={toastId:this.index,title:Tn||"",message:pt||"",toastRef:di,onShown:di.afterActivate(),onHidden:di.afterClosed(),onTap:Jt.onTap(),onAction:Jt.onAction(),portal:Vr};return pr||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{bi.toastRef.activate()})),this.toasts.push(bi),bi}}return fe(Ge,"\u0275fac",function(Ke){return new(Ke||Ge)(re.LFG(en),re.LFG(It),re.LFG(re.zs3),re.LFG(et.H7),re.LFG(re.R0b))}),fe(Ge,"\u0275prov",re.Yz7({token:Ge,factory:Ge.\u0275fac,providedIn:"root"})),Ge})();const Ct={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:(()=>{class Ge{get displayStyle(){if("inactive"===this.state.value)return"none"}constructor(Ke,pt,Tn){fe(this,"toastrService",void 0),fe(this,"toastPackage",void 0),fe(this,"ngZone",void 0),fe(this,"message",void 0),fe(this,"title",void 0),fe(this,"options",void 0),fe(this,"duplicatesCount",void 0),fe(this,"originalTimeout",void 0),fe(this,"width",-1),fe(this,"toastClasses",""),fe(this,"state",void 0),fe(this,"timeout",void 0),fe(this,"intervalId",void 0),fe(this,"hideTime",void 0),fe(this,"sub",void 0),fe(this,"sub1",void 0),fe(this,"sub2",void 0),fe(this,"sub3",void 0),this.toastrService=Ke,this.toastPackage=pt,this.ngZone=Tn,this.message=pt.message,this.title=pt.title,this.options=pt.config,this.originalTimeout=pt.config.timeOut,this.toastClasses=`${pt.toastType} ${pt.config.toastClass}`,this.sub=pt.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=pt.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=pt.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=pt.toastRef.countDuplicate().subscribe(zn=>{this.duplicatesCount=zn}),this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}}}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const Ke=(new Date).getTime();this.width=(this.hideTime-Ke)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(Ke,pt){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(Ke),pt)):this.timeout=setTimeout(()=>Ke(),pt)}outsideInterval(Ke,pt){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(Ke),pt)):this.intervalId=setInterval(()=>Ke(),pt)}runInsideAngular(Ke){this.ngZone?this.ngZone.run(()=>Ke()):Ke()}}return fe(Ge,"\u0275fac",function(Ke){return new(Ke||Ge)(re.Y36(_t),re.Y36(Ye),re.Y36(re.R0b))}),fe(Ge,"\u0275cmp",re.Xpm({type:Ge,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(Ke,pt){1&Ke&&re.NdJ("click",function(){return pt.tapToast()})("mouseenter",function(){return pt.stickAround()})("mouseleave",function(){return pt.delayedHideToast()}),2&Ke&&(re.d8E("@flyInOut",pt.state),re.Tol(pt.toastClasses),re.Udp("display",pt.displayStyle))},standalone:!0,features:[re.jDz],attrs:De,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(Ke,pt){1&Ke&&(re.YNc(0,be,3,0,"button",0),re.YNc(1,Vt,3,5,"div",1),re.YNc(2,st,1,3,"div",2),re.YNc(3,Ft,2,4,"div",3),re.YNc(4,Gt,2,2,"div",4)),2&Ke&&(re.Q6J("ngIf",pt.options.closeButton),re.xp6(1),re.Q6J("ngIf",pt.title),re.xp6(1),re.Q6J("ngIf",pt.message&&pt.options.enableHtml),re.xp6(1),re.Q6J("ngIf",pt.message&&!pt.options.enableHtml),re.xp6(1),re.Q6J("ngIf",pt.options.progressBar))},dependencies:[je.O5],encapsulation:2,data:{animation:[(0,Te.X$)("flyInOut",[(0,Te.SB)("inactive",(0,Te.oB)({opacity:0})),(0,Te.SB)("active",(0,Te.oB)({opacity:1})),(0,Te.SB)("removed",(0,Te.oB)({opacity:0})),(0,Te.eR)("inactive => active",(0,Te.jt)("{{ easeTime }}ms {{ easing }}")),(0,Te.eR)("active => removed",(0,Te.jt)("{{ easeTime }}ms {{ easing }}"))])]}})),Ge})()},Wt=(Ge={})=>(0,re.MR2)([{provide:en,useValue:{default:Ct,config:Ge}}]);let Lt=(()=>{class Ge{static forRoot(Ke={}){return{ngModule:Ge,providers:[Wt(Ke)]}}}return fe(Ge,"\u0275fac",function(Ke){return new(Ke||Ge)}),fe(Ge,"\u0275mod",re.oAB({type:Ge})),fe(Ge,"\u0275inj",re.cJS({})),Ge})()},1670:(Nn,lt,Y)=>{"use strict";function a(ee,fe,re,Te,je,$e,et){try{var De=ee[$e](et),be=De.value}catch(xe){return void re(xe)}De.done?fe(be):Promise.resolve(be).then(Te,je)}function V(ee){return function(){var fe=this,re=arguments;return new Promise(function(Te,je){var $e=ee.apply(fe,re);function et(be){a($e,Te,je,et,De,"next",be)}function De(be){a($e,Te,je,et,De,"throw",be)}et(void 0)})}}Y.d(lt,{Z:()=>V})},2321:(Nn,lt,Y)=>{"use strict";function fe(It,_t){var Ot={};for(var Ct in It)Object.prototype.hasOwnProperty.call(It,Ct)&&_t.indexOf(Ct)<0&&(Ot[Ct]=It[Ct]);if(null!=It&&"function"==typeof Object.getOwnPropertySymbols){var Wt=0;for(Ct=Object.getOwnPropertySymbols(It);Wt<Ct.length;Wt++)_t.indexOf(Ct[Wt])<0&&Object.prototype.propertyIsEnumerable.call(It,Ct[Wt])&&(Ot[Ct[Wt]]=It[Ct[Wt]])}return Ot}function xe(It,_t,Ot,Ct){return new(Ot||(Ot=Promise))(function(Lt,$t){function hn(Ge){try{vn(Ct.next(Ge))}catch(yt){$t(yt)}}function yn(Ge){try{vn(Ct.throw(Ge))}catch(yt){$t(yt)}}function vn(Ge){Ge.done?Lt(Ge.value):function Wt(Lt){return Lt instanceof Ot?Lt:new Ot(function($t){$t(Lt)})}(Ge.value).then(hn,yn)}vn((Ct=Ct.apply(It,_t||[])).next())})}function ct(It){return this instanceof ct?(this.v=It,this):new ct(It)}function Se(It,_t,Ot){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Wt,Ct=Ot.apply(It,_t||[]),Lt=[];return Wt={},$t("next"),$t("throw"),$t("return"),Wt[Symbol.asyncIterator]=function(){return this},Wt;function $t(Ke){Ct[Ke]&&(Wt[Ke]=function(pt){return new Promise(function(Tn,zn){Lt.push([Ke,pt,Tn,zn])>1||hn(Ke,pt)})})}function hn(Ke,pt){try{!function yn(Ke){Ke.value instanceof ct?Promise.resolve(Ke.value.v).then(vn,Ge):yt(Lt[0][2],Ke)}(Ct[Ke](pt))}catch(Tn){yt(Lt[0][3],Tn)}}function vn(Ke){hn("next",Ke)}function Ge(Ke){hn("throw",Ke)}function yt(Ke,pt){Ke(pt),Lt.shift(),Lt.length&&hn(Lt[0][0],Lt[0][1])}}function Yt(It){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ot,_t=It[Symbol.asyncIterator];return _t?_t.call(It):(It=function Gt(It){var _t="function"==typeof Symbol&&Symbol.iterator,Ot=_t&&It[_t],Ct=0;if(Ot)return Ot.call(It);if(It&&"number"==typeof It.length)return{next:function(){return It&&Ct>=It.length&&(It=void 0),{value:It&&It[Ct++],done:!It}}};throw new TypeError(_t?"Object is not iterable.":"Symbol.iterator is not defined.")}(It),Ot={},Ct("next"),Ct("throw"),Ct("return"),Ot[Symbol.asyncIterator]=function(){return this},Ot);function Ct(Lt){Ot[Lt]=It[Lt]&&function($t){return new Promise(function(hn,yn){!function Wt(Lt,$t,hn,yn){Promise.resolve(yn).then(function(vn){Lt({value:vn,done:hn})},$t)}(hn,yn,($t=It[Lt]($t)).done,$t.value)})}}}Y.d(lt,{FC:()=>Se,KL:()=>Yt,_T:()=>fe,mG:()=>xe,qq:()=>ct})}}]);
//# sourceMappingURL=vendor.887626c979255452.js.map